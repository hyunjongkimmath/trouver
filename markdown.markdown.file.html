<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Functions for parsing markdown files">

<title>markdown.markdown.file – trouver</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ebc57992554dae5230fa85c1bd5a55fa.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="markdown.markdown.file – trouver">
<meta property="og:description" content="Functions for parsing markdown files">
<meta property="og:site_name" content="trouver">
<meta name="twitter:title" content="markdown.markdown.file – trouver">
<meta name="twitter:description" content="Functions for parsing markdown files">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">trouver</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./markdown.markdown.file.html">markdown.markdown.file</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">trouver</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.vault.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.vault</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.markdown.file.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">markdown.markdown.file</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.markdown.heading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.markdown.heading</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.tags.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.tags</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.footnotes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.footnotes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.reference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obisidian.personal.authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.authors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.index_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.index_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.note_type.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.note_type</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.convert.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.convert</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.notations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.note_processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.note_processing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.notation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.information_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.information_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learninig.database_update.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.database_update</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.information_note_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.information_note_types</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notation_identification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.notation_identification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notation_summarization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.notation_summarization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.tokenize.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.tokenize</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.vault.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.vault</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.divide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.divide</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.folders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.folders</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.formatting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.formatting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.preamble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.preamble</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.comments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex.comments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.machine_learning.notation_linking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.notation_linking</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.definition_and_notation_naming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.definition_and_notation_naming</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.regex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.definition_and_notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.definition_and_notation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.numbers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./41_helper.accented_characters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">41_helper.accented_characters.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.date_and_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.date_and_time</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./43_helper.topological_sort.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topological sort</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./44_helper.alphabet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Alphabet</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.path_accepted_string.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.path_accepted_string</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./46_helper.files_and_folders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Files and folders</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.macros_and_commands.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex.macros_and_commands</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.arxiv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.arxiv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.vault_and_links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.vault_and_links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.parse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.notation.parse</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.in_standard_information_note.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.notation.in_standard_information_note</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.note_division.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.note_division</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>app.__init__</code></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./todo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TODO list</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_to.install_trouver.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">how_to.install_trouver</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_to.train_ml_model.fastai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">how_to.train_ml_model.fastai</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">release_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./star.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorial.concise_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tutorial.concise_code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorial.walkthrough.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tutorial.walkthrough</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./unused.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./using_regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Regex</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#frontmatter-meta" id="toc-frontmatter-meta" class="nav-link active" data-scroll-target="#frontmatter-meta">Frontmatter meta</a>
  <ul class="collapse">
  <li><a href="#find_front_matter_meta_in_markdown_text" id="toc-find_front_matter_meta_in_markdown_text" class="nav-link" data-scroll-target="#find_front_matter_meta_in_markdown_text">find_front_matter_meta_in_markdown_text</a></li>
  <li><a href="#dict_to_metadata_lines" id="toc-dict_to_metadata_lines" class="nav-link" data-scroll-target="#dict_to_metadata_lines">dict_to_metadata_lines</a></li>
  <li><a href="#parse_metadata_string" id="toc-parse_metadata_string" class="nav-link" data-scroll-target="#parse_metadata_string">parse_metadata_string</a></li>
  </ul></li>
  <li><a href="#replace-embedded-links-with-text" id="toc-replace-embedded-links-with-text" class="nav-link" data-scroll-target="#replace-embedded-links-with-text">Replace embedded links with text</a>
  <ul class="collapse">
  <li><a href="#replace_embedded_links_with_text" id="toc-replace_embedded_links_with_text" class="nav-link" data-scroll-target="#replace_embedded_links_with_text">replace_embedded_links_with_text</a></li>
  </ul></li>
  <li><a href="#markdownfile-class" id="toc-markdownfile-class" class="nav-link" data-scroll-target="#markdownfile-class">MarkdownFile class</a>
  <ul class="collapse">
  <li><a href="#markdownlineenum" id="toc-markdownlineenum" class="nav-link" data-scroll-target="#markdownlineenum">MarkdownLineEnum</a></li>
  <li><a href="#markdownfile" id="toc-markdownfile" class="nav-link" data-scroll-target="#markdownfile">MarkdownFile</a></li>
  </ul></li>
  <li><a href="#example-text-and-example-vault-used-in-the-rest-of-the-page" id="toc-example-text-and-example-vault-used-in-the-rest-of-the-page" class="nav-link" data-scroll-target="#example-text-and-example-vault-used-in-the-rest-of-the-page">Example text and example vault used in the rest of the page</a></li>
  <li><a href="#constructing-a-markdownfile-object" id="toc-constructing-a-markdownfile-object" class="nav-link" data-scroll-target="#constructing-a-markdownfile-object">Constructing a <code>MarkdownFile</code> object</a>
  <ul class="collapse">
  <li><a href="#markdownfile.from_vault_note" id="toc-markdownfile.from_vault_note" class="nav-link" data-scroll-target="#markdownfile.from_vault_note">MarkdownFile.from_vault_note</a></li>
  <li><a href="#markdownfile.from_file" id="toc-markdownfile.from_file" class="nav-link" data-scroll-target="#markdownfile.from_file">MarkdownFile.from_file</a></li>
  <li><a href="#markdownfile.from_list" id="toc-markdownfile.from_list" class="nav-link" data-scroll-target="#markdownfile.from_list">MarkdownFile.from_list</a></li>
  <li><a href="#markdownfile.from_string" id="toc-markdownfile.from_string" class="nav-link" data-scroll-target="#markdownfile.from_string">MarkdownFile.from_string</a></li>
  </ul></li>
  <li><a href="#getting-headings-of-a-markdownfile-object" id="toc-getting-headings-of-a-markdownfile-object" class="nav-link" data-scroll-target="#getting-headings-of-a-markdownfile-object">Getting headings of a <code>MarkdownFile</code> object</a>
  <ul class="collapse">
  <li><a href="#markdownfile.get_headings" id="toc-markdownfile.get_headings" class="nav-link" data-scroll-target="#markdownfile.get_headings">MarkdownFile.get_headings</a></li>
  <li><a href="#markdownfile.get_headings_by_line_number" id="toc-markdownfile.get_headings_by_line_number" class="nav-link" data-scroll-target="#markdownfile.get_headings_by_line_number">MarkdownFile.get_headings_by_line_number</a></li>
  <li><a href="#markdownfile.get_headings_and_text" id="toc-markdownfile.get_headings_and_text" class="nav-link" data-scroll-target="#markdownfile.get_headings_and_text">MarkdownFile.get_headings_and_text</a></li>
  <li><a href="#markdownfile.get_headings_tree" id="toc-markdownfile.get_headings_tree" class="nav-link" data-scroll-target="#markdownfile.get_headings_tree">MarkdownFile.get_headings_tree</a></li>
  <li><a href="#markdownfile.get_line_number_of_heading" id="toc-markdownfile.get_line_number_of_heading" class="nav-link" data-scroll-target="#markdownfile.get_line_number_of_heading">MarkdownFile.get_line_number_of_heading</a></li>
  <li><a href="#markdownfile.get_line_numbers_under_heading" id="toc-markdownfile.get_line_numbers_under_heading" class="nav-link" data-scroll-target="#markdownfile.get_line_numbers_under_heading">MarkdownFile.get_line_numbers_under_heading</a></li>
  </ul></li>
  <li><a href="#addingremoving-lines-in-a-markdownfile-object" id="toc-addingremoving-lines-in-a-markdownfile-object" class="nav-link" data-scroll-target="#addingremoving-lines-in-a-markdownfile-object">Adding/removing lines in a <code>MarkdownFile</code> object</a>
  <ul class="collapse">
  <li><a href="#markdownfile.insert_line" id="toc-markdownfile.insert_line" class="nav-link" data-scroll-target="#markdownfile.insert_line">MarkdownFile.insert_line</a></li>
  <li><a href="#markdownfile.remove_line" id="toc-markdownfile.remove_line" class="nav-link" data-scroll-target="#markdownfile.remove_line">MarkdownFile.remove_line</a></li>
  <li><a href="#markdownfile.remove_lines" id="toc-markdownfile.remove_lines" class="nav-link" data-scroll-target="#markdownfile.remove_lines">MarkdownFile.remove_lines</a></li>
  <li><a href="#markdownfile.pop_line" id="toc-markdownfile.pop_line" class="nav-link" data-scroll-target="#markdownfile.pop_line">MarkdownFile.pop_line</a></li>
  <li><a href="#markdownfile.add_line_to_end" id="toc-markdownfile.add_line_to_end" class="nav-link" data-scroll-target="#markdownfile.add_line_to_end">MarkdownFile.add_line_to_end</a></li>
  <li><a href="#markdownfile.add_blank_line_to_end" id="toc-markdownfile.add_blank_line_to_end" class="nav-link" data-scroll-target="#markdownfile.add_blank_line_to_end">MarkdownFile.add_blank_line_to_end</a></li>
  <li><a href="#markdownfile.add_line_in_section" id="toc-markdownfile.add_line_in_section" class="nav-link" data-scroll-target="#markdownfile.add_line_in_section">MarkdownFile.add_line_in_section</a></li>
  </ul></li>
  <li><a href="#removing-or-clearing-sections-in-a-markdownfile-object" id="toc-removing-or-clearing-sections-in-a-markdownfile-object" class="nav-link" data-scroll-target="#removing-or-clearing-sections-in-a-markdownfile-object">Removing or clearing sections in a <code>MarkdownFile</code> object</a>
  <ul class="collapse">
  <li><a href="#markdownfile.remove_section" id="toc-markdownfile.remove_section" class="nav-link" data-scroll-target="#markdownfile.remove_section">MarkdownFile.remove_section</a></li>
  <li><a href="#markdownfile.clear_section" id="toc-markdownfile.clear_section" class="nav-link" data-scroll-target="#markdownfile.clear_section">MarkdownFile.clear_section</a></li>
  <li><a href="#markdownfile.clear_all_sections" id="toc-markdownfile.clear_all_sections" class="nav-link" data-scroll-target="#markdownfile.clear_all_sections">MarkdownFile.clear_all_sections</a></li>
  </ul></li>
  <li><a href="#metadata-in-a-markdownfile-object" id="toc-metadata-in-a-markdownfile-object" class="nav-link" data-scroll-target="#metadata-in-a-markdownfile-object">Metadata in a <code>MarkdownFile</code> object</a>
  <ul class="collapse">
  <li><a href="#markdownfile.has_metadata" id="toc-markdownfile.has_metadata" class="nav-link" data-scroll-target="#markdownfile.has_metadata">MarkdownFile.has_metadata</a></li>
  <li><a href="#markdownfile.metadata_lines" id="toc-markdownfile.metadata_lines" class="nav-link" data-scroll-target="#markdownfile.metadata_lines">MarkdownFile.metadata_lines</a></li>
  <li><a href="#markdownfile.replace_metadata" id="toc-markdownfile.replace_metadata" class="nav-link" data-scroll-target="#markdownfile.replace_metadata">MarkdownFile.replace_metadata</a></li>
  <li><a href="#markdownfile.remove_metadata" id="toc-markdownfile.remove_metadata" class="nav-link" data-scroll-target="#markdownfile.remove_metadata">MarkdownFile.remove_metadata</a></li>
  <li><a href="#markdownfile.add_metadata_section" id="toc-markdownfile.add_metadata_section" class="nav-link" data-scroll-target="#markdownfile.add_metadata_section">MarkdownFile.add_metadata_section</a></li>
  </ul></li>
  <li><a href="#tags-in-markdownfile-objects" id="toc-tags-in-markdownfile-objects" class="nav-link" data-scroll-target="#tags-in-markdownfile-objects">Tags in <code>MarkdownFile</code> objects</a>
  <ul class="collapse">
  <li><a href="#markdownfile.has_tag" id="toc-markdownfile.has_tag" class="nav-link" data-scroll-target="#markdownfile.has_tag">MarkdownFile.has_tag</a></li>
  <li><a href="#markdownfile.add_tags" id="toc-markdownfile.add_tags" class="nav-link" data-scroll-target="#markdownfile.add_tags">MarkdownFile.add_tags</a></li>
  <li><a href="#markdownfile.remove_tags" id="toc-markdownfile.remove_tags" class="nav-link" data-scroll-target="#markdownfile.remove_tags">MarkdownFile.remove_tags</a></li>
  <li><a href="#markdownfile.replace_auto_tags_with_regular_tags" id="toc-markdownfile.replace_auto_tags_with_regular_tags" class="nav-link" data-scroll-target="#markdownfile.replace_auto_tags_with_regular_tags">MarkdownFile.replace_auto_tags_with_regular_tags</a></li>
  <li><a href="#markdownfile.remove_in_line_tags" id="toc-markdownfile.remove_in_line_tags" class="nav-link" data-scroll-target="#markdownfile.remove_in_line_tags">MarkdownFile.remove_in_line_tags</a></li>
  </ul></li>
  <li><a href="#extract-raw-content-from-a-markownfile-object" id="toc-extract-raw-content-from-a-markownfile-object" class="nav-link" data-scroll-target="#extract-raw-content-from-a-markownfile-object">Extract raw content from a <code>MarkownFile</code> object</a>
  <ul class="collapse">
  <li><a href="#markdownfile.replace_links_with_display_text" id="toc-markdownfile.replace_links_with_display_text" class="nav-link" data-scroll-target="#markdownfile.replace_links_with_display_text">MarkdownFile.replace_links_with_display_text</a></li>
  <li><a href="#markdownfile.remove_footnotes_to_embedded_links" id="toc-markdownfile.remove_footnotes_to_embedded_links" class="nav-link" data-scroll-target="#markdownfile.remove_footnotes_to_embedded_links">MarkdownFile.remove_footnotes_to_embedded_links</a></li>
  <li><a href="#markdownfile.remove_headers" id="toc-markdownfile.remove_headers" class="nav-link" data-scroll-target="#markdownfile.remove_headers">MarkdownFile.remove_headers</a></li>
  <li><a href="#markdownfile.remove_double_blank_lines" id="toc-markdownfile.remove_double_blank_lines" class="nav-link" data-scroll-target="#markdownfile.remove_double_blank_lines">MarkdownFile.remove_double_blank_lines</a></li>
  <li><a href="#markdownfile.replace_embedded_links_with_text" id="toc-markdownfile.replace_embedded_links_with_text" class="nav-link" data-scroll-target="#markdownfile.replace_embedded_links_with_text">MarkdownFile.replace_embedded_links_with_text</a></li>
  <li><a href="#markdownfile.remove_html_tags" id="toc-markdownfile.remove_html_tags" class="nav-link" data-scroll-target="#markdownfile.remove_html_tags">MarkdownFile.remove_html_tags</a></li>
  <li><a href="#markdownfile.merge_display_math_mode" id="toc-markdownfile.merge_display_math_mode" class="nav-link" data-scroll-target="#markdownfile.merge_display_math_mode">MarkdownFile.merge_display_math_mode</a></li>
  <li><a href="#markdownfile.merge_display_math_mode_into_preceding_text" id="toc-markdownfile.merge_display_math_mode_into_preceding_text" class="nav-link" data-scroll-target="#markdownfile.merge_display_math_mode_into_preceding_text">MarkdownFile.merge_display_math_mode_into_preceding_text</a></li>
  </ul></li>
  <li><a href="#writing-a-markdownfile-object-to-a-file" id="toc-writing-a-markdownfile-object-to-a-file" class="nav-link" data-scroll-target="#writing-a-markdownfile-object-to-a-file">Writing a <code>MarkdownFile</code> object to a file</a>
  <ul class="collapse">
  <li><a href="#markdownfile.parts_of_id" id="toc-markdownfile.parts_of_id" class="nav-link" data-scroll-target="#markdownfile.parts_of_id">MarkdownFile.parts_of_id</a></li>
  </ul></li>
  <li><a href="#misc-todo" id="toc-misc-todo" class="nav-link" data-scroll-target="#misc-todo">Misc TODO</a>
  <ul class="collapse">
  <li><a href="#markdownfile.text_of_lines" id="toc-markdownfile.text_of_lines" class="nav-link" data-scroll-target="#markdownfile.text_of_lines">MarkdownFile.text_of_lines</a></li>
  <li><a href="#markdownfile.write" id="toc-markdownfile.write" class="nav-link" data-scroll-target="#markdownfile.write">MarkdownFile.write</a></li>
  <li><a href="#markdownfile.copy" id="toc-markdownfile.copy" class="nav-link" data-scroll-target="#markdownfile.copy">MarkdownFile.copy</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hyunjongkimmath/trouver/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">markdown.markdown.file</h1>
</div>

<div>
  <div class="description">
    Functions for parsing markdown files
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<div id="cell-2" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> OrderedDict</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tempfile</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shutil</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastcore.test <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nbdev.showdoc <span class="im">import</span> show_doc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="frontmatter-meta" class="level2">
<h2 class="anchored" data-anchor-id="frontmatter-meta">Frontmatter meta</h2>
<pre><code>/opt/hostedtoolcache/Python/3.10.15/x64/lib/python3.10/site-packages/fastcore/docscrape.py:230: UserWarning: potentially wrong underline length... 
```markdown 
--- in 
Return ranges in the markdown text string where front matter meta occurs.
...
  else: warn(msg)</code></pre>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L36" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="find_front_matter_meta_in_markdown_text" class="level3">
<h3 class="anchored" data-anchor-id="find_front_matter_meta_in_markdown_text">find_front_matter_meta_in_markdown_text</h3>
<blockquote class="blockquote">
<pre><code> find_front_matter_meta_in_markdown_text (text:str)</code></pre>
</blockquote>
<p>*Return ranges in the markdown text string where front matter meta occurs.</p>
<p><code>text</code> is assumed to start with the front matter meta. The front matter meta is of the following YAML format.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="an">key:</span><span class="co"> entry</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="in">```*</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="in">|    | **Type** | **Details** |</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="in">| -- | -------- | ----------- |</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="in">| text | str |  |</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="in">| **Returns** | **Optional** | **Each tuple is of the form `(a,b)` where `text[a:b]` is a markdown front matter. This list will be of length at most 1 because the front matter must come at the start of the markdown document.** |</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="in">The frontmatter meta in an Obsidian Markdown note is surrounded by `---` and must be at the top. We can identify the frontmatter meta in some text:</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="in">::: {#cell-6 .cell}</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="in">``` {.python .cell-code}</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="in">sample_text = r'''---</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="in">cssclass: clean-embeds</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="in">aliases: []</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="in">tags: [_meta/TODO/change_title, _meta/definition, _meta/literature_note]</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="in">---</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="in"># Topic[^1]</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="in">This is some text. Lalalalala</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="in"># See Also</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="in"># Meta</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="in">## References</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="in">![[_reference_foag]]</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="in">## Citations and Footnotes</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="in">[^1]: Some citation'''</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="in">start, end = find_front_matter_meta_in_markdown_text(sample_text)</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="in">just_frontmatter = sample_text[start:end]</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="in">print(just_frontmatter)</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="in">assert just_frontmatter.startswith('---')</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="in">assert just_frontmatter.endswith('---')</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="in">assert 'cssclass:' in just_frontmatter</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="in">assert 'aliases:' in just_frontmatter</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="in">assert 'tags:' in just_frontmatter</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/TODO/change_title, _meta/definition, _meta/literature_note]
---</code></pre>
</div>
<p>:::</p>
<p>If there is no frontmatter meta, then <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#find_front_matter_meta_in_markdown_text"><code>find_front_matter_meta_in_markdown_text</code></a> returns <code>None</code>.</p>
<div id="cell-8" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sample_text <span class="op">=</span> <span class="vs">r'''</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="vs">There is no frontmatter meta here.</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="vs">'''</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> find_front_matter_meta_in_markdown_text(sample_text) <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>sample_text <span class="op">=</span> <span class="vs">r'''</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="vs">aliases: []</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="vs">--</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="vs">Notice that the front matter meta is incorrectly formatted!</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="vs">'''</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> find_front_matter_meta_in_markdown_text(sample_text) <span class="kw">is</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-9" class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hide </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Some additional tests</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>sample_text_1 <span class="op">=</span> <span class="st">''</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> find_front_matter_meta_in_markdown_text(sample_text_1) <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>sample_text_2 <span class="op">=</span> <span class="st">"hello I know a song that gets on everybody</span><span class="ch">\'</span><span class="st">s nose"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> find_front_matter_meta_in_markdown_text(sample_text_2) <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>sample_text_3 <span class="op">=</span> <span class="st">'---</span><span class="ch">\n</span><span class="st">---'</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>start, end <span class="op">=</span> find_front_matter_meta_in_markdown_text(sample_text_3)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> sample_text_3[start:end] <span class="op">==</span> sample_text_3</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>sample_text_4 <span class="op">=</span> <span class="st">'---</span><span class="ch">\n</span><span class="st">---</span><span class="ch">\n</span><span class="st">---'</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>start, end <span class="op">=</span> find_front_matter_meta_in_markdown_text(sample_text_4)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> sample_text_4[start:end] <span class="op">==</span> <span class="st">'---</span><span class="ch">\n</span><span class="st">---'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L60" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="dict_to_metadata_lines" class="level3">
<h3 class="anchored" data-anchor-id="dict_to_metadata_lines">dict_to_metadata_lines</h3>
<blockquote class="blockquote">
<pre><code> dict_to_metadata_lines (data:dict[str,typing.Union[str,list[str]]],
                         enquote_entries_in_fields=list[str])</code></pre>
</blockquote>
<p>*Convert a dict to a list of str of yaml frontmatter metadata that Obsidian recognizes.</p>
<p>This function is used in <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.replace_metadata"><code>MarkdownFile.replace_metadata</code></a>.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data</td>
<td>dict</td>
<td></td>
<td>The keys are str of the labels/names of the metadata. The values are the metadata, which are usually str or list.</td>
</tr>
<tr class="even">
<td>enquote_entries_in_fields</td>
<td>GenericAlias</td>
<td>list</td>
<td>A list of str of fields in the YAML metadata whose entries need to be enquoted. If there is a string that is not a key of <code>new_metadata</code>, then that string is essentially ignored (in particular, no errors are raised).</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>Each str entry is the line for the yaml frontmatter metadata of an Obsidian Markdown note.</strong></td>
</tr>
</tbody>
</table>
<p><a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#dict_to_metadata_lines"><code>dict_to_metadata_lines</code></a> takes a dictionary and converts it to a string usable as Obsidian Markdown frontmatter meta.</p>
<div id="cell-12" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sample_dict <span class="op">=</span> OrderedDict([</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>            (<span class="st">'cssclass'</span>, <span class="st">'clean-embeds'</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>            (<span class="st">'aliases'</span>, []),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>            (<span class="st">'tags'</span>, [<span class="st">'_meta/literature_note'</span>, <span class="st">'_meta/research'</span>, <span class="st">'_meta/self_written'</span>])])</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>sample_output <span class="op">=</span> dict_to_metadata_lines(sample_dict, [])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>test_eq(sample_output,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'cssclass: clean-embeds'</span>, <span class="st">'aliases: []'</span>, <span class="st">'tags: [_meta/literature_note, _meta/research, _meta/self_written]'</span>])</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># sample_lines = dict_to_metadata_lines(sample_dict)</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># sample_output = </span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># print('\n'.join(sample_lines))</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># assert sample_lines == sample_output</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can specify entries of fields to be enquoted. This might be necessary if a string needs to be escaped (because it has a character such as the backslash <code>r'\'</code>, the mid slash <code>r'|'</code>, a square bracket <code>r'['</code>, etc.). For example, if a field is expected to have LaTeX strings, then it is good practice to specify such strings to be enquoted:</p>
<div id="cell-14" class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sample_dict <span class="op">=</span> OrderedDict([</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'latex_in_original'</span>, [<span class="vs">r'\\mathscr</span><span class="sc">{O}</span><span class="vs">_{\\text {Proj } S_{*</span><span class="sc">}}</span><span class="vs">(n)'</span>])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>sample_output <span class="op">=</span> dict_to_metadata_lines(sample_dict, enquote_entries_in_fields<span class="op">=</span>[<span class="st">'latex_in_original'</span>])</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>test_eq(sample_output, [<span class="st">'latex_in_original: ["</span><span class="ch">\\\\\\\\</span><span class="st">mathscr</span><span class="sc">{O}</span><span class="st">_{</span><span class="ch">\\\\\\\\</span><span class="st">text {Proj } S_{*</span><span class="sc">}}</span><span class="st">(n)"]'</span>])</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># An example of an entry that is not a string</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>sample_dict <span class="op">=</span> OrderedDict([</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    (<span class="st">'latex_in_original'</span>, [<span class="dv">1</span>])</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>sample_output <span class="op">=</span> dict_to_metadata_lines(sample_dict, enquote_entries_in_fields<span class="op">=</span>[<span class="st">'latex_in_original'</span>])</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>test_eq(sample_output, [<span class="st">'latex_in_original: ["1"]'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L95" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="parse_metadata_string" class="level3">
<h3 class="anchored" data-anchor-id="parse_metadata_string">parse_metadata_string</h3>
<blockquote class="blockquote">
<pre><code> parse_metadata_string (metadata_str:str, raise_error:bool=True,
                        raise_warning:bool=True)</code></pre>
</blockquote>
<p>*Attempt to parse the string for YAML frontmatter metadata of an Obsidian Markdown note.</p>
<p><strong>Raises</strong></p>
<ul>
<li>ValueError
<ul>
<li>If <code>raise_error</code> is <code>True</code> and if any <code>yaml.YAMLError</code> exceptions are raised when reading (i.e.&nbsp;parsing or scanning the YAML metadata. In doing so, <code>metadata_str</code> is printed. Moreover, the appropriate <code>yaml.YAMLError</code> (e.g.&nbsp;a <code>yaml.parser.ParserError</code>, <code>yaml.scanner.ScannerError</code>, or <code>yaml.reader.ReaderError</code>) is also raised.</li>
</ul></li>
<li>Warning
<ul>
<li>If <code>raise_error</code> is <code>False</code> and <code>raise_warning</code> is <code>True</code> and if any <code>yaml.YAMLError</code> exceptions are raise when reading.*</li>
</ul></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>metadata_str</td>
<td>str</td>
<td></td>
<td>The string for YAML frontmatter metadata of an Obsidian Markdown note</td>
</tr>
<tr class="even">
<td>raise_error</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, then raise an Error.</td>
</tr>
<tr class="odd">
<td>raise_warning</td>
<td>bool</td>
<td>True</td>
<td>If <code>raise_error</code> is false and <code>raise_warning</code> is <code>True</code>, then raise a warning message.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>Optional</strong></td>
<td></td>
<td><strong>The keys are <code>str</code> of the labels/names of the metadata. The values are the metadata, which are usually <code>str</code> or <code>list</code>. If the YAML metadata string cannot be parsed, then this return value is <code>None</code>.</strong></td>
</tr>
</tbody>
</table>
<p>The <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#parse_metadata_string"><code>parse_metadata_string</code></a> function attempts to parse the string for YAML frontmatter metadata of an Obsidian Markdown note. If the argument can be parsed via the <code>yaml.safe_load</code> function, then the output of the <code>yaml.safe_load</code> invocation is returned:</p>
<div id="cell-17" class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>good_metadata_str <span class="op">=</span> <span class="vs">r"""</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="vs">field: [hi, bye]</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="vs">fieldy: ooh</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>metadata_output <span class="op">=</span> parse_metadata_string(good_metadata_str)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">type</span>(metadata_output) <span class="op">==</span> <span class="bu">dict</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>test_eq(metadata_output, {<span class="st">'field'</span>: [<span class="st">'hi'</span>, <span class="st">'bye'</span>], <span class="st">'fieldy'</span>: <span class="st">'ooh'</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the YAML frontmatter metadata string cannot be parsed, by the <code>yaml.safe_load</code> function, then an error or a warning can be optionally raised. If <code>raise_error</code> is <code>False</code>, then <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#parse_metadata_string"><code>parse_metadata_string</code></a> returns <code>None</code>.</p>
<div id="cell-19" class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>bad_metadata_str <span class="op">=</span> <span class="st">"some_metadata_field: [</span><span class="ch">\b</span><span class="st">adly_formatted_string]"</span>  <span class="co"># ReaderError</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (ExceptionExpected(<span class="pp">ValueError</span>)):</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    metadata_output <span class="op">=</span> parse_metadata_string(bad_metadata_str, raise_error<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># bad_metadata_str = "field: field2:" # ScannerError</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>test_warns(<span class="kw">lambda</span>: parse_metadata_string(bad_metadata_str, raise_error<span class="op">=</span><span class="va">False</span>, raise_warning<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>metadata_output <span class="op">=</span> parse_metadata_string(bad_metadata_str, raise_error<span class="op">=</span><span class="va">False</span>, raise_warning<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>test_eq(metadata_output, <span class="va">None</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-20" class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>yaml_string <span class="op">=</span> <span class="st">'latex_from_original: ["[t]", "hi"]'</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> yaml.safe_load(yaml_string)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>yaml.dump(data, default_flow_style<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>"{latex_from_original: ['[t]', hi]}\n"</code></pre>
</div>
</div>
<div id="cell-22" class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>yaml.dump(<span class="vs">r'\begin{align*}  \end{align*}'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>'\\begin{align*}  \\end{align*}\n...\n'</code></pre>
</div>
</div>
<div id="cell-23" class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>yaml.dump(<span class="st">'[t]'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>"'[t]'\n"</code></pre>
</div>
</div>
</section>
</section>
<section id="replace-embedded-links-with-text" class="level2">
<h2 class="anchored" data-anchor-id="replace-embedded-links-with-text">Replace embedded links with text</h2>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L129" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="replace_embedded_links_with_text" class="level3">
<h3 class="anchored" data-anchor-id="replace_embedded_links_with_text">replace_embedded_links_with_text</h3>
<blockquote class="blockquote">
<pre><code> replace_embedded_links_with_text (text:str, vault:os.PathLike)</code></pre>
</blockquote>
<p>*Return the text with all embedded links replaced with the text of the corresponding notes</p>
<p>Assumes that the notes of the links exist in the vault and have unique names in the vault. Note that embedded links are not always to notes (e.g.&nbsp;they can point to images), or even to existing notes. In such cases, the embedded link will be replaced with blank text.*</p>
</section>
</section>
<section id="markdownfile-class" class="level2">
<h2 class="anchored" data-anchor-id="markdownfile-class">MarkdownFile class</h2>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L157" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownlineenum" class="level3">
<h3 class="anchored" data-anchor-id="markdownlineenum">MarkdownLineEnum</h3>
<blockquote class="blockquote">
<pre><code> MarkdownLineEnum (value, names=None, module=None, qualname=None,
                   type=None, start=1)</code></pre>
</blockquote>
<p><em>An enumeration.</em></p>
<p>The following are the members of the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownlineenum"><code>MarkdownLineEnum</code></a> class:</p>
<div id="cell-31" class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> line_type <span class="kw">in</span> MarkdownLineEnum:</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(line_type.name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DEFAULT
HEADING
CODE_BLOCK
META
ORDERED_LIST
UNORDERED_LIST
BLOCKQUOTE
HORIZONTAL_RULE
COMMENT
BLANK_LINE
UNKNOWN
FOOTNOTE_DESCRIPTION
DISPLAY_LATEX_SINGLE
DISPLAY_LATEX_START
DISPLAY_LATEX_END
DISPLAY_LATEX</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L177" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile">MarkdownFile</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile
               (parts:list[dict[str,typing.Union[__main__.MarkdownLineEnum
               ,str]]])</code></pre>
</blockquote>
<p>*Parses and represents the contents of an Obsidian styled Markdown file.</p>
<p>The Markdown file must be formatted in certain ways. In general, text components of different types (see <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownlineenum"><code>MarkdownLineEnum</code></a>) must be on different lines - no text components of different types may occupy the same line. In particular,</p>
<ul>
<li>Comments (surrounded by <code>%%</code>) must not be on the same line as non-comments.</li>
<li>Display math mode LaTeX (surrounded by <code>$$</code>) must not be on the same line as non-In line LaTeX.</li>
</ul>
<p><strong>Attributes</strong></p>
<ul>
<li>text - str</li>
<li>parts - list[dict[str, Union[MarkdownLineEnum, str]]]
<ul>
<li>Represents the lines of the markdown file. Each dict has two keys, <code>'type'</code> and <code>'line'</code>, which respectively hold a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownlineenum"><code>MarkdownLineEnum</code></a> and a <code>str</code> as values. While a value of <code>'line'</code> may have new line characters <code>'\n'</code>, it does not need to — more specifically, the <code>__str__</code> method (and the <code>text_of_lines</code> method) adds new line characters <code>'\n'</code> in between lines.*</li>
</ul></li>
</ul>
</section>
</section>
<section id="example-text-and-example-vault-used-in-the-rest-of-the-page" class="level2">
<h2 class="anchored" data-anchor-id="example-text-and-example-vault-used-in-the-rest-of-the-page">Example text and example vault used in the rest of the page</h2>
<p>The examples demonstrated for the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> class here will be based upon the following text:</p>
<div id="cell-35" class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>template_text <span class="op">=</span> <span class="st">"""---</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="st">cssclass: clean-embeds</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="st">aliases: []</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="st">tags: [_meta/literature_note]</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="st"># Topic[^1]</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="st"># See Also</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="st"># Meta</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="st">## References</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="st">## Citations and Footnotes</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="st">[^1]: Citation"""</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>text_1 <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="st"># Section 1</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="st">some text </span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="st">asdfasdf</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="st">## Subsection a</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="st">Didididi</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="st">Dododododo</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="st"># Section 2</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>text_2 <span class="op">=</span> <span class="st">"""---</span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a><span class="st">tags: [_meta/definition, _meta/concept, _auto/_meta/notation, this_tag_will_be_removed]</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a><span class="st"># Topic</span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a><span class="st">This is some note with some stuff.</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>text_3 <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="st"># Section 1</span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a><span class="st">Some stuff</span></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a><span class="st">#_meta/question Will `remove_in_line_tags` remove this line? Yes it will!</span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a><span class="st"># Hello</span></span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a><span class="st"> #tag Will `remove_in_line_tags` remove this line? Yes it will!</span></span>
<span id="cb25-45"><a href="#cb25-45" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb25-46"><a href="#cb25-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-47"><a href="#cb25-47" aria-hidden="true" tabindex="-1"></a>text_4 <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb25-48"><a href="#cb25-48" aria-hidden="true" tabindex="-1"></a><span class="st"># Some thing</span></span>
<span id="cb25-49"><a href="#cb25-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-50"><a href="#cb25-50" aria-hidden="true" tabindex="-1"></a><span class="st">I have a [[this is a note#this is an anchor in the note|link]]</span></span>
<span id="cb25-51"><a href="#cb25-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-52"><a href="#cb25-52" aria-hidden="true" tabindex="-1"></a><span class="st">## Another topic</span></span>
<span id="cb25-53"><a href="#cb25-53" aria-hidden="true" tabindex="-1"></a><span class="st">This is a link without a specified display text: [[some_kind_of_note]].</span></span>
<span id="cb25-54"><a href="#cb25-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-55"><a href="#cb25-55" aria-hidden="true" tabindex="-1"></a><span class="st">This is a link to an anchor without a specified display text: [[another_note#another anchor]].</span></span>
<span id="cb25-56"><a href="#cb25-56" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb25-57"><a href="#cb25-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-58"><a href="#cb25-58" aria-hidden="true" tabindex="-1"></a>text_5 <span class="op">=</span> <span class="st">"""# A header</span></span>
<span id="cb25-59"><a href="#cb25-59" aria-hidden="true" tabindex="-1"></a><span class="st">![[This note is embedded]].</span></span>
<span id="cb25-60"><a href="#cb25-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-61"><a href="#cb25-61" aria-hidden="true" tabindex="-1"></a><span class="st">The link above should will not be replaced by `replace_links_with_display_text`,</span></span>
<span id="cb25-62"><a href="#cb25-62" aria-hidden="true" tabindex="-1"></a><span class="st">unless `remove_embedded_note_links` is set to `True`."""</span></span>
<span id="cb25-63"><a href="#cb25-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-64"><a href="#cb25-64" aria-hidden="true" tabindex="-1"></a>text_6 <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb25-65"><a href="#cb25-65" aria-hidden="true" tabindex="-1"></a><span class="st"># Header</span></span>
<span id="cb25-66"><a href="#cb25-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-67"><a href="#cb25-67" aria-hidden="true" tabindex="-1"></a><span class="st">I want to link to some embedded note[^1]</span></span>
<span id="cb25-68"><a href="#cb25-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-69"><a href="#cb25-69" aria-hidden="true" tabindex="-1"></a><span class="st">[^1]: ![[link_to_embedded_note_1]]</span></span>
<span id="cb25-70"><a href="#cb25-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-71"><a href="#cb25-71" aria-hidden="true" tabindex="-1"></a><span class="st">You can also let the footnote mention be alphanumeric[^1][^note]</span></span>
<span id="cb25-72"><a href="#cb25-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-73"><a href="#cb25-73" aria-hidden="true" tabindex="-1"></a><span class="st">[^note]: ![[link_to_embedded_note_2]]</span></span>
<span id="cb25-74"><a href="#cb25-74" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb25-75"><a href="#cb25-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-76"><a href="#cb25-76" aria-hidden="true" tabindex="-1"></a>text_7 <span class="op">=</span> <span class="vs">r"""---</span></span>
<span id="cb25-77"><a href="#cb25-77" aria-hidden="true" tabindex="-1"></a><span class="vs">cssclass: clean-embeds</span></span>
<span id="cb25-78"><a href="#cb25-78" aria-hidden="true" tabindex="-1"></a><span class="vs">aliases: []</span></span>
<span id="cb25-79"><a href="#cb25-79" aria-hidden="true" tabindex="-1"></a><span class="vs">tags: [_meta/concept, _meta/literature_note]</span></span>
<span id="cb25-80"><a href="#cb25-80" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb25-81"><a href="#cb25-81" aria-hidden="true" tabindex="-1"></a><span class="vs"># Grothendieck-Witt ring elements of a finite field are given by rank and discriminant up to squares[^1]</span></span>
<span id="cb25-82"><a href="#cb25-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-83"><a href="#cb25-83" aria-hidden="true" tabindex="-1"></a><span class="vs">$\operatorname</span><span class="sc">{GW}</span><span class="vs">(\mathbb</span><span class="sc">{F}</span><span class="vs">_q)\cong \mathbb</span><span class="sc">{Z}</span><span class="vs">\times \mathbb</span><span class="sc">{F}</span><span class="vs">_q^{\times}/(\mathbb</span><span class="sc">{F}</span><span class="vs">_q^{\times})^2$[^2] where the isomorphism is given by the rank and discriminant.</span></span>
<span id="cb25-84"><a href="#cb25-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-85"><a href="#cb25-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-86"><a href="#cb25-86" aria-hidden="true" tabindex="-1"></a><span class="vs">[^2]: ![[notation_GW_k_Grothendieck_Witt_ring_of_a_field]]</span></span>
<span id="cb25-87"><a href="#cb25-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-88"><a href="#cb25-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-89"><a href="#cb25-89" aria-hidden="true" tabindex="-1"></a><span class="vs"># See Also</span></span>
<span id="cb25-90"><a href="#cb25-90" aria-hidden="true" tabindex="-1"></a><span class="vs">- [[grothendieck_witt_ring_of_a_polynomial_ring_over_a_field_is_isomorphic_to_that_of_the_field]]</span></span>
<span id="cb25-91"><a href="#cb25-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-92"><a href="#cb25-92" aria-hidden="true" tabindex="-1"></a><span class="vs"># Meta</span></span>
<span id="cb25-93"><a href="#cb25-93" aria-hidden="true" tabindex="-1"></a><span class="vs">## References</span></span>
<span id="cb25-94"><a href="#cb25-94" aria-hidden="true" tabindex="-1"></a><span class="vs">![[_reference_pauli_wickelgren_aa1]]</span></span>
<span id="cb25-95"><a href="#cb25-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-96"><a href="#cb25-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-97"><a href="#cb25-97" aria-hidden="true" tabindex="-1"></a><span class="vs">## Citations and Footnotes</span></span>
<span id="cb25-98"><a href="#cb25-98" aria-hidden="true" tabindex="-1"></a><span class="vs">[^1]: Pauli, Wickelgren, Example 3.7, Page 4"""</span></span>
<span id="cb25-99"><a href="#cb25-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-100"><a href="#cb25-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-101"><a href="#cb25-101" aria-hidden="true" tabindex="-1"></a>text_8 <span class="op">=</span> <span class="vs">r"""---</span></span>
<span id="cb25-102"><a href="#cb25-102" aria-hidden="true" tabindex="-1"></a><span class="vs">cssclass: clean-embeds</span></span>
<span id="cb25-103"><a href="#cb25-103" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb25-104"><a href="#cb25-104" aria-hidden="true" tabindex="-1"></a><span class="vs"># Topic[^1]</span></span>
<span id="cb25-105"><a href="#cb25-105" aria-hidden="true" tabindex="-1"></a><span class="vs">Here is a LaTeX Equation:</span></span>
<span id="cb25-106"><a href="#cb25-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-107"><a href="#cb25-107" aria-hidden="true" tabindex="-1"></a><span class="vs">$$ 5 \neq 7$$</span></span>
<span id="cb25-108"><a href="#cb25-108" aria-hidden="true" tabindex="-1"></a><span class="vs">Hey</span></span>
<span id="cb25-109"><a href="#cb25-109" aria-hidden="true" tabindex="-1"></a><span class="vs">Okay, now here is another one:</span></span>
<span id="cb25-110"><a href="#cb25-110" aria-hidden="true" tabindex="-1"></a><span class="vs">$$\begin{align*}</span></span>
<span id="cb25-111"><a href="#cb25-111" aria-hidden="true" tabindex="-1"></a><span class="vs">\sum_{k=1}^n k = \frac{n(n+1)}</span><span class="sc">{2}</span></span>
<span id="cb25-112"><a href="#cb25-112" aria-hidden="true" tabindex="-1"></a><span class="vs">\end{align*}$$</span></span>
<span id="cb25-113"><a href="#cb25-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-114"><a href="#cb25-114" aria-hidden="true" tabindex="-1"></a><span class="vs">The comment is not visible.</span></span>
<span id="cb25-115"><a href="#cb25-115" aria-hidden="true" tabindex="-1"></a><span class="vs">This is the end of the comment </span><span class="sc">%%</span></span>
<span id="cb25-116"><a href="#cb25-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-117"><a href="#cb25-117" aria-hidden="true" tabindex="-1"></a><span class="vs">This is the end of this note. This is visible.</span></span>
<span id="cb25-118"><a href="#cb25-118" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb25-119"><a href="#cb25-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-120"><a href="#cb25-120" aria-hidden="true" tabindex="-1"></a>text_9 <span class="op">=</span> <span class="vs">r"""</span></span>
<span id="cb25-121"><a href="#cb25-121" aria-hidden="true" tabindex="-1"></a><span class="vs">This LaTeX Equation has `**` surrounding it:</span></span>
<span id="cb25-122"><a href="#cb25-122" aria-hidden="true" tabindex="-1"></a><span class="vs">**$$\mathcal</span><span class="sc">{O}</span><span class="vs">_X$$**</span></span>
<span id="cb25-123"><a href="#cb25-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-124"><a href="#cb25-124" aria-hidden="true" tabindex="-1"></a><span class="vs">This LaTeX Equation has an id:</span></span>
<span id="cb25-125"><a href="#cb25-125" aria-hidden="true" tabindex="-1"></a><span class="vs">$$5 \neq 7$$ ^221b51</span></span>
<span id="cb25-126"><a href="#cb25-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-127"><a href="#cb25-127" aria-hidden="true" tabindex="-1"></a><span class="vs">This LaTeX Equation also has an id:</span></span>
<span id="cb25-128"><a href="#cb25-128" aria-hidden="true" tabindex="-1"></a><span class="vs">$$5 \neq 7</span></span>
<span id="cb25-129"><a href="#cb25-129" aria-hidden="true" tabindex="-1"></a><span class="vs">$$ ^221b51</span></span>
<span id="cb25-130"><a href="#cb25-130" aria-hidden="true" tabindex="-1"></a><span class="vs">This is the end</span></span>
<span id="cb25-131"><a href="#cb25-131" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb25-132"><a href="#cb25-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-133"><a href="#cb25-133" aria-hidden="true" tabindex="-1"></a>text_10 <span class="op">=</span> <span class="vs">r"""This is a single line display math mode LaTeX equation:</span></span>
<span id="cb25-134"><a href="#cb25-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-135"><a href="#cb25-135" aria-hidden="true" tabindex="-1"></a><span class="vs">$$\mathcal</span><span class="sc">{O}</span><span class="vs">_X$$</span></span>
<span id="cb25-136"><a href="#cb25-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-137"><a href="#cb25-137" aria-hidden="true" tabindex="-1"></a><span class="vs">This is a single multi-line display math mode LaTeX equation:</span></span>
<span id="cb25-138"><a href="#cb25-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-139"><a href="#cb25-139" aria-hidden="true" tabindex="-1"></a><span class="vs">$$</span></span>
<span id="cb25-140"><a href="#cb25-140" aria-hidden="true" tabindex="-1"></a><span class="vs">5 + 2 = 7</span></span>
<span id="cb25-141"><a href="#cb25-141" aria-hidden="true" tabindex="-1"></a><span class="vs">$$</span></span>
<span id="cb25-142"><a href="#cb25-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-143"><a href="#cb25-143" aria-hidden="true" tabindex="-1"></a><span class="vs">These are multiple consecutive display math mode LaTeX equations:</span></span>
<span id="cb25-144"><a href="#cb25-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-145"><a href="#cb25-145" aria-hidden="true" tabindex="-1"></a><span class="vs">$$1+1 = 2</span></span>
<span id="cb25-146"><a href="#cb25-146" aria-hidden="true" tabindex="-1"></a><span class="vs">$$</span></span>
<span id="cb25-147"><a href="#cb25-147" aria-hidden="true" tabindex="-1"></a><span class="vs">$$5 + 7 = 14$$</span></span>
<span id="cb25-148"><a href="#cb25-148" aria-hidden="true" tabindex="-1"></a><span class="vs">$$</span></span>
<span id="cb25-149"><a href="#cb25-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-150"><a href="#cb25-150" aria-hidden="true" tabindex="-1"></a><span class="vs">8 + 4 = 12</span></span>
<span id="cb25-151"><a href="#cb25-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-152"><a href="#cb25-152" aria-hidden="true" tabindex="-1"></a><span class="vs">$$</span></span>
<span id="cb25-153"><a href="#cb25-153" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb25-154"><a href="#cb25-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-155"><a href="#cb25-155" aria-hidden="true" tabindex="-1"></a>text_11 <span class="op">=</span> <span class="vs">r"""$$asdf$$</span></span>
<span id="cb25-156"><a href="#cb25-156" aria-hidden="true" tabindex="-1"></a><span class="vs">$$asdf$$</span></span>
<span id="cb25-157"><a href="#cb25-157" aria-hidden="true" tabindex="-1"></a><span class="vs">$$asdf$$</span></span>
<span id="cb25-158"><a href="#cb25-158" aria-hidden="true" tabindex="-1"></a><span class="vs">After text."""</span></span>
<span id="cb25-159"><a href="#cb25-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-160"><a href="#cb25-160" aria-hidden="true" tabindex="-1"></a>text_12 <span class="op">=</span> <span class="vs">r"""</span></span>
<span id="cb25-161"><a href="#cb25-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-162"><a href="#cb25-162" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We also use the multiple example vaults.</p>
<p>The following vault will be used mainly for some basic file interactions of the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> class.</p>
<pre><code>.
└── algebraic_geometry
    ├── a1_homotopy_theory
    │   ├── pauli_wickelgren_aa1
    │   │   ├── 3_the_grothendieck_witt_ring_of_k
    │   │   │   └── pauli_wickelgren_aa1_example 3.7.md
    │   │   └── _index_pauli_wickelgren_aa1.md
    |   └── _index_a1_homotopy_theory.md
    └── _index_algebraic_geometry.md</code></pre>
<p><code>pauli_wickelgren_aa1_example 3.7.md</code> will contain the contents of <code>text_7</code>.</p>
<div id="cell-37" class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> make_example_vault(temp_dir: PathLike):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    temp_dir <span class="op">=</span> Path(temp_dir)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    os.mkdir(temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    os.mkdir(temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    os.mkdir(temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    os.mkdir(temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1'</span> <span class="op">/</span> <span class="st">'3_the_grothendieck_witt_ring_of_k'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    (temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'_index_algebraic_geometry.md'</span>).touch()</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    (temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'_index_a1_homotopy_theory.md'</span>).touch()</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    (temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1'</span> <span class="op">/</span> <span class="st">'_index_pauli_wickelgren_aa1.md'</span>).touch()</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    (temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1'</span> <span class="op">/</span> <span class="st">'3_the_grothendieck_witt_ring_of_k'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1_example 3.7.md'</span>).touch()</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>((temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1'</span> <span class="op">/</span> <span class="st">'3_the_grothendieck_witt_ring_of_k'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1_example 3.7.md'</span>), <span class="st">'w'</span>) <span class="im">as</span> writer:</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>        writer.write(</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>            text_7</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="co"># with tempfile.TemporaryDirectory(prefix='temp_dir', dir=os.getcwd()) as temp_dir:</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="co">#     make_example_vault(temp_dir)</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="co">#     os.startfile(os.getcwd())</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co">#     input()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We use the following example vault to demonstrate examples of embedded notes and other functionalities:</p>
<pre><code>.
├── note_which_becomes_entirely_embedded_1.md
├── note_with_embedded_links_1.md
└── note_with_paragraphs_that_are_embedded_1.md</code></pre>
<div id="cell-39" class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> make_example_vault_2(temp_dir: PathLike):</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    temp_dir <span class="op">=</span> Path(temp_dir)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    file_1 <span class="op">=</span> temp_dir <span class="op">/</span> <span class="st">'note_which_becomes_entirely_embedded_1.md'</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    file_2 <span class="op">=</span> temp_dir <span class="op">/</span> <span class="st">'note_with_embedded_links_1.md'</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    file_3 <span class="op">=</span> temp_dir <span class="op">/</span> <span class="st">'note_with_paragraphs_that_are_embedded_1.md'</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    file_1.touch()</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    file_2.touch()</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    file_3.touch()</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(file_1, <span class="st">'w'</span>) <span class="im">as</span> writer:</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>        writer.write(</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>            <span class="vs">r"""Hello, this is a note which becomes entirely embedded.</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="vs">The comment is not visible.</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="vs">This is the end of the comment </span><span class="sc">%%</span><span class="vs">"""</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(file_2, <span class="st">'w'</span>) <span class="im">as</span> writer:</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>        writer.write(</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>            <span class="vs">r"""This is a note.</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="vs">There are some embedded text here:</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="vs">![[note_which_becomes_entirely_embedded_1]]</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="vs">![[note_with_paragraphs_that_are_embedded_1#^65809f]]</span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a><span class="vs">![[note_with_paragraphs_that_are_embedded_1#^221b51]]</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a><span class="vs">![[note_with_paragraphs_that_are_embedded_1#Section]]"""</span></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(file_3, <span class="st">'w'</span>) <span class="im">as</span> writer:</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>        writer.write(</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>            <span class="vs">r"""This paragraph becomes embedded.</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a><span class="vs"># Thank you for watching </span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a><span class="vs">cheese </span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a><span class="vs">bandit</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a><span class="vs">$$asdf$$</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a><span class="vs">asdf </span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a><span class="vs">^65809f</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a><span class="vs">This paragraph has not id.</span></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a><span class="vs">$$5 \neq 7</span></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a><span class="vs">$$ </span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a><span class="vs">^221b51</span></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a><span class="vs"># This section has an id ^123456</span></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a><span class="vs"># This section has no id </span></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a><span class="vs">^fff123</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a><span class="vs">$$\mathcal</span><span class="sc">{O}</span><span class="vs">_X$$  ^latexthing</span></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a><span class="vs"># Section</span></span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a><span class="vs">Some kind of section?</span></span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a><span class="vs">Lalalala</span></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a><span class="vs">## Subsection</span></span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a><span class="vs">argonaut</span></span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a><span class="vs"># Section</span></span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a><span class="vs">Maybe?</span></span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="constructing-a-markdownfile-object" class="level2">
<h2 class="anchored" data-anchor-id="constructing-a-markdownfile-object">Constructing a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object</h2>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1114" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.from_vault_note" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.from_vault_note">MarkdownFile.from_vault_note</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.from_vault_note
                               (vn:trouver.markdown.obsidian.vault.VaultNo
                               te)</code></pre>
</blockquote>
<p>*Return a <code>MarkddownFile</code> object from a <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault.html#vaultnote"><code>VaultNote</code></a> object.</p>
<p><strong>Raises</strong> - FileNotFoundError - If <code>vn</code> represents a note file which does not exist.*</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1076" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.from_file" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.from_file">MarkdownFile.from_file</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.from_file (file_path:os.PathLike)</code></pre>
</blockquote>
<p>*Return a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object from a specified file.</p>
<p><strong>Raises</strong> - FileNotFoundError - If <code>file_path</code> points to a file which does not exist.*</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1093" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.from_list" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.from_list">MarkdownFile.from_list</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.from_list (list_of_lines:list[str])</code></pre>
</blockquote>
<p>*Return a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object from a list of lines.</p>
<p>This may not work correctly if the markdown text is not sufficiently well-formatted. These formattings include: - comments must start the line with <code>'%%'</code>. - comments must end with <code>'%%'</code> followed by whitespaces and nothing else. - indents should be done with tabs?*</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1125" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.from_string" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.from_string">MarkdownFile.from_string</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.from_string (text:str)</code></pre>
</blockquote>
<p><em>Return a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object from a str.</em></p>
<p>The most convenient way to construct a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object is by the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.from_vault_note"><code>MarkdownFile.from_vault_note</code></a> factory method.</p>
<div id="cell-47" class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    make_example_vault(temp_dir)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    vault_note <span class="op">=</span> VaultNote(temp_dir, name<span class="op">=</span><span class="st">'pauli_wickelgren_aa1_example 3.7'</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(vault_note)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    test_eq(<span class="bu">str</span>(mf), text_7)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    vault_note <span class="op">=</span> VaultNote(temp_dir, rel_path<span class="op">=</span><span class="st">'does_not_exist.md'</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> vault_note.exists()</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(ex<span class="op">=</span><span class="pp">FileNotFoundError</span>):</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>        mf <span class="op">=</span> MarkdownFile.from_vault_note(vault_note)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can similarly construct a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> by the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.from_file"><code>MarkdownFile.from_file</code></a> factory method without having to use a <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault.html#vaultnote"><code>VaultNote</code></a> object.</p>
<div id="cell-49" class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    make_example_vault(temp_dir)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    temp_dir <span class="op">=</span> Path(temp_dir)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_file(temp_dir <span class="op">/</span> <span class="st">'algebraic_geometry'</span> <span class="op">/</span> <span class="st">'a1_homotopy_theory'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1'</span> <span class="op">/</span> <span class="st">'3_the_grothendieck_witt_ring_of_k'</span> <span class="op">/</span> <span class="st">'pauli_wickelgren_aa1_example 3.7.md'</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> os.path.exists(temp_dir <span class="op">/</span> <span class="st">'does_not_exist.md'</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(ex<span class="op">=</span><span class="pp">FileNotFoundError</span>):</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>        mf <span class="op">=</span> MarkdownFile.from_file(temp_dir <span class="op">/</span> <span class="st">'does_not_exist.md'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the list of lines of the Markdown file are available, then the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.from_list"><code>MarkdownFile.from_list</code></a> factory method can be used.</p>
<p>Similarly, if the entire string of the Markdown file is available, then the <code>MarkdownFile.from_str</code> factory method can be used.</p>
<div id="cell-51" class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>list_of_lines <span class="op">=</span> template_text.splitlines()</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>template_mf_1 <span class="op">=</span> MarkdownFile.from_list(list_of_lines)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>template_mf_2 <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(template_mf_1))</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>test_eq(<span class="bu">str</span>(template_mf_1), <span class="bu">str</span>(template_mf_2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note]
---
# Topic[^1]

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Citation</code></pre>
</div>
</div>
</section>
</section>
<section id="getting-headings-of-a-markdownfile-object" class="level2">
<h2 class="anchored" data-anchor-id="getting-headings-of-a-markdownfile-object">Getting headings of a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object</h2>
<p>In a Markdown file, one can set headings. In fact, you can consider the text here as text rendered with Markdown! More generally, you can type Markdown in Jupyter notebooks.</p>
<p>For example, typing the following text</p>
<p>There are multiple methods in the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> class which retrieve the headings of a Markdown file and their locations.</p>
<div id="cell-55" class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>template_mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L223" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.get_headings" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.get_headings">MarkdownFile.get_headings</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.get_headings (levels:Union[int,Iterator[int],NoneType]=None,
                            include_start:bool=True)</code></pre>
</blockquote>
<p><em>Return a list of heading titles in the markdown file.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>levels</td>
<td>Union</td>
<td>None</td>
<td>The levels of the headings to search for. Each int is between 1 and 6 inclusive, as each heading can be of levels 1 to 6. Defaults to <code>None</code>, in which case all heading-levels are searched.</td>
</tr>
<tr class="even">
<td>include_start</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code> and if this object contains text that is not under a heading (i.e.&nbsp;the text does not start with a heading), then include <code>-1</code> as a key with the empty str as value.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>Each str is the heading, including leading sharps <code>'#'</code>.</strong></td>
</tr>
</tbody>
</table>
<p>The <code>get_headings</code> function returns only a list of headings.</p>
<div id="cell-58" class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(template_mf.get_headings())</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings() <span class="op">==</span> [</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'# Topic[^1]'</span>, <span class="st">'# See Also'</span>, <span class="st">'# Meta'</span>, <span class="st">'## References'</span>, <span class="st">'## Citations and Footnotes'</span>, <span class="st">''</span>]</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings((<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">6</span>), include_start<span class="op">=</span><span class="va">True</span>) <span class="op">==</span> [<span class="st">''</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['# Topic[^1]', '# See Also', '# Meta', '## References', '## Citations and Footnotes', '']</code></pre>
</div>
</div>
<p>The empty heading <code>''</code> is returned when <code>include_start=True</code> and there is text belonging to no heading - this can only happen at the start of the Markdown file before any headings are specified. Any YAML frontmatter meta is considered as “text belonging to no heading”.</p>
<p>Setting <code>include_start=False</code> excludes the empty heading altogether.</p>
<div id="cell-60" class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings(include_start<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> [</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'# Topic[^1]'</span>, <span class="st">'# See Also'</span>, <span class="st">'# Meta'</span>, <span class="st">'## References'</span>, <span class="st">'## Citations and Footnotes'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The parameter <code>levels</code> specifies which level headings to return. The argument passed to <code>levels</code> does not affect whether or not the empty heading <code>''</code> is included.</p>
<div id="cell-62" class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings(levels<span class="op">=</span><span class="dv">1</span>, include_start<span class="op">=</span><span class="va">True</span>) <span class="op">==</span> [</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'# Topic[^1]'</span>, <span class="st">'# See Also'</span>, <span class="st">'# Meta'</span>, <span class="st">''</span>]</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings(levels<span class="op">=</span><span class="dv">1</span>, include_start<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> [</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'# Topic[^1]'</span>, <span class="st">'# See Also'</span>, <span class="st">'# Meta'</span>]</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Since list(range(2,6)) == [2, 3, 4, 5], the below returns all headings of levels 2, 3, 4, 5.</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings(levels<span class="op">=</span><span class="bu">range</span>(<span class="dv">2</span>,<span class="dv">6</span>), include_start<span class="op">=</span><span class="va">True</span>) <span class="op">==</span> [</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'## References'</span>, <span class="st">'## Citations and Footnotes'</span>, <span class="st">''</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L235" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.get_headings_by_line_number" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.get_headings_by_line_number">MarkdownFile.get_headings_by_line_number</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.get_headings_by_line_number
                                           (levels:Union[Iterator[int],int
                                           ,NoneType]=None,
                                           include_start:bool=True)</code></pre>
</blockquote>
<p><em>Return a dict of heading titles in the markdown file.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>levels</td>
<td>Union</td>
<td>None</td>
<td>The levels of the headings to search for. Each int is between 1 and 6 inclusive, as each heading can be of levels 1 to 6. If <code>None</code> then all heading-levels are searched.</td>
</tr>
<tr class="even">
<td>include_start</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code> and if this object contains text that is not under a heading (i.e.&nbsp;the text does not start with a heading), then include <code>-1</code> as a key with the empty str as value.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td></td>
<td><strong>The keys are line numbers and each value is str is the heading string, including the leading sharps <code>'#'</code>, but without any leading or trailing whitespace characters.</strong></td>
</tr>
</tbody>
</table>
<p>The <code>get_headings_by_line_number</code> function returns a dict whose keys are line numbers to headers and whose corresponding values are the full header str.</p>
<p>Similarly as with <code>get_headings</code>, setting <code>include_start=True</code> includes the empty header; the corresponding line number is always <code>-1</code>.</p>
<div id="cell-65" class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>line_numbers_and_headings <span class="op">=</span> template_mf.get_headings_by_line_number()</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(line_numbers_and_headings)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> line_numbers_and_headings <span class="op">==</span> {</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>: <span class="st">'# Topic[^1]'</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span>: <span class="st">'# See Also'</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span>: <span class="st">'# Meta'</span>,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">10</span>: <span class="st">'## References'</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">12</span>: <span class="st">'## Citations and Footnotes'</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a> <span class="op">-</span><span class="dv">1</span>: <span class="st">''</span>}</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings_by_line_number(include_start<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> {</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>: <span class="st">'# Topic[^1]'</span>,</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span>: <span class="st">'# See Also'</span>,</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span>: <span class="st">'# Meta'</span>,</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">10</span>: <span class="st">'## References'</span>,</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a> <span class="dv">12</span>: <span class="st">'## Citations and Footnotes'</span>, }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{5: '# Topic[^1]', 7: '# See Also', 9: '# Meta', 10: '## References', 12: '## Citations and Footnotes', -1: ''}</code></pre>
</div>
</div>
<div id="cell-66" class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: add more examples</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L259" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.get_headings_and_text" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.get_headings_and_text">MarkdownFile.get_headings_and_text</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.get_headings_and_text
                                     (levels:Union[Iterator[int],int,NoneT
                                     ype]=None, include_start:bool=True)</code></pre>
</blockquote>
<p>*Return a list of headings and the text under each heading.</p>
<p>The text under each heading does not include the text of subheadings.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>levels</td>
<td>Union</td>
<td>None</td>
<td>The levels of the headings to search for. Each int is between 1 and 6 inclusive, as each heading can be of levels 1 to 6. If <code>None</code>, then all heading-levels are searched.</td>
</tr>
<tr class="even">
<td>include_start</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code> and if this object contains text that is not under a heading (i.e.&nbsp;the text does not start with a heading), then include <code>-1</code> as a key with the empty str as value.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td></td>
<td><strong>Each key is the entire str of the heading, including the leading sharps <code>'#'</code>, but not including leading or trailing whitespace characters Each value is the str under that heading until the next heading, including at trailing next line characters <code>\n</code>. If <code>include_start</code> is <code>True</code>, then one of the keys is the empty str and the corresponding value is the start of the text that is not under any heading.</strong></td>
</tr>
</tbody>
</table>
<p>The <code>get_headings_and_text</code> function returns a dict whose keys are full headers and whose values are text under the headers.</p>
<div id="cell-69" class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>headings_and_text <span class="op">=</span> template_mf.get_headings_and_text()</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(headings_and_text)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> headings_and_text <span class="op">==</span> { <span class="st">''</span>: <span class="st">'---</span><span class="ch">\n</span><span class="st">cssclass: clean-embeds</span><span class="ch">\n</span><span class="st">aliases: []</span><span class="ch">\n</span><span class="st">tags: [_meta/literature_note]</span><span class="ch">\n</span><span class="st">---'</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a> <span class="st">'# Topic[^1]'</span>: <span class="st">''</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a> <span class="st">'# See Also'</span>: <span class="st">''</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a> <span class="st">'# Meta'</span>: <span class="st">''</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a> <span class="st">'## References'</span>: <span class="st">''</span>,</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a> <span class="st">'## Citations and Footnotes'</span>: <span class="st">'[^1]: Citation'</span> }</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(template_mf.get_headings_and_text(<span class="va">None</span>, <span class="va">False</span>))</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_headings_and_text(<span class="va">None</span>, <span class="va">False</span>) <span class="op">==</span> {</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a> <span class="st">'# Topic[^1]'</span>: <span class="st">''</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a> <span class="st">'# See Also'</span>: <span class="st">''</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a> <span class="st">'# Meta'</span>: <span class="st">''</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a> <span class="st">'## References'</span>: <span class="st">''</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a> <span class="st">'## Citations and Footnotes'</span>: <span class="st">'[^1]: Citation'</span> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'': '---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note]\n---', '# Topic[^1]': '', '# See Also': '', '# Meta': '', '## References': '', '## Citations and Footnotes': '[^1]: Citation'}
{'# Topic[^1]': '', '# See Also': '', '# Meta': '', '## References': '', '## Citations and Footnotes': '[^1]: Citation'}</code></pre>
</div>
</div>
<div id="cell-70" class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: add more examples</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L288" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.get_headings_tree" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.get_headings_tree">MarkdownFile.get_headings_tree</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.get_headings_tree ()</code></pre>
</blockquote>
<p>*Return a dict representing the tree of headings in the markdown file.</p>
<p><strong>Returns</strong></p>
<ul>
<li>dict[Union[str, int], Union[str, dict]]
<ul>
<li>The keys are 1. line numbers or 2. the str <code>'title'</code>. The values are dict or str (the blank str if root node) respectively. The dicts in themselves recursively represent trees and the str are headings, including the leading sharps. In particular, the root level dict also has the blank string <code>''</code> associated to the key <code>'title'</code>.*</li>
</ul></li>
</ul>
<div id="cell-72" class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>headings_tree <span class="op">=</span> template_mf.get_headings_tree()</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(headings_tree)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> headings_tree <span class="op">==</span> {</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'title'</span>: <span class="st">''</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>: {<span class="st">'title'</span>: <span class="st">'# Topic[^1]'</span>},</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">7</span>: {<span class="st">'title'</span>: <span class="st">'# See Also'</span>},</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">9</span>: {<span class="st">'title'</span>: <span class="st">'# Meta'</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>        <span class="dv">10</span>: {<span class="st">'title'</span>: <span class="st">'## References'</span>},</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>        <span class="dv">12</span>: {<span class="st">'title'</span>: <span class="st">'## Citations and Footnotes'</span>}</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'title': '', 5: {'title': '# Topic[^1]'}, 7: {'title': '# See Also'}, 9: {'title': '# Meta', 10: {'title': '## References'}, 12: {'title': '## Citations and Footnotes'}}}</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L320" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.get_line_number_of_heading" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.get_line_number_of_heading">MarkdownFile.get_line_number_of_heading</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.get_line_number_of_heading (title:Optional[str]=None,
                                          from_line:int=0, levels:Union[It
                                          erator[int],int,NoneType]=None)</code></pre>
</blockquote>
<p><em>Return the line number of the heading with the specified title after the specified line number.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>title</td>
<td>Optional</td>
<td>None</td>
<td>Title of the heading. Does not include the leading sharps (<code>'#'</code>). If <code>None</code>, then return the line number of any heading after the specified line number.</td>
</tr>
<tr class="even">
<td>from_line</td>
<td>int</td>
<td>0</td>
<td>The line number to start searching for the heading with <code>title</code> from.</td>
</tr>
<tr class="odd">
<td>levels</td>
<td>Union</td>
<td>None</td>
<td>The levels of the heading to search for. Each int is between 1 and 6 inclusive, as each heading can be of levels 1 to 6. If <code>None</code>, then all heading-levels are searched.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>int</strong></td>
<td></td>
<td><strong>An index in <code>self.parts</code>. If no index/line number of the matching heading exists, then return -1.</strong></td>
</tr>
</tbody>
</table>
<p>Note that the argument to <code>title</code> does not include the starting hashtags <code>#</code>.</p>
<div id="cell-75" class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>line_number <span class="op">=</span> template_mf.get_line_number_of_heading(title<span class="op">=</span><span class="st">'See Also'</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> line_number <span class="op">==</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the heading of the specified title does not exist, then <code>-1</code> is returned.</p>
<div id="cell-77" class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_number_of_heading(title<span class="op">=</span><span class="st">'Nonexistent title'</span>) <span class="op">==</span> <span class="op">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can search for headers of specified titles from specified lines onward:</p>
<div id="cell-79" class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_number_of_heading(title<span class="op">=</span><span class="st">'Topic[^1]'</span>, from_line<span class="op">=</span><span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_number_of_heading(title<span class="op">=</span><span class="st">'Topic[^1]'</span>, from_line<span class="op">=</span><span class="dv">6</span>) <span class="op">==</span> <span class="op">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also specify the levels that the header must be:</p>
<div id="cell-81" class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_number_of_heading(title<span class="op">=</span><span class="st">'Topic[^1]'</span>, levels<span class="op">=</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">6</span>)) <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_number_of_heading(title<span class="op">=</span><span class="st">'Topic[^1]'</span>, levels<span class="op">=</span>(<span class="dv">3</span>, <span class="dv">5</span>)) <span class="op">==</span> <span class="op">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L339" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.get_line_numbers_under_heading" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.get_line_numbers_under_heading">MarkdownFile.get_line_numbers_under_heading</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.get_line_numbers_under_heading (title:Optional[str]=None,
                                              from_line:int=0, levels:Unio
                                              n[Iterator[int],int,NoneType
                                              ]=None, include_subheadings:
                                              bool=True)</code></pre>
</blockquote>
<p><em>Return the line numbers belonging to the heading.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>title</td>
<td>Optional</td>
<td>None</td>
<td>Title of the heading. Does not include the leading sharps (<code>'#'</code>). If <code>None</code>, then return the line number of any heading after the specified line number.</td>
</tr>
<tr class="even">
<td>from_line</td>
<td>int</td>
<td>0</td>
<td>The line number to start searching for the heading with <code>title</code> from.</td>
</tr>
<tr class="odd">
<td>levels</td>
<td>Union</td>
<td>None</td>
<td>The levels of the heading to search for. Each int is between 1 and 6 inclusive, as each heading can be of levels 1 to 6. If <code>None</code>, then all heading-levels are searched.</td>
</tr>
<tr class="even">
<td>include_subheadings</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, then include the subheadings.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>Union</strong></td>
<td></td>
<td><strong><code>(start, end)</code> where <code>self.parts[start:end]</code> represents the parts under the heading, including the start of the heading. If the heading of the specified title does not exist, then returns -1.</strong></td>
</tr>
</tbody>
</table>
<div id="cell-83" class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(template_text)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>template_mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'Topic[^1]'</span>) <span class="op">==</span> (<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'See Also'</span>) <span class="op">==</span> (<span class="dv">7</span>,<span class="dv">9</span>)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'Meta'</span>) <span class="op">==</span> (<span class="dv">9</span>,<span class="dv">14</span>)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'References'</span>) <span class="op">==</span> (<span class="dv">10</span>,<span class="dv">12</span>)</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'Citations and Footnotes'</span>) <span class="op">==</span> (<span class="dv">12</span>,<span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note]
---
# Topic[^1]

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Citation</code></pre>
</div>
</div>
<p>If <code>include_subheadings=False</code>, then the line numbers for only the section without any subsections is returned.</p>
<div id="cell-85" class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'Topic[^1]'</span>, include_subheadings<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> (<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'See Also'</span>, include_subheadings<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> (<span class="dv">7</span>,<span class="dv">9</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'Meta'</span>, include_subheadings<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> (<span class="dv">9</span>,<span class="dv">10</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'References'</span>, include_subheadings<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> (<span class="dv">10</span>,<span class="dv">12</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.get_line_numbers_under_heading(title<span class="op">=</span><span class="st">'Citations and Footnotes'</span>, include_subheadings<span class="op">=</span><span class="va">False</span>) <span class="op">==</span> (<span class="dv">12</span>,<span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="addingremoving-lines-in-a-markdownfile-object" class="level2">
<h2 class="anchored" data-anchor-id="addingremoving-lines-in-a-markdownfile-object">Adding/removing lines in a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object</h2>
<div id="cell-87" class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> examples of insert_line, remove_line, pop_line, add_line_to_end, add_blank_line_to_end, add_line_in_section</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L417" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.insert_line" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.insert_line">MarkdownFile.insert_line</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.insert_line (index:int,
                           line_dict:dict[str,typing.Union[__main__.Markdo
                           wnLineEnum,str]])</code></pre>
</blockquote>
<p><em>Add a line at the specified index/line number to <code>self.parts</code>.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>index</td>
<td>int</td>
<td>The index at which to add <code>line_dict</code> into <code>self.parts</code>.</td>
</tr>
<tr class="even">
<td>line_dict</td>
<td>dict</td>
<td>See <code>self.parts</code>.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L425" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_line" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_line">MarkdownFile.remove_line</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_line (index:int=-1)</code></pre>
</blockquote>
<p><em>Remove a line from <code>self.parts</code>.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>index</td>
<td>int</td>
<td>-1</td>
<td>The index of the line to remove from <code>self.parts</code>.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L432" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_lines" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_lines">MarkdownFile.remove_lines</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_lines (start:int, end:int)</code></pre>
</blockquote>
<p><em>Remove lines from <code>self.parts</code>.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>start</td>
<td>int</td>
<td>The index of the first line to remove from <code>self.parts</code>.</td>
</tr>
<tr class="even">
<td>end</td>
<td>int</td>
<td>The end index to remove; the line of index <code>end</code> is not removed, but the line of index <code>end -</code> is.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L440" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.pop_line" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.pop_line">MarkdownFile.pop_line</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.pop_line (index:int=-1)</code></pre>
</blockquote>
<p><em>Remove a line from <code>self.parts</code> and get its value.</em></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>index</td>
<td>int</td>
<td>-1</td>
<td>The index of the line to pop from <code>self.parts</code>.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td></td>
<td><strong>The popped line</strong></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L447" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.add_line_to_end" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.add_line_to_end">MarkdownFile.add_line_to_end</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.add_line_to_end
                               (line_dict:dict[str,typing.Union[__main__.M
                               arkdownLineEnum,str]])</code></pre>
</blockquote>
<p><em>Add a line to the end of <code>self.parts</code>.</em></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>line_dict</td>
<td>dict</td>
<td>See <code>self.parts</code>.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L454" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.add_blank_line_to_end" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.add_blank_line_to_end">MarkdownFile.add_blank_line_to_end</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.add_blank_line_to_end ()</code></pre>
</blockquote>
<p><em>Add a blank line to the end of <code>self.parts</code>.</em></p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L460" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.add_line_in_section" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.add_line_in_section">MarkdownFile.add_line_in_section</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.add_line_in_section (title:str,
                                   line_dict:dict[str,typing.Union[__main_
                                   _.MarkdownLineEnum,str]],
                                   start:bool=True)</code></pre>
</blockquote>
<p><em>Add a line in section specified by its title.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>title</td>
<td>str</td>
<td></td>
<td>Title of the heading (without the leading sharps <code>'#'</code>)</td>
</tr>
<tr class="even">
<td>line_dict</td>
<td>dict</td>
<td></td>
<td>The line to add</td>
</tr>
<tr class="odd">
<td>start</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, add to the start of the section. If <code>False</code>, add to the end of the section.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="removing-or-clearing-sections-in-a-markdownfile-object" class="level2">
<h2 class="anchored" data-anchor-id="removing-or-clearing-sections-in-a-markdownfile-object">Removing or clearing sections in a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object</h2>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L474" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.remove_section" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_section">MarkdownFile.remove_section</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_section (title:str)</code></pre>
</blockquote>
<p><em>Remove the section with the specified title, including subsections, if the section exists.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>title</td>
<td>str</td>
<td>The title of the section to remove (without the starting <code>'#'</code>’s)</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
</tr>
</tbody>
</table>
<p>The <code>remove_section</code> method removes all lines belonging to a section, including subsections.</p>
<div id="cell-98" class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> remove_section, clear_section, clear_all_sections</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>template_mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>template_mf.remove_section(<span class="st">'Topic[^1]'</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(template_mf.parts) <span class="op">==</span> <span class="dv">12</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>template_mf.remove_section(<span class="st">'Meta'</span>)  <span class="co"># This removes subsections too!</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(template_mf) <span class="op">==</span> <span class="st">"""---</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="st">cssclass: clean-embeds</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="st">aliases: []</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a><span class="st">tags: [_meta/literature_note]</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a><span class="st"># See Also</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Attempting to remove a Non-existent section does nothing.</p>
<div id="cell-100" class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>mf_2 <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>mf_2.remove_section(<span class="st">'Non existing section'</span>)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf_2), template_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L495" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.clear_section" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.clear_section">MarkdownFile.clear_section</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.clear_section (title:str, leave_blank_line:bool=True,
                             clear_subsections:Optional[str]=None)</code></pre>
</blockquote>
<p>*Clear the section with the specified title, if it exists.</p>
<p>Does not clear subsections.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>title</td>
<td>str</td>
<td></td>
<td>Title of the section (Without the leading sharps <code>'#'</code>)</td>
</tr>
<tr class="even">
<td>leave_blank_line</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, leaves a blank line at the end of the section.</td>
</tr>
<tr class="odd">
<td>clear_subsections</td>
<td>Optional</td>
<td>None</td>
<td><code>'clear'</code>, <code>'delete'</code>, or <code>None</code>. If <code>'clear'</code>, then just clears the contents of subsections, but does not affect the headers. If <code>'delete'</code>, then clears the contents of the subsections and deletes the headers. If <code>None</code>, then does not affect either.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-102" class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>mf.clear_section(<span class="st">'Section 1'</span>, leave_blank_line<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>headings_and_text <span class="op">=</span> mf.get_headings_and_text()</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> headings_and_text[<span class="st">'# Section 1'</span>] <span class="op">==</span> <span class="st">''</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.get_line_number_of_heading(<span class="st">'Subsection a'</span>) <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.parts[<span class="dv">4</span>][<span class="st">'line'</span>] <span class="op">==</span> <span class="st">'Didididi'</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
# Section 1

## Subsection a
Didididi
Dododododo
# Section 2</code></pre>
</div>
</div>
<p>Setting <code>leave_blank_line=False</code> leaves no blank line between the section and the next:</p>
<div id="cell-104" class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>mf.clear_section(<span class="st">'Section 1'</span>, leave_blank_line<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>headings_and_text <span class="op">=</span> mf.get_headings_and_text()</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> headings_and_text[<span class="st">'# Section 1'</span>] <span class="op">==</span> <span class="st">''</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.get_line_number_of_heading(<span class="st">'Subsection a'</span>) <span class="op">==</span> <span class="dv">2</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.parts[<span class="dv">3</span>][<span class="st">'line'</span>] <span class="op">==</span> <span class="st">'Didididi'</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
# Section 1
## Subsection a
Didididi
Dododododo
# Section 2</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L520" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.clear_all_sections" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.clear_all_sections">MarkdownFile.clear_all_sections</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.clear_all_sections (leave_blank_lines:bool=True)</code></pre>
</blockquote>
<p>*Clear all sections.</p>
<p>Does not clear frontmatter metadata. Leaves all headers intact.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>leave_blank_lines</td>
<td>bool</td>
<td>True</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td><strong>If True, leaves a blank line in each section</strong></td>
</tr>
</tbody>
</table>
<div id="cell-106" class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>mf.clear_all_sections(leave_blank_lines<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(mf.parts) <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Section 1
## Subsection a
# Section 2</code></pre>
</div>
</div>
</section>
</section>
<section id="metadata-in-a-markdownfile-object" class="level2">
<h2 class="anchored" data-anchor-id="metadata-in-a-markdownfile-object">Metadata in a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object</h2>
<p>Here are some things that we can do with a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object with frontmatter YAML metadata:</p>
<div id="cell-109" class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>template_mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (template_mf.metadata(), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.metadata() <span class="op">==</span> {<span class="st">'cssclass'</span>: <span class="st">'clean-embeds'</span>, <span class="st">'aliases'</span>: [], <span class="st">'tags'</span>: [<span class="st">'_meta/literature_note'</span>]}</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.has_metadata()</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> template_mf.metadata_lines() <span class="op">==</span> (<span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>new_metadata <span class="op">=</span> {<span class="st">'aliases'</span>: [<span class="st">'an_awesome_note'</span>, <span class="st">'no_more_cssclass'</span>, <span class="st">'no_more_tags'</span>]}</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>template_mf.replace_metadata(new_metadata)</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The following is the MarkdownFile with new frontmatter YAML metadata:</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(template_mf, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(template_mf) <span class="op">==</span> <span class="st">"""---</span></span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="st">aliases: [an_awesome_note, no_more_cssclass, no_more_tags]</span></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a><span class="st"># Topic[^1]</span></span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a><span class="st"># See Also</span></span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a><span class="st"># Meta</span></span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a><span class="st">## References</span></span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a><span class="st">## Citations and Footnotes</span></span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a><span class="st">[^1]: Citation"""</span></span>
<span id="cb83-24"><a href="#cb83-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-25"><a href="#cb83-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-26"><a href="#cb83-26" aria-hidden="true" tabindex="-1"></a>template_mf.remove_metadata()</span>
<span id="cb83-27"><a href="#cb83-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The following is the MarkdownFile with frontmatter YAML metadata removed:</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb83-28"><a href="#cb83-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(template_mf)</span>
<span id="cb83-29"><a href="#cb83-29" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(template_mf) <span class="op">==</span> <span class="st">"""# Topic[^1]</span></span>
<span id="cb83-30"><a href="#cb83-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-31"><a href="#cb83-31" aria-hidden="true" tabindex="-1"></a><span class="st"># See Also</span></span>
<span id="cb83-32"><a href="#cb83-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-33"><a href="#cb83-33" aria-hidden="true" tabindex="-1"></a><span class="st"># Meta</span></span>
<span id="cb83-34"><a href="#cb83-34" aria-hidden="true" tabindex="-1"></a><span class="st">## References</span></span>
<span id="cb83-35"><a href="#cb83-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-36"><a href="#cb83-36" aria-hidden="true" tabindex="-1"></a><span class="st">## Citations and Footnotes</span></span>
<span id="cb83-37"><a href="#cb83-37" aria-hidden="true" tabindex="-1"></a><span class="st">[^1]: Citation"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'cssclass': 'clean-embeds', 'aliases': [], 'tags': ['_meta/literature_note']} 

The following is the MarkdownFile with new frontmatter YAML metadata:

---
aliases: [an_awesome_note, no_more_cssclass, no_more_tags]
---
# Topic[^1]

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Citation 

The following is the MarkdownFile with frontmatter YAML metadata removed:

# Topic[^1]

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Citation</code></pre>
</div>
</div>
<p>Note that if the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> does not have any YAML frontmatter metadata, then the <code>metadata</code> method returns <code>None</code>:</p>
<div id="cell-111" class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>mf_1 <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf_1.metadata() <span class="kw">is</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a>’s YAML frontmatter metadata has formatting issues then <code>metadata</code> raises a ValueError. In actuality, the error message also yields the appropraite <a href="https://github.com/yaml/pyyaml/blob/8cdff2c80573b8be8e8ad28929264a913a63aa33/lib/yaml/error.py">yaml.YAMLError</a> in the <a href="https://github.com/yaml/pyyaml">PyYAML</a> library, e.g.&nbsp;<a href="https://github.com/yaml/pyyaml/blob/master/lib/yaml/parser.py"><code>yaml.parser.ParserError</code></a>, <a href="https://github.com/yaml/pyyaml/blob/master/lib/yaml/scanner.py"><code>yaml.scanner.ScannerError</code></a>, or <a href="https://github.com/yaml/pyyaml/blob/master/lib/yaml/reader.py"><code>yaml.reader.ReaderError</code></a>.</p>
<div id="cell-113" class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>text_with_bad_yaml <span class="op">=</span> <span class="st">"---</span><span class="ch">\n</span><span class="st">some_metadata_field: [</span><span class="ch">\b</span><span class="st">adly_formatted_string]</span><span class="ch">\n</span><span class="st">---</span><span class="ch">\n</span><span class="st">The rest of the note contents..."</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_with_bad_yaml)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>): <span class="co"># By virtue of giving a ReaderError</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    mf.metadata()</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>text_with_bad_yaml <span class="op">=</span> <span class="st">"---</span><span class="ch">\n</span><span class="st">field: field2: </span><span class="ch">\n</span><span class="st">---</span><span class="ch">\n</span><span class="st">The rest of the note contents..."</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_with_bad_yaml)</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>): <span class="co"># By virtue of giving a ScannerError</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>    mf.metadata()</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>text_with_bad_yaml <span class="op">=</span> <span class="st">"---</span><span class="ch">\n</span><span class="st">field: John</span><span class="ch">\n</span><span class="st">- field2: Mary </span><span class="ch">\n</span><span class="st">---</span><span class="ch">\n</span><span class="st">The rest of the note contents..."</span></span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_with_bad_yaml)</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>): <span class="co"># By virtue of giving a ParserError</span></span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>    mf.metadata()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L581" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.has_metadata" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.has_metadata">MarkdownFile.has_metadata</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.has_metadata ()</code></pre>
</blockquote>
<p>*Return <code>True</code> if this <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object has fronmatter YAML metadata.</p>
<p>If the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object has any frontmatter YAML metadata, then it is expected to be at the very start; in particular, it must not be preceded by any whitespace characters.*</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L604" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.metadata_lines" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.metadata_lines">MarkdownFile.metadata_lines</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.metadata_lines ()</code></pre>
</blockquote>
<p>*Return the indices in <code>self.parts</code> which are metadata.</p>
<p>Assumes that <code>self.parts</code> is nonempty.</p>
<p>If the MarkdownFile object has any frontmatter YAML metadata, then it is expected to be at the very start; in particular, it must not be preceded by any whitespace characters.</p>
<p><strong>Returns</strong></p>
<ul>
<li>tuple
<ul>
<li>The tuple consists of 2 ints, <code>a</code> and <code>b</code>, where <code>self.parts[a:b+1]</code> represent the metadata lines, including the <code>'---'</code> before and after.*</li>
</ul></li>
</ul>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L634" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.replace_metadata" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.replace_metadata">MarkdownFile.replace_metadata</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.replace_metadata (new_metadata:dict[str],
                                enquote_entries_in_fields:list[str]=[])</code></pre>
</blockquote>
<p>*Replace the frontmatter metadata of this MarkdownFile object.</p>
<p>Optionally also enquotes string entries in fields specified by <code>enquote_entries_in_fields</code>.</p>
<p><strong>Warning</strong> - This method is only tested when the values of <code>new_metadata</code> are either <code>str</code> or <code>list[str]</code>.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>new_metadata</td>
<td>dict</td>
<td></td>
<td>The dictionary representing the new metadata. The keys are the names of fields. The values are the field values, usually expected to be a single string or a list of strings</td>
</tr>
<tr class="even">
<td>enquote_entries_in_fields</td>
<td>list</td>
<td>[]</td>
<td>A list of str of fields in the YAML metadata whose entries need to be enquoted. If there is a string that is not a key of <code>new_metadata</code>, then that string is essentially ignored (in particular, no errors are raised).</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-117" class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: basic example</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the case that the metadata comprises of strings which need to be escaped (because they have backslashes), then the <code>enquote_entries_in_fields</code> parameter of the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.replace_metadata"><code>MarkdownFile.replace_metadata</code></a> method can be specified to enquote and escape such strings, cf.&nbsp;<a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#dict_to_metadata_lines"><code>dict_to_metadata_lines</code></a>.</p>
<p>In particular, the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.replace_metadata"><code>MarkdownFile.replace_metadata</code></a> method with the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object’s own <code>.metadata()</code> passed in the following example should ideally not modify the string of the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object. This feature needs to be tested with more examples, however.</p>
<div id="cell-120" class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="vs">r'''---</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="vs">latex_in_original: ["\\mathscr</span><span class="sc">{O}</span><span class="vs">_{\\text {Proj } S_{*</span><span class="sc">}}</span><span class="vs">(n)"]</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="vs">'''</span>)</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>original_metadata <span class="op">=</span> mf.metadata()</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>original_str <span class="op">=</span> <span class="bu">str</span>(mf).strip()</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>dict_to_metadata_lines(mf.metadata(), enquote_entries_in_fields<span class="op">=</span>[<span class="st">'latex_in_original'</span>])</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>mf.replace_metadata(mf.metadata(), enquote_entries_in_fields<span class="op">=</span>[<span class="st">'latex_in_original'</span>])</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>test_eq(mf.metadata(), original_metadata)</span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>test_eq(<span class="bu">str</span>(mf).strip(), original_str)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Multiple methods in the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> class, including <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.add_tags"><code>MarkdownFile.add_tags</code></a>, <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.remove_tags"><code>MarkdownFile.remove_tags</code></a>, and <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.replace_auto_tags_with_regular_tags"><code>MarkdownFile.replace_auto_tags_with_regular_tags</code></a> depend on the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.replace_metadata"><code>MarkdownFile.replace_metadata</code></a> method. Arguments for the <code>enquote_entries_in_metadata_fields</code> must be specified appropriately when using these methods.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L658" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_metadata" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_metadata">MarkdownFile.remove_metadata</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_metadata ()</code></pre>
</blockquote>
<p><em>Remove the frontmatter metadata of this MarkdownFile object.</em></p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L593" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.add_metadata_section" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.add_metadata_section">MarkdownFile.add_metadata_section</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.add_metadata_section (check_exists:bool=True)</code></pre>
</blockquote>
<p><em>Add a frontmatter YAML metadata at the very beginning.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>check_exists</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, Check if there is already a metadata section at the beginning and do not add a metadata section if it exists.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>If the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> has no frontmatter YAML metadata, then we can use the <code>add_metadata_section</code> method to add blank frontmatter YAML metadata:</p>
<div id="cell-125" class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="kw">not</span> mf.has_metadata()</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>mf.add_metadata_section()</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---

---


# Section 1
some text 

asdfasdf

## Subsection a
Didididi
Dododododo
# Section 2</code></pre>
</div>
</div>
<p>If the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object already has frontmatter YAML metadata, then the <code>add_metadata_section</code> method does nothing.</p>
<div id="cell-127" class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>template_mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>mf.add_metadata_section()</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(template_mf) <span class="op">==</span> template_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="tags-in-markdownfile-objects" class="level2">
<h2 class="anchored" data-anchor-id="tags-in-markdownfile-objects">Tags in <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> objects</h2>
<section id="yaml-metadata-tags" class="level4">
<h4 class="anchored" data-anchor-id="yaml-metadata-tags">YAML metadata tags</h4>
<p>In Obsidian, one can add tags to notes both within text and in the frontmatter YAML metadata.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L663" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.has_tag" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.has_tag">MarkdownFile.has_tag</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.has_tag (tag:str)</code></pre>
</blockquote>
<p>*Return <code>True</code> if the Markdown file has the specified tag in its YAML frontmatter metadata.</p>
<p>More specifically, return <code>True</code> if the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> objeect</p>
<ol type="1">
<li>has YAML frontmatter metadata,</li>
<li>the metadata has a <code>'tags'</code> section,, and</li>
<li>the <code>'tags'</code> section is a list with the specified tag.</li>
</ol>
<p>Note that <code>tag</code> should not start with the hashtag <code>#</code> charater.*</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tag</td>
<td>str</td>
<td>The tag. Does not start with the hashtag <code>'#'</code>.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>bool</strong></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L685" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.add_tags" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.add_tags">MarkdownFile.add_tags</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.add_tags (tags:Union[str,list[str]], skip_repeats:bool=True,
                        skip_repeated_auto:bool=True,
                        enquote_entries_in_metadata_fields:list[str]=[])</code></pre>
</blockquote>
<p>*Add tags to the frontmatter metadata.</p>
<p>The order of the tags may be changed.</p>
<p>Ultimately the <code>replace_metadata</code> method is used to modify the YAML metadata. Use the <code>enquote_entries_in_metadata_fields</code> parameter to ensure that the <code>replace_metadata</code> invocation preserves enquoted metadata values.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tags</td>
<td>Union</td>
<td></td>
<td>The str representing the tags. May or may not start with <code>'#'</code>, e.g.&nbsp;<code>'#_meta/definition'</code> or <code>'_meta/definition'</code>.</td>
</tr>
<tr class="even">
<td>skip_repeats</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, then this MarkdownFile will just have unique tags; merges pre-existing repeated tags if necessary. Also, the order of the tags may be changed.</td>
</tr>
<tr class="odd">
<td>skip_repeated_auto</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, then only add tags starting with ’_auto/’ if the corresponding non-auto tag does not exist, e.g.&nbsp;’_auto/_meta/definition’ is not added if the note already has ’_meta/definition’.</td>
</tr>
<tr class="even">
<td>enquote_entries_in_metadata_fields</td>
<td>list</td>
<td>[]</td>
<td>A list of str of fields in the YAML metadata whose entries need to be enquoted. If there is a string that is not a key of <code>new_metadata</code>, then that string is essentially ignored (in particular, no errors are raised).</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L724" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_tags" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_tags">MarkdownFile.remove_tags</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_tags (tags:list[str],
                           enquote_entries_in_metadata_fields:list[str]=[]
                           )</code></pre>
</blockquote>
<p>*Remove specified tags from the frontmatter metadata, if the frontmatter metadata and the specified tags.</p>
<p>If the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object does not have a frontmatter or if the frontmatter does not include a <code>tags</code> line, then the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object is not modified.</p>
<p>Assumes that this MarkdownFile object has a frontmatter and that the frontmatter includes a tags line.</p>
<p>Any repeated tags are either merged into one (if the tag is not in <code>tags</code>) or are removed (if the tag is in <code>tags</code>).</p>
<p>Ultimately the <code>replace_metadata</code> method is used to modify the YAML metadata. Use the <code>enquote_entries_in_metadata_fields</code> parameter to ensure that the <code>replace_metadata</code> invocation preserves enquoted metadata values.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tags</td>
<td>list</td>
<td></td>
<td>The str representing the tags. May or may not start with <code>'#'</code>, e.g.&nbsp;<code>'#_meta/definition'</code> or <code>'_meta/definition'</code>.</td>
</tr>
<tr class="even">
<td>enquote_entries_in_metadata_fields</td>
<td>list</td>
<td>[]</td>
<td>A list of str of fields in the YAML metadata whose entries need to be enquoted. If there is a string that is not a key of <code>new_metadata</code>, then that string is essentially ignored (in particular, no errors are raised).</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-134" class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_2)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.has_tag(<span class="st">'_meta/definition'</span>)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>mf.add_tags([<span class="st">'new_tag'</span>])  <span class="co">#This may change the order of the tags.</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.has_tag(<span class="st">'new_tag'</span>)</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.has_tag(<span class="st">'this_tag_will_be_removed'</span>)</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>mf.remove_tags([<span class="st">'this_tag_will_be_removed'</span>])</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="kw">not</span> mf.has_tag(<span class="st">'this_tag_will_be_removed'</span>)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="kw">not</span> mf.has_tag(<span class="st">'no_tag'</span>)</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>mf.remove_tags([<span class="st">'no_tag'</span>]) <span class="co"># Does nothing</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="kw">not</span> mf.has_tag(<span class="st">'no_tag'</span>)</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
tags: [_meta/concept, new_tag, _meta/definition, _auto/_meta/notation]
---
# Topic
This is some note with some stuff.</code></pre>
</div>
</div>
<p>If the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object does not have frontmatter YAML metadata or if its frontmatter YAML metadata does not have a <code>tags</code> section, then no changes are made to the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object:</p>
<div id="cell-136" class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of a MarkdownFile object without frontmatter YAML metadata:</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>mf_str_before <span class="op">=</span> <span class="bu">str</span>(mf)</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.metadata() <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>mf.remove_tags([<span class="st">'_meta/definition'</span>])</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.metadata() <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>test_eq(<span class="bu">str</span>(mf), mf_str_before)</span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Example of a MarkdownFile object with frontmatter YAML metadata but without a tags section.</span></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_8)</span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>mf_str_before <span class="op">=</span> <span class="bu">str</span>(mf)</span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.metadata() <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="st">'tag'</span> <span class="kw">not</span> <span class="kw">in</span> mf.metadata() </span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>mf.remove_tags([<span class="st">'_meta/definition'</span>])</span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>test_eq(<span class="bu">str</span>(mf), mf_str_before)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>add_tags</code> method has a <code>skip_repeats</code> parameter.</p>
<div id="cell-138" class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>mf.add_tags([<span class="st">'new_tag'</span>], skip_repeats<span class="op">=</span><span class="va">True</span>)  <span class="co"># Only one `new_tag` will be present after this.</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>mf.add_tags([<span class="st">'new_tag'</span>], skip_repeats<span class="op">=</span><span class="va">False</span>)  <span class="co"># After this, mf will have 2 `new_tag`'s  # After this, mf will have 2 `new_tag`'s  # After this, mf will have 2 `new_tag`'s</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>mf.add_tags([<span class="st">'new_tag'</span>], skip_repeats<span class="op">=</span><span class="va">True</span>)  <span class="co"># Only one `new_tag` will be present after this, even though there were multiple `new_tag`'s before this.</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
tags: [new_tag]
---
# Topic[^1]
Here is a LaTeX Equation:

$$ 5 \neq 7$$
Hey
Okay, now here is another one:
$$\begin{align*}
\sum_{k=1}^n k = \frac{n(n+1)}{2}
\end{align*}$$

%%This is a comment. 
The comment is not visible.
This is the end of the comment %%

This is the end of this note. This is visible.
---
cssclass: clean-embeds
tags: [new_tag, new_tag]
---
# Topic[^1]
Here is a LaTeX Equation:

$$ 5 \neq 7$$
Hey
Okay, now here is another one:
$$\begin{align*}
\sum_{k=1}^n k = \frac{n(n+1)}{2}
\end{align*}$$

%%This is a comment. 
The comment is not visible.
This is the end of the comment %%

This is the end of this note. This is visible.
---
cssclass: clean-embeds
tags: [new_tag]
---
# Topic[^1]
Here is a LaTeX Equation:

$$ 5 \neq 7$$
Hey
Okay, now here is another one:
$$\begin{align*}
\sum_{k=1}^n k = \frac{n(n+1)}{2}
\end{align*}$$

%%This is a comment. 
The comment is not visible.
This is the end of the comment %%

This is the end of this note. This is visible.</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L756" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.replace_auto_tags_with_regular_tags" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.replace_auto_tags_with_regular_tags">MarkdownFile.replace_auto_tags_with_regular_tags</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.replace_auto_tags_with_regular_tags (exclude:list[str]=None,
                                                   enquote_entries_in_meta
                                                   data_fields:list[str]=[
                                                   ])</code></pre>
</blockquote>
<p>*Replace tags in the frontmatter metadata starting with <code>_auto/</code> with tags without the <code>_auto/</code>.</p>
<p>Ultimately the <code>replace_metadata</code> method is used to modify the YAML metadata. Use the <code>enquote_entries_in_metadata_fields</code> parameter to ensure that the <code>replace_metadata</code> invocation preserves enquoted metadata values.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>exclude</td>
<td>list</td>
<td>None</td>
<td>The tags whose <code>_auto/</code> tags should not be converted. The str should not start with <code>'#'</code> and should not start with <code>'_auto/'</code>.</td>
</tr>
<tr class="even">
<td>enquote_entries_in_metadata_fields</td>
<td>list</td>
<td>[]</td>
<td>A list of str of fields in the YAML metadata whose entries need to be enquoted. If there is a string that is not a key of <code>new_metadata</code>, then that string is essentially ignored (in particular, no errors are raised).</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>One can use <code>/</code> characters to create “subtags”. <code>trouver</code> recognizes <code>_auto</code> tags, which are tags that <code>trouver</code> adds to mark notes that it has processed in certain ways.</p>
<p>For example, <code>trove.markdown.osidian.personal.machine_learning.tag_categorization</code> can label the “types” of the content of information notes. For example, if this labelling process determines an information note to be a definition note, then it will add a <code>_auto/_meta/definition</code> tag, as opposed to a <code>_meta/definition</code> tag. This way, one can recognize that the tag was added automatically via a machine learning model and may be prone to error.</p>
<p>The <code>replace_auto_tags_with_regular_tags</code> replaces <code>_auto</code> tags with regular tags. This can be useful, for example, once tags for a multitude of notes have been verified.</p>
<div id="cell-141" class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_2)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.has_tag(<span class="st">'_auto/_meta/notation'</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>mf.replace_auto_tags_with_regular_tags()</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> mf.has_tag(<span class="st">'_meta/notation'</span>)</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="kw">not</span> mf.has_tag(<span class="st">"_auto/_meta/notation"</span>)</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
tags: [_meta/definition, _meta/concept, _meta/notation, this_tag_will_be_removed]
---
# Topic
This is some note with some stuff.</code></pre>
</div>
</div>
<section id="display-math-mode-tags" class="level4">
<h4 class="anchored" data-anchor-id="display-math-mode-tags">display math mode tags</h4>
<p>The difference between headers and display math mode tags is that the former has a space between the hashtags and the text and the latter does not. For example, <code># Header</code> is a header and <code>#tag</code> is a tag.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L781" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="markdownfile.remove_in_line_tags" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_in_line_tags">MarkdownFile.remove_in_line_tags</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_in_line_tags ()</code></pre>
</blockquote>
<p><em>Remove lines starting with in line tags.</em></p>
<div id="cell-145" class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_3)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>mf.remove_in_line_tags()</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(mf))</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf.parts)</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(mf.parts) <span class="op">==</span> <span class="dv">7</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="st"># Section 1</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="st">Some stuff</span></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="st"># Hello</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
# Section 1
Some stuff


# Hello

[{'line': '', 'type': &lt;MarkdownLineEnum.BLANK_LINE: 9&gt;}, {'line': '# Section 1', 'type': &lt;MarkdownLineEnum.HEADING: 1&gt;}, {'line': 'Some stuff', 'type': &lt;MarkdownLineEnum.DEFAULT: 0&gt;}, {'line': '', 'type': &lt;MarkdownLineEnum.BLANK_LINE: 9&gt;}, {'line': '', 'type': &lt;MarkdownLineEnum.BLANK_LINE: 9&gt;}, {'line': '# Hello', 'type': &lt;MarkdownLineEnum.HEADING: 1&gt;}, {'line': '', 'type': &lt;MarkdownLineEnum.BLANK_LINE: 9&gt;}]</code></pre>
</div>
</div>
<div id="cell-146" class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>template_mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>template_mf.remove_in_line_tags()</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(template_mf) <span class="op">==</span> template_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="extract-raw-content-from-a-markownfile-object" class="level2">
<h2 class="anchored" data-anchor-id="extract-raw-content-from-a-markownfile-object">Extract raw content from a <code>MarkownFile</code> object</h2>
<p>One can add a multitude of meta-data to Obsidian Markdown notes - frontmatter metadata, headers/footers, links, embedded links, tags, etc.</p>
<p>We can extract raw content from notes by removing a combination of these meta-data.</p>
<p>See also <code>remove_in_line_tags</code>.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L791" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.replace_links_with_display_text" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.replace_links_with_display_text">MarkdownFile.replace_links_with_display_text</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.replace_links_with_display_text
                                               (remove_embedded_note_links
                                               :bool=False)</code></pre>
</blockquote>
<p><em>Remove nonembedded links and replaces them with their display text.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>remove_embedded_note_links</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, remove links to embedded notes as well. If <code>False</code>, does not modify embedded notes.`</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-150" class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_4)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>mf.replace_links_with_display_text()</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(mf))</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="st"># Some thing</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="st">I have a link</span></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="st">## Another topic</span></span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="st">This is a link without a specified display text: some_kind_of_note.</span></span>
<span id="cb113-11"><a href="#cb113-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-12"><a href="#cb113-12" aria-hidden="true" tabindex="-1"></a><span class="st">This is a link to an anchor without a specified display text: another_note &gt; another anchor."""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
# Some thing

I have a link

## Another topic
This is a link without a specified display text: some_kind_of_note.

This is a link to an anchor without a specified display text: another_note &gt; another anchor.</code></pre>
</div>
</div>
<p>If <code>remove_embedded_note_links=True</code>, then embedded links will be replaced with their “display text” as a link; they will not be replaced with the underlying embedded text.</p>
<div id="cell-152" class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_5)</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>mf.replace_links_with_display_text()</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> text_5</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>mf.replace_links_with_display_text(remove_embedded_note_links<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(mf))</span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""# A header</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="st">This note is embedded.</span></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="st">The link above should will not be replaced by `replace_links_with_display_text`,</span></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a><span class="st">unless `remove_embedded_note_links` is set to `True`."""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A header
This note is embedded.

The link above should will not be replaced by `replace_links_with_display_text`,
unless `remove_embedded_note_links` is set to `True`.</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L967" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_footnotes_to_embedded_links" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_footnotes_to_embedded_links">MarkdownFile.remove_footnotes_to_embedded_links</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_footnotes_to_embedded_links
                                                  (remove_footnote_mention
                                                  s:bool=True)</code></pre>
</blockquote>
<p>*Remove footnotes to embedded links.</p>
<p>These are footnotes whose only content are embedded links, e.g. <code>[^1]: ![[embedded_note]]</code>*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>remove_footnote_mentions</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, removes the mentions to the footnote to the embedded links in the text.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>I very often use footnotes with only embedded links. We can remove such footnotes.</p>
<div id="cell-155" class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_6)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>mf.remove_footnotes_to_embedded_links()</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="st"># Header</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="st">I want to link to some embedded note</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a><span class="st">You can also let the footnote mention be alphanumeric</span></span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Setting <code>remove_footnote_mentions=False</code> removes the content of the footnotes themselves, but leaves the mentions intact:</p>
<div id="cell-157" class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_6)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>mf.remove_footnotes_to_embedded_links(remove_footnote_mentions<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="st"># Header</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a><span class="st">I want to link to some embedded note[^1]</span></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a><span class="st">You can also let the footnote mention be alphanumeric[^1][^note]</span></span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-158" class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hide</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_7)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>mf.remove_footnotes_to_embedded_links(remove_footnote_mentions<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="st">'[^2]'</span> <span class="kw">not</span> <span class="kw">in</span> <span class="bu">str</span>(mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L993" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_headers" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_headers">MarkdownFile.remove_headers</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_headers ()</code></pre>
</blockquote>
<p><em>Remove all headers.</em></p>
<p>We can remove all of the headers and leave the rest of the text intact</p>
<div id="cell-161" class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>mf.remove_headers()</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""---</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="st">cssclass: clean-embeds</span></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="st">aliases: []</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="st">tags: [_meta/literature_note]</span></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="st">[^1]: Citation"""</span></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_1)</span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a>mf.remove_headers()</span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""</span></span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a><span class="st">some text </span></span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a><span class="st">asdfasdf</span></span>
<span id="cb122-19"><a href="#cb122-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-20"><a href="#cb122-20" aria-hidden="true" tabindex="-1"></a><span class="st">Didididi</span></span>
<span id="cb122-21"><a href="#cb122-21" aria-hidden="true" tabindex="-1"></a><span class="st">Dododododo"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1001" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_double_blank_lines" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_double_blank_lines">MarkdownFile.remove_double_blank_lines</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_double_blank_lines ()</code></pre>
</blockquote>
<p><em>Remove blank lines so that there are no consecutive blank lines</em></p>
<p>When removing some of the “metadata”, the content of the note can be left with a lot of consecutive blank lines. To ensure that machine-learning models will not develop some kind of blank line bias, we can remove such consecutive blank lines.</p>
<div id="cell-164" class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(template_text)</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>mf.remove_headers()</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>mf.remove_double_blank_lines()</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="st">"""---</span></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="st">cssclass: clean-embeds</span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="st">aliases: []</span></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="st">tags: [_meta/literature_note]</span></span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="st">---</span></span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a><span class="st">[^1]: Citation"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L864" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.replace_embedded_links_with_text" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.replace_embedded_links_with_text">MarkdownFile.replace_embedded_links_with_text</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.replace_embedded_links_with_text (vault:os.PathLike,
                                                recursive:bool=True, remov
                                                e_paragraph_id:bool=True)</code></pre>
</blockquote>
<p>*Remove embedded links and replaces them with their underlying text, as found in notes in the vault.</p>
<p>Assumes that the embedded links do not loop infinitely.</p>
<p>For embedded links to notes that do not exist in the vault, the embedded links are replaced with blank str.</p>
<p>No new entries are added to <code>self.parts</code> even if the embedded links have multiple lines.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>recursive</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, then recursively replaces embedded links in the text of the embedded links.</td>
</tr>
<tr class="odd">
<td>remove_paragraph_id</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, then removes the paragraph id’s in the text of the embedded links. Leaves the paragraph id’s of the origianl text in tact.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-166" class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: test recursive</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>    make_example_vault_2(temp_dir)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>    vault <span class="op">=</span> Path(temp_dir)</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>    vn <span class="op">=</span> VaultNote(vault, name<span class="op">=</span><span class="st">'note_with_embedded_links_1'</span>)</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(vn)</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>    mf.replace_embedded_links_with_text(vault)</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="vs">r"""This is a note.</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a><span class="vs">There are some embedded text here:</span></span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a><span class="vs">Hello, this is a note which becomes entirely embedded.</span></span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a><span class="vs">The comment is not visible.</span></span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a><span class="vs">This is the end of the comment </span><span class="sc">%%</span></span>
<span id="cb126-16"><a href="#cb126-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-17"><a href="#cb126-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-18"><a href="#cb126-18" aria-hidden="true" tabindex="-1"></a><span class="vs">cheese </span></span>
<span id="cb126-19"><a href="#cb126-19" aria-hidden="true" tabindex="-1"></a><span class="vs">bandit</span></span>
<span id="cb126-20"><a href="#cb126-20" aria-hidden="true" tabindex="-1"></a><span class="vs">$$asdf$$</span></span>
<span id="cb126-21"><a href="#cb126-21" aria-hidden="true" tabindex="-1"></a><span class="vs">asdf </span></span>
<span id="cb126-22"><a href="#cb126-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-23"><a href="#cb126-23" aria-hidden="true" tabindex="-1"></a><span class="vs">$$5 \neq 7</span></span>
<span id="cb126-24"><a href="#cb126-24" aria-hidden="true" tabindex="-1"></a><span class="vs">$$ </span></span>
<span id="cb126-25"><a href="#cb126-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-26"><a href="#cb126-26" aria-hidden="true" tabindex="-1"></a><span class="vs"># Section</span></span>
<span id="cb126-27"><a href="#cb126-27" aria-hidden="true" tabindex="-1"></a><span class="vs">Some kind of section?</span></span>
<span id="cb126-28"><a href="#cb126-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-29"><a href="#cb126-29" aria-hidden="true" tabindex="-1"></a><span class="vs">Lalalala</span></span>
<span id="cb126-30"><a href="#cb126-30" aria-hidden="true" tabindex="-1"></a><span class="vs">## Subsection</span></span>
<span id="cb126-31"><a href="#cb126-31" aria-hidden="true" tabindex="-1"></a><span class="vs">argonaut"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>setting <code>remove_paragraph_id=False</code> keeps the paragraph id’s in the embedded text.</p>
<div id="cell-168" class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>    make_example_vault_2(temp_dir)</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>    vault <span class="op">=</span> Path(temp_dir)</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>    vn <span class="op">=</span> VaultNote(vault, name<span class="op">=</span><span class="st">'note_with_embedded_links_1'</span>)</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(vn)</span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(vn)</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>    mf.replace_embedded_links_with_text(vault, remove_paragraph_id<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb127-8"><a href="#cb127-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">str</span>(mf))</span>
<span id="cb127-9"><a href="#cb127-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">str</span>(mf) <span class="op">==</span> <span class="vs">r"""This is a note.</span></span>
<span id="cb127-10"><a href="#cb127-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-11"><a href="#cb127-11" aria-hidden="true" tabindex="-1"></a><span class="vs">There are some embedded text here:</span></span>
<span id="cb127-12"><a href="#cb127-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-13"><a href="#cb127-13" aria-hidden="true" tabindex="-1"></a><span class="vs">Hello, this is a note which becomes entirely embedded.</span></span>
<span id="cb127-14"><a href="#cb127-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-15"><a href="#cb127-15" aria-hidden="true" tabindex="-1"></a><span class="vs">The comment is not visible.</span></span>
<span id="cb127-16"><a href="#cb127-16" aria-hidden="true" tabindex="-1"></a><span class="vs">This is the end of the comment </span><span class="sc">%%</span></span>
<span id="cb127-17"><a href="#cb127-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-18"><a href="#cb127-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-19"><a href="#cb127-19" aria-hidden="true" tabindex="-1"></a><span class="vs">cheese </span></span>
<span id="cb127-20"><a href="#cb127-20" aria-hidden="true" tabindex="-1"></a><span class="vs">bandit</span></span>
<span id="cb127-21"><a href="#cb127-21" aria-hidden="true" tabindex="-1"></a><span class="vs">$$asdf$$</span></span>
<span id="cb127-22"><a href="#cb127-22" aria-hidden="true" tabindex="-1"></a><span class="vs">asdf </span></span>
<span id="cb127-23"><a href="#cb127-23" aria-hidden="true" tabindex="-1"></a><span class="vs">^65809f</span></span>
<span id="cb127-24"><a href="#cb127-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-25"><a href="#cb127-25" aria-hidden="true" tabindex="-1"></a><span class="vs">$$5 \neq 7</span></span>
<span id="cb127-26"><a href="#cb127-26" aria-hidden="true" tabindex="-1"></a><span class="vs">$$ </span></span>
<span id="cb127-27"><a href="#cb127-27" aria-hidden="true" tabindex="-1"></a><span class="vs">^221b51</span></span>
<span id="cb127-28"><a href="#cb127-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-29"><a href="#cb127-29" aria-hidden="true" tabindex="-1"></a><span class="vs"># Section</span></span>
<span id="cb127-30"><a href="#cb127-30" aria-hidden="true" tabindex="-1"></a><span class="vs">Some kind of section?</span></span>
<span id="cb127-31"><a href="#cb127-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-32"><a href="#cb127-32" aria-hidden="true" tabindex="-1"></a><span class="vs">Lalalala</span></span>
<span id="cb127-33"><a href="#cb127-33" aria-hidden="true" tabindex="-1"></a><span class="vs">## Subsection</span></span>
<span id="cb127-34"><a href="#cb127-34" aria-hidden="true" tabindex="-1"></a><span class="vs">argonaut"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>This is a note.

There are some embedded text here:

Hello, this is a note which becomes entirely embedded.
%%This is a comment. 
The comment is not visible.
This is the end of the comment %%


cheese 
bandit
$$asdf$$
asdf 
^65809f

$$5 \neq 7
$$ 
^221b51

# Section
Some kind of section?

Lalalala
## Subsection
argonaut</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1011" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.remove_html_tags" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.remove_html_tags">MarkdownFile.remove_html_tags</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.remove_html_tags ()</code></pre>
</blockquote>
<p>*Remove HTML tags that are typeset in single lines.</p>
<p>HTML tags that span multiple lines are ignored.*</p>
<div id="cell-170" class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: test</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1021" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.merge_display_math_mode" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.merge_display_math_mode">MarkdownFile.merge_display_math_mode</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.merge_display_math_mode ()</code></pre>
</blockquote>
<p><em>Merge chunks of display_math_mode latex lines into single lines</em></p>
<div id="cell-172" class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_10)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>mf.merge_display_math_mode()</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(mf.parts) <span class="op">==</span> <span class="dv">13</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>This is a single line display math mode LaTeX equation:

$$\mathcal{O}_X$$

This is a single multi-line display math mode LaTeX equation:

$$ 5 + 2 = 7 $$

These are multiple consecutive display math mode LaTeX equations:

$$1+1 = 2 $$
$$5 + 7 = 14$$
$$  8 + 4 = 12  $$</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1046" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.merge_display_math_mode_into_preceding_text" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.merge_display_math_mode_into_preceding_text">MarkdownFile.merge_display_math_mode_into_preceding_text</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.merge_display_math_mode_into_preceding_text
                                                           (separator:str=
                                                           '\n')</code></pre>
</blockquote>
<p><em>Merge chunks of display math mode latex lines into single lines and merge those single lines into preceding text lines.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>separator</td>
<td>str</td>
<td><br></td>
<td>The str with which to join the latex lines into the text lines. Note that the display math mode latex lines are not joined with this str.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-174" class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_10)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>mf.merge_display_math_mode_into_preceding_text(separator<span class="op">=</span><span class="st">' '</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(mf.parts) <span class="op">==</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>This is a single line display math mode LaTeX equation:  $$\mathcal{O}_X$$

This is a single multi-line display math mode LaTeX equation:  $$ 5 + 2 = 7 $$

These are multiple consecutive display math mode LaTeX equations:  $$1+1 = 2 $$ $$5 + 7 = 14$$ $$  8 + 4 = 12  $$</code></pre>
</div>
</div>
<p>We can set <code>separator</code> to its default value <code>\n</code>.</p>
<div id="cell-176" class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_10)</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>mf.merge_display_math_mode_into_preceding_text(separator<span class="op">=</span><span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(mf.parts) <span class="op">==</span> <span class="dv">5</span>  <span class="co"># Some of the parts have 'line' as multi-line str i.e. as str with `\n` characters.</span></span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="st">'</span><span class="ch">\n</span><span class="st">'</span> <span class="kw">in</span> mf.parts[<span class="dv">0</span>][<span class="st">'line'</span>]</span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="st">'</span><span class="ch">\n</span><span class="st">'</span> <span class="kw">not</span> <span class="kw">in</span> mf.parts[<span class="dv">1</span>][<span class="st">'line'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>This is a single line display math mode LaTeX equation:

$$\mathcal{O}_X$$

This is a single multi-line display math mode LaTeX equation:

$$ 5 + 2 = 7 $$

These are multiple consecutive display math mode LaTeX equations:

$$1+1 = 2 $$
$$5 + 7 = 14$$
$$  8 + 4 = 12  $$</code></pre>
</div>
</div>
<p>If the text starts with display math mode LaTeX, then that text is combined into one.</p>
<div id="cell-178" class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>mf <span class="op">=</span> MarkdownFile.from_string(text_11)</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>mf.merge_display_math_mode_into_preceding_text(separator<span class="op">=</span><span class="st">' '</span>)</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mf)</span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(mf.parts) <span class="op">==</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$$asdf$$ $$asdf$$ $$asdf$$
After text.</code></pre>
</div>
</div>
</section>
</section>
<section id="writing-a-markdownfile-object-to-a-file" class="level2">
<h2 class="anchored" data-anchor-id="writing-a-markdownfile-object-to-a-file">Writing a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object to a file</h2>
<p>We can write the contents of a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object to the file represented by <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault.html#vaultnote"><code>VaultNote</code></a> object.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L804" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.parts_of_id" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.parts_of_id">MarkdownFile.parts_of_id</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.parts_of_id (par_id:str)</code></pre>
</blockquote>
<p>*Return the indices of the lines within the Markdown file belonging to the specified text id.</p>
<p>This id can be used as an anchor for a link in Obsidian. For example, <code>[[note#^65809f]]</code> is a link to a note named <code>note</code> to the text with id <code>65809f</code>. Such a text is marked with a trailing <code>^65809f</code>.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>par_id</td>
<td>str</td>
<td>Must begin with <code>'\^'</code>.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>Optional</strong></td>
<td><strong><code>(start,end)</code> where <code>self.parts[start:end]</code> consists of the lines of the specified id. If the specified id does not exist for the note, then <code>None</code> is returned.</strong></td>
</tr>
</tbody>
</table>
<p>Links in Obsidian can be anchored at “paragraphs” of text. As Wikilinks, such links have the format <code>[[&lt;note_name&gt;#^&lt;id_of_paragraph&gt;]]</code>. Note that the id begins with a carat <code>^</code>.</p>
<p>We can get the parts of the Markdown file to which the id refers to:</p>
<div id="cell-183" class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>    make_example_vault_2(temp_dir)</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>    vault <span class="op">=</span> Path(temp_dir)</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>    vn <span class="op">=</span> VaultNote(vault, name <span class="op">=</span> <span class="st">'note_with_paragraphs_that_are_embedded_1'</span>)</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(vn)</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>    start, end <span class="op">=</span> mf.parts_of_id(<span class="st">'^65809f'</span>)</span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> start <span class="op">==</span> <span class="dv">3</span> <span class="kw">and</span> end <span class="op">==</span> <span class="dv">8</span></span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.text_of_lines(start, end), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb142-10"><a href="#cb142-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lines = [mf.parts[i]['line'] for i in range(start, end)]</span></span>
<span id="cb142-11"><a href="#cb142-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print('\n'.join(lines))</span></span>
<span id="cb142-12"><a href="#cb142-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-13"><a href="#cb142-13" aria-hidden="true" tabindex="-1"></a>    start, end <span class="op">=</span> mf.parts_of_id(<span class="st">'^221b51'</span>)</span>
<span id="cb142-14"><a href="#cb142-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> start <span class="op">==</span> <span class="dv">13</span> <span class="kw">and</span> end <span class="op">==</span> <span class="dv">16</span></span>
<span id="cb142-15"><a href="#cb142-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.text_of_lines(start, end), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb142-16"><a href="#cb142-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-17"><a href="#cb142-17" aria-hidden="true" tabindex="-1"></a>    start, end <span class="op">=</span> mf.parts_of_id(<span class="st">'^123456'</span>)</span>
<span id="cb142-18"><a href="#cb142-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> start <span class="op">==</span> <span class="dv">17</span> <span class="kw">and</span> end <span class="op">==</span> <span class="dv">18</span></span>
<span id="cb142-19"><a href="#cb142-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.text_of_lines(start, end), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb142-20"><a href="#cb142-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-21"><a href="#cb142-21" aria-hidden="true" tabindex="-1"></a>    start, end <span class="op">=</span> mf.parts_of_id(<span class="st">'^fff123'</span>)</span>
<span id="cb142-22"><a href="#cb142-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> start <span class="op">==</span> <span class="dv">20</span> <span class="kw">and</span> end <span class="op">==</span> <span class="dv">21</span></span>
<span id="cb142-23"><a href="#cb142-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.text_of_lines(start, end), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb142-24"><a href="#cb142-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-25"><a href="#cb142-25" aria-hidden="true" tabindex="-1"></a>    start, end <span class="op">=</span> mf.parts_of_id(<span class="st">'^latexthing'</span>)</span>
<span id="cb142-26"><a href="#cb142-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> start <span class="op">==</span> <span class="dv">22</span> <span class="kw">and</span> end <span class="op">==</span> <span class="dv">23</span></span>
<span id="cb142-27"><a href="#cb142-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.text_of_lines(start, end), <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cheese 
bandit
$$asdf$$
asdf 
^65809f 

$$5 \neq 7
$$ 
^221b51 

# This section has an id ^123456 

^fff123 

$$\mathcal{O}_X$$  ^latexthing 
</code></pre>
</div>
</div>
<section id="hidden-tests" class="level4">
<h4 class="anchored" data-anchor-id="hidden-tests">Hidden tests</h4>
<div id="cell-185" class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hide </span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> _look_at_start_of_file, _line_dict</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="misc-todo" class="level2">
<h2 class="anchored" data-anchor-id="misc-todo">Misc TODO</h2>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L213" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="markdownfile.text_of_lines" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.text_of_lines">MarkdownFile.text_of_lines</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.text_of_lines (start:int, end:int)</code></pre>
</blockquote>
<p><em>Return the text of <code>self.parts[start:end]</code>, adding new line characters <code>' '</code> in between.</em></p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L369" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.write" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.write">MarkdownFile.write</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.write (vn:trouver.markdown.obsidian.vault.VaultNote,
                     mode:str='w', check_validity:bool=True)</code></pre>
</blockquote>
<p>*Write to the file specified by a <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault.html#vaultnote"><code>VaultNote</code></a> object.</p>
<p>If the file that the <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault.html#vaultnote"><code>VaultNote</code></a> object represents does not exist, then this method creates it.</p>
<p><strong>Raises</strong> - <code>ValueError</code> - If <code>check_validity</code> is <code>True</code> and if <code>str(self)</code> cannot be parsed as a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object. If this error is raised, then most likely the issue is that the frontmatter metadata cannot be parsed by <code>pyyaml</code> and the metadata field elements need to be escaped and/or enquoted.<br>
It is recommended to use <code>.replace_metadata</code> and passing arguments to the <code>enquote_entries_in_fields</code> parameter or to use the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#dict_to_metadata_lines"><code>dict_to_metadata_lines</code></a> function to ensure that metadata fields are enquoted and escaped.*</p>
<p>The <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile.write"><code>MarkdownFile.write</code></a> method raises a <code>ValueError</code> if <code>check_validity</code> is <code>True</code> and if the output of <code>.__str__()</code> on the <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object cannot be parsed as a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object itself.</p>
<div id="cell-190" class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>    make_example_vault(temp_dir)</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The following text is parseable by pyyaml.</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    metadata_markdownfile_text <span class="op">=</span> <span class="vs">r'''---</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a><span class="vs">latex_in_original: ["\\text</span><span class="sc">{hi}</span><span class="vs">"]</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a><span class="vs">blahblah</span></span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a><span class="vs">'''</span></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_string(metadata_markdownfile_text)</span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Note that `mf` is completely fine right after it is constructed:"</span>)</span>
<span id="cb147-12"><a href="#cb147-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">str</span>(mf))</span>
<span id="cb147-13"><a href="#cb147-13" aria-hidden="true" tabindex="-1"></a>    MarkdownFile.from_string(<span class="bu">str</span>(mf))  <span class="co"># This does not raise errors</span></span>
<span id="cb147-14"><a href="#cb147-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-15"><a href="#cb147-15" aria-hidden="true" tabindex="-1"></a>    mf.add_tags(<span class="st">'_new_tag'</span>)</span>
<span id="cb147-16"><a href="#cb147-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">After adding a tag, however, the metadata changes. Note that the `latex_in_original` field is no longer enquoted and escaped:'</span>)</span>
<span id="cb147-17"><a href="#cb147-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.<span class="fu">__str__</span>())</span>
<span id="cb147-18"><a href="#cb147-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\n\n</span><span class="st">To prevent further problems, the `.write` method raises a `ValueError`'</span>)</span>
<span id="cb147-19"><a href="#cb147-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-20"><a href="#cb147-20" aria-hidden="true" tabindex="-1"></a>    vault_note <span class="op">=</span> VaultNote(temp_dir, name<span class="op">=</span><span class="st">'pauli_wickelgren_aa1_example 3.7'</span>)</span>
<span id="cb147-21"><a href="#cb147-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-22"><a href="#cb147-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(ex<span class="op">=</span><span class="pp">ValueError</span>):</span>
<span id="cb147-23"><a href="#cb147-23" aria-hidden="true" tabindex="-1"></a>        mf.write(vault_note)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Note that `mf` is completely fine right after it is constructed:
---
latex_in_original: ["\\text{hi}"]
---
blahblah

After adding a tag, however, the metadata changes. Note that the `latex_in_original` field is no longer enquoted and escaped:
---
latex_in_original: [\text{hi}]
tags: [_new_tag]
---
blahblah


To prevent further problems, the `.write` method raises a `ValueError`</code></pre>
</div>
</div>
<p>If <code>check_validity</code> is <code>False</code>, then the <code>.write</code> method will attempt to write to the file of the <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault.html#vaultnote"><code>VaultNote</code></a> object. However, note that the resulting file writing may result not be fully parseable as a <a href="https://hyunjongkimmath.github.io/trouver/markdown.markdown.file.html#markdownfile"><code>MarkdownFile</code></a> object.</p>
<div id="cell-192" class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>    make_example_vault(temp_dir)</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The following text is parseable by pyyaml.</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>    metadata_markdownfile_text <span class="op">=</span> <span class="vs">r'''---</span></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a><span class="vs">latex_in_original: ["\\text</span><span class="sc">{hi}</span><span class="vs">"]</span></span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a><span class="vs">blahblah</span></span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a><span class="vs">'''</span></span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_string(metadata_markdownfile_text)</span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Note that `mf` is completely fine right after it is constructed:"</span>)</span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">str</span>(mf))</span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a>    MarkdownFile.from_string(<span class="bu">str</span>(mf))  <span class="co"># This does not raise errors</span></span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-15"><a href="#cb149-15" aria-hidden="true" tabindex="-1"></a>    mf.add_tags(<span class="st">'_new_tag'</span>)</span>
<span id="cb149-16"><a href="#cb149-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">After adding a tag, however, the metadata changes. Note that the `latex_in_original` field is no longer enquoted and escaped:'</span>)</span>
<span id="cb149-17"><a href="#cb149-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf.<span class="fu">__str__</span>())</span>
<span id="cb149-18"><a href="#cb149-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'</span><span class="ch">\n\n</span><span class="st">To prevent further problems, the `.write` method raises a `ValueError`'</span>)</span>
<span id="cb149-19"><a href="#cb149-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-20"><a href="#cb149-20" aria-hidden="true" tabindex="-1"></a>    vault_note <span class="op">=</span> VaultNote(temp_dir, name<span class="op">=</span><span class="st">'pauli_wickelgren_aa1_example 3.7'</span>)</span>
<span id="cb149-21"><a href="#cb149-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-22"><a href="#cb149-22" aria-hidden="true" tabindex="-1"></a>    mf.write(vault_note, check_validity<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb149-23"><a href="#cb149-23" aria-hidden="true" tabindex="-1"></a>    new_mf <span class="op">=</span> MarkdownFile.from_vault_note(vault_note)</span>
<span id="cb149-24"><a href="#cb149-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>): <span class="co"># The ValueError is from the .metadata method.</span></span>
<span id="cb149-25"><a href="#cb149-25" aria-hidden="true" tabindex="-1"></a>        new_mf.metadata()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Note that `mf` is completely fine right after it is constructed:
---
latex_in_original: ["\\text{hi}"]
---
blahblah

After adding a tag, however, the metadata changes. Note that the `latex_in_original` field is no longer enquoted and escaped:
---
latex_in_original: [\text{hi}]
tags: [_new_tag]
---
blahblah


To prevent further problems, the `.write` method raises a `ValueError`</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/markdown/file.py#L1131" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="markdownfile.copy" class="level3">
<h3 class="anchored" data-anchor-id="markdownfile.copy">MarkdownFile.copy</h3>
<blockquote class="blockquote">
<pre><code> MarkdownFile.copy (deep:bool)</code></pre>
</blockquote>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hyunjongkimmath\.github\.io\/trouver");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hyunjongkimmath/trouver/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>