<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Functions for gathering machine learning data on the types of math information notes from tags and for using ML models trained on such data to predict typeso of math information notes.">

<title>markdown.obsidian.personal.machine_learning.information_note_types – trouver</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ebc57992554dae5230fa85c1bd5a55fa.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="markdown.obsidian.personal.machine_learning.information_note_types – trouver">
<meta property="og:description" content="Functions for gathering machine learning data on the types of math information notes from tags and for using ML models trained on such data to predict typeso of math information notes.">
<meta property="og:site_name" content="trouver">
<meta name="twitter:title" content="markdown.obsidian.personal.machine_learning.information_note_types – trouver">
<meta name="twitter:description" content="Functions for gathering machine learning data on the types of math information notes from tags and for using ML models trained on such data to predict typeso of math information notes.">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">trouver</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./markdown.obsidian.personal.machine_learning.information_note_types.html">markdown.obsidian.personal.machine_learning.information_note_types</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">trouver</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.vault.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.vault</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.markdown.file.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.markdown.file</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.markdown.heading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.markdown.heading</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.tags.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.tags</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.footnotes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.footnotes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.reference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obisidian.personal.authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.authors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.index_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.index_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.note_type.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.note_type</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.convert.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.convert</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.notations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.note_processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.note_processing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.notation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.information_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.information_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learninig.database_update.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.database_update</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.information_note_types.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.information_note_types</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notation_identification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.notation_identification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notation_summarization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.notation_summarization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.tokenize.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.tokenize</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.vault.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.vault</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.divide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.divide</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.folders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.folders</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.formatting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.formatting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.preamble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.preamble</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.comments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex.comments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.machine_learning.notation_linking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.notation_linking</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.definition_and_notation_naming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.definition_and_notation_naming</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.regex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.definition_and_notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.definition_and_notation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.numbers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./41_helper.accented_characters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">41_helper.accented_characters.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.date_and_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.date_and_time</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./43_helper.topological_sort.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topological sort</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./44_helper.alphabet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Alphabet</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.path_accepted_string.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.path_accepted_string</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./46_helper.files_and_folders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Files and folders</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.macros_and_commands.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex.macros_and_commands</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.arxiv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.arxiv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.vault_and_links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.vault_and_links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.parse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.notation.parse</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.in_standard_information_note.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.notation.in_standard_information_note</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.note_division.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.note_division</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>app.__init__</code></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./todo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TODO list</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_to.install_trouver.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">how_to.install_trouver</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_to.train_ml_model.fastai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">how_to.train_ml_model.fastai</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">release_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./star.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorial.concise_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tutorial.concise_code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorial.walkthrough.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tutorial.walkthrough</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./unused.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./using_regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Regex</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#gather-and-label-data" id="toc-gather-and-label-data" class="nav-link active" data-scroll-target="#gather-and-label-data">Gather and label data</a>
  <ul class="collapse">
  <li><a href="#note_is_labeled_with_tag" id="toc-note_is_labeled_with_tag" class="nav-link" data-scroll-target="#note_is_labeled_with_tag">note_is_labeled_with_tag</a></li>
  <li><a href="#note_labels" id="toc-note_labels" class="nav-link" data-scroll-target="#note_labels">note_labels</a></li>
  <li><a href="#labels_and_identifying_info_from_notes" id="toc-labels_and_identifying_info_from_notes" class="nav-link" data-scroll-target="#labels_and_identifying_info_from_notes">labels_and_identifying_info_from_notes</a></li>
  <li><a href="#information_note_types_as_dataset" id="toc-information_note_types_as_dataset" class="nav-link" data-scroll-target="#information_note_types_as_dataset">information_note_types_as_dataset</a></li>
  <li><a href="#gather_information_note_types" id="toc-gather_information_note_types" class="nav-link" data-scroll-target="#gather_information_note_types">gather_information_note_types</a></li>
  <li><a href="#append_to_information_note_type_database" id="toc-append_to_information_note_type_database" class="nav-link" data-scroll-target="#append_to_information_note_type_database">append_to_information_note_type_database</a></li>
  </ul></li>
  <li><a href="#use-the-trained-model-to-predict-note-types" id="toc-use-the-trained-model-to-predict-note-types" class="nav-link" data-scroll-target="#use-the-trained-model-to-predict-note-types">Use the trained model to predict note types</a>
  <ul class="collapse">
  <li><a href="#possible_text_type_labels" id="toc-possible_text_type_labels" class="nav-link" data-scroll-target="#possible_text_type_labels">possible_text_type_labels</a></li>
  <li><a href="#predict_text_types_with_one_learner" id="toc-predict_text_types_with_one_learner" class="nav-link" data-scroll-target="#predict_text_types_with_one_learner">predict_text_types_with_one_learner</a></li>
  <li><a href="#consolidate_single_text_predictions_by_sum_of_confidence" id="toc-consolidate_single_text_predictions_by_sum_of_confidence" class="nav-link" data-scroll-target="#consolidate_single_text_predictions_by_sum_of_confidence">consolidate_single_text_predictions_by_sum_of_confidence</a></li>
  <li><a href="#predict_note_types" id="toc-predict_note_types" class="nav-link" data-scroll-target="#predict_note_types">predict_note_types</a></li>
  <li><a href="#automatically_add_note_type_tags" id="toc-automatically_add_note_type_tags" class="nav-link" data-scroll-target="#automatically_add_note_type_tags">automatically_add_note_type_tags</a></li>
  </ul></li>
  <li><a href="#convert-_auto-tags-to-regular-tags" id="toc-convert-_auto-tags-to-regular-tags" class="nav-link" data-scroll-target="#convert-_auto-tags-to-regular-tags">Convert <code>_auto/</code> tags to regular tags</a>
  <ul class="collapse">
  <li><a href="#convert_auto_tags_to_regular_tags_in_notes" id="toc-convert_auto_tags_to_regular_tags_in_notes" class="nav-link" data-scroll-target="#convert_auto_tags_to_regular_tags_in_notes">convert_auto_tags_to_regular_tags_in_notes</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hyunjongkimmath/trouver/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">markdown.obsidian.personal.machine_learning.information_note_types</h1>
</div>

<div>
  <div class="description">
    Functions for gathering machine learning data on the types of math information notes from tags and for using ML models trained on such data to predict typeso of math information notes.
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<p>Some common types of components in mathematical writing include: definitions, notations, concepts (e.g.&nbsp;theorems, propositions, corollaries, lemmas), proofs. The functions in this module gather data from labeled “standard information notes” (formatted in <code>trouver</code>’s standard formatting) in an <code>Obsidian.md</code> vault about the types of these notes. Such data can be used to train a categorization ML model to predict types of unlabeled notes.</p>
<p>The labels are done by Markdown tags in the notes’ YAML frontmatter meta (so tags in the body of the Markdown file, are ignored). For example, the note</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">cssclass:</span><span class="co"> clean-embeds</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">aliases:</span><span class="co"> []</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">tags:</span><span class="co"> [_meta/literature_note, _meta/definition]</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu"># This is a title of a note[^1]</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>We could talk about many things. I like to talk about rings!</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>A **ring** is a set equipped with two binary operators $+$ and $\cdot$</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>such that...</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu"># See Also</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu"># Meta</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>![<span class="co">[</span><span class="ot">_reference_sample_reference</span><span class="co">]</span>]</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">## Citations and Footnotes</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="ot">[^1]: </span>Author names, Some way to identify where this information comes from</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>has the tag <code>#_meta/definition</code> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div id="cell-3" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>LABEL_TAGS</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>['#_meta/concept',
 '#_meta/exercise',
 '#_meta/definition',
 '#_meta/example',
 '#_meta/narrative',
 '#_meta/notation',
 '#_meta/proof',
 '#_meta/remark',
 '#_meta/TODO/split',
 '#_meta/TODO/merge',
 '#_meta/TODO/delete',
 '#_meta/hint',
 '#_meta/how_to',
 '#_meta/conjecture',
 '#_meta/convention',
 '#_meta/context',
 '#_meta/permanent_note',
 '#_meta/question',
 '#_meta/problem']</code></pre>
</div>
</div>
<p><code>LABEL_TAGS</code> above lists the tags for the note types that we would like to eventually train a model to predict. The following are the tags for which the author of <code>trouver</code> has ample labeled data:</p>
<ul>
<li><code>#_meta/definition</code> labels a note that introduces a definition.</li>
<li><code>#_meta/notation</code> labels a note that introduces a notation.</li>
<li><code>#_meta/concept</code> labels a note that contains a general concept, e.g.&nbsp;by virtue of stating a theorem/proposiiton/lemma/corollary.</li>
<li><code>#_meta/proof</code> labels a note that contains a proof.</li>
<li><code>#_meta/narrative</code> labels a note that contains narrative - explainations of the material that is presented. Narratives most usually occur at the start/end of a chapter/section of a book/text/paper and in-between definitions/theorems/etc.</li>
<li><code>#_meta/exercise</code> labels a note that contains an exercise problem.</li>
<li><code>#_meta/remark</code> labels a note that contains a remark.</li>
<li><code>#_meta/example</code> labels a note that contains an example.</li>
<li><code>#_meta/context</code> labels a note that contains “contextual information”, i.e.&nbsp;information that other notes might depend on (e.g.&nbsp;“in this section, <span class="math inline">\(k\)</span> is an algebraically closed field”, “For the rest of this section, we assume that <span class="math inline">\(X\)</span> is a pointed topological space”).</li>
</ul>
<p>note that the author of <code>trouver</code> has only trained a model that predicts some of the note types listed in <code>LABEL_TAGS</code>. Moreover, the accuracy of the predictions can widely depend amongst the different types.</p>
<p>It is often appropriate to label a single note with more than one of these tags. For example, a note containing the statement “We define the ring <span class="math inline">\(\mathbb{Z}/n\mathbb{Z}\)</span> of integers modulo <span class="math inline">\(n\)</span>” is both a definition note and a notation note because it both introduces notion of the ring of integers modulo <span class="math inline">\(n\)</span> and gives notation for the ring.</p>
<div id="cell-5" class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastai.text.learner <span class="im">import</span> TextLearner</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastai.learner <span class="im">import</span> load_learner</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pathlib</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> WindowsPath</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> platform</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shutil</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tempfile</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> unittest <span class="im">import</span> mock</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastcore.test <span class="im">import</span> <span class="op">*</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastcore.test <span class="im">import</span> all_equal</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> torch <span class="im">import</span> tensor</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> trouver.helper.tests <span class="im">import</span> _test_directory</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> trouver.markdown.obsidian.personal.notes <span class="im">import</span> notes_linked_in_note</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="gather-and-label-data" class="level2">
<h2 class="anchored" data-anchor-id="gather-and-label-data">Gather and label data</h2>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L42" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="note_is_labeled_with_tag" class="level3">
<h3 class="anchored" data-anchor-id="note_is_labeled_with_tag">note_is_labeled_with_tag</h3>
<blockquote class="blockquote">
<pre><code> note_is_labeled_with_tag (note:trouver.markdown.obsidian.vault.VaultNote,
                           label_tag:str, count_auto_tags:bool=False)</code></pre>
</blockquote>
<p>*Return <code>True</code> if the standard information note is labeled as begin a specified type.</p>
<p><strong>Raises</strong></p>
<ul>
<li><code>ValueError</code>
<ul>
<li>If <code>label_tag</code> does not include the beginning hashtag <code>#</code>.*</li>
</ul></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>note</td>
<td>VaultNote</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>label_tag</td>
<td>str</td>
<td></td>
<td>A tag which labels a type that <code>note</code> is. Includes the beginning hashtag <code>#</code>, e.g.&nbsp;<code>#_meta/definition</code>, <code>#_meta/TODO/split</code></td>
</tr>
<tr class="odd">
<td>count_auto_tags</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, count <code>#_auto/_meta/&lt;tag&gt;</code> notes as <code>#_meta/&lt;tag&gt;</code> for the purposes of the data collection.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>bool</strong></td>
<td></td>
<td><strong><code>True</code> if <code>note</code> is labeled as type <code>label_type</code>.</strong></td>
</tr>
</tbody>
</table>
<div id="cell-8" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sample_text <span class="op">=</span> <span class="vs">r"""---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="vs">cssclass: clean-embeds</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="vs">aliases: []</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="vs">tags: [_meta/literature_note, _meta/definition]</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="vs"># This is a title of a note[^1]</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="vs">We could talk about many things. I like to talk about rings!</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="vs">A **ring** is a set equipped with two binary operators $+$ and $\cdot$</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="vs">such that...</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="vs"># See Also</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="vs"># Meta</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="vs">## References</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="vs">![[_reference_sample_reference]]</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="vs">## Citations and Footnotes</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="vs">[^1]: Author names, Some way to identify where this information comes from</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>sample_mf <span class="op">=</span> MarkdownFile.from_string(sample_text)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> mock.patch(<span class="st">"__main__.MarkdownFile.from_vault_note"</span>, return_value<span class="op">=</span>sample_mf) <span class="im">as</span> mock_markdownfile_from_vault_note:</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    mock_note <span class="op">=</span> <span class="va">None</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This is setup in such a way that the invocation to</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># `note_is_labeled_with_tag` will use</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># a note whose text is `sample_text`.</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/definition'</span>)</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/notation'</span>)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/concept'</span>)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>):</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The argument to `label_tag` requires the starting hashtag `#`.`</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        note_is_labeled_with_tag(mock_note, <span class="st">'_meta/definition'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Setting <code>count_auto_tags</code> to <code>True</code> allows for <code>_auto</code> tags (those tags labeled by an ML model) to count.</p>
<div id="cell-10" class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sample_text <span class="op">=</span> <span class="vs">r"""---</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="vs">cssclass: clean-embeds</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="vs">aliases: []</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="vs">tags: [_meta/literature_note, _auto/_meta/definition]</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="vs"># This is a title of a note[^1]</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="vs"># See Also</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="vs"># Meta</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="vs">## References</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="vs">![[_reference_sample_reference]]</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="vs">## Citations and Footnotes</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="vs">[^1]: Author names, Some way to identify where this information comes from</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>sample_mf <span class="op">=</span> MarkdownFile.from_string(sample_text)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> mock.patch(<span class="st">"__main__.MarkdownFile.from_vault_note"</span>, return_value<span class="op">=</span>sample_mf) <span class="im">as</span> mock_markdownfile_from_vault_note:</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    mock_note <span class="op">=</span> <span class="va">None</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This is setup in such a way that the invocation to</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># `note_is_labeled_with_tag` will use</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># a note whose text is `sample_text`.</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/definition'</span>, count_auto_tags<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/notation'</span>)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/concept'</span>)</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>):</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The argument to `label_tag` requires the starting hashtag `#`.`</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        note_is_labeled_with_tag(mock_note, <span class="st">'_meta/definition'</span>)</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Test count_auto_tags=False</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>sample_text <span class="op">=</span> <span class="vs">r"""---</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="vs">cssclass: clean-embeds</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a><span class="vs">aliases: []</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="vs">tags: [_meta/literature_note, _auto/_meta/definition]</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="vs"># This is a title of a note[^1]</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="vs"># See Also</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a><span class="vs"># Meta</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a><span class="vs">## References</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="vs">![[_reference_sample_reference]]</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="vs">## Citations and Footnotes</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a><span class="vs">[^1]: Author names, Some way to identify where this information comes from</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>sample_mf <span class="op">=</span> MarkdownFile.from_string(sample_text)</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> mock.patch(<span class="st">"__main__.MarkdownFile.from_vault_note"</span>, return_value<span class="op">=</span>sample_mf) <span class="im">as</span> mock_markdownfile_from_vault_note:</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    mock_note <span class="op">=</span> <span class="va">None</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This is setup in such a way that the invocation to</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># `note_is_labeled_with_tag` will use</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="co"># a note whose text is `sample_text`.</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/definition'</span>, count_auto_tags<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/notation'</span>)</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> note_is_labeled_with_tag(mock_note, <span class="st">'#_meta/concept'</span>)</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> ExceptionExpected(<span class="pp">ValueError</span>):</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The argument to `label_tag` requires the starting hashtag `#`.`</span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>        note_is_labeled_with_tag(mock_note, <span class="st">'_meta/definition'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L70" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="note_labels" class="level3">
<h3 class="anchored" data-anchor-id="note_labels">note_labels</h3>
<blockquote class="blockquote">
<pre><code> note_labels (note:trouver.markdown.obsidian.vault.VaultNote,
              count_auto_tags:bool=False)</code></pre>
</blockquote>
<p>*Return a dict indicating what labels a note has.</p>
<p>The labels come from the <code>LABEL_TAGS</code> dict.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>note</td>
<td>VaultNote</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>count_auto_tags</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, count <code>#_auto/_meta/&lt;tag&gt;</code> notes as <code>#_meta/&lt;tag&gt;</code> for the purposes of the data collection.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-12" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sample_text <span class="op">=</span> <span class="vs">r"""---</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="vs">cssclass: clean-embeds</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="vs">aliases: []</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="vs">tags: [_meta/literature_note, _meta/definition]</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="vs">---</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="vs"># This is a title of a note[^1]</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="vs">We could talk about many things. I like to talk about rings!</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="vs">A **ring** is a set equipped with two binary operators $+$ and $\cdot$</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="vs">such that...</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="vs"># See Also</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="vs"># Meta</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="vs">## References</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="vs">![[_reference_sample_reference]]</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="vs">## Citations and Footnotes</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="vs">[^1]: Author names, Some way to identify where this information comes from</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="vs">"""</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>sample_mf <span class="op">=</span> MarkdownFile.from_string(sample_text)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> mock.patch(<span class="st">"__main__.MarkdownFile.from_vault_note"</span>, return_value<span class="op">=</span>sample_mf) <span class="im">as</span> mock_markdownfile_from_vault_note:</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    mock_note <span class="op">=</span> <span class="va">None</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This is setup in such a way that the invocation to</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># `note_labels` will use</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># a note whose text is `sample_text`.</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    sample_output <span class="op">=</span> note_labels(mock_note)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    test_eq(sample_output[<span class="st">'#_meta/definition'</span>], <span class="st">'IS #_meta/definition'</span>)</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    test_eq(sample_output[<span class="st">'#_meta/concept'</span>], <span class="st">'NOT #_meta/concept'</span>)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> label_tag <span class="kw">in</span> LABEL_TAGS:</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">assert</span> label_tag <span class="kw">in</span> sample_output</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(sample_output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'#_meta/concept': 'NOT #_meta/concept', '#_meta/exercise': 'NOT #_meta/exercise', '#_meta/definition': 'IS #_meta/definition', '#_meta/example': 'NOT #_meta/example', '#_meta/narrative': 'NOT #_meta/narrative', '#_meta/notation': 'NOT #_meta/notation', '#_meta/proof': 'NOT #_meta/proof', '#_meta/remark': 'NOT #_meta/remark', '#_meta/TODO/split': 'NOT #_meta/TODO/split', '#_meta/TODO/merge': 'NOT #_meta/TODO/merge', '#_meta/TODO/delete': 'NOT #_meta/TODO/delete', '#_meta/hint': 'NOT #_meta/hint', '#_meta/how_to': 'NOT #_meta/how_to', '#_meta/conjecture': 'NOT #_meta/conjecture', '#_meta/convention': 'NOT #_meta/convention', '#_meta/context': 'NOT #_meta/context', '#_meta/permanent_note': 'NOT #_meta/permanent_note', '#_meta/question': 'NOT #_meta/question', '#_meta/problem': 'NOT #_meta/problem'}</code></pre>
</div>
</div>
<section id="gather-data-into-a-dataset" class="level4">
<h4 class="anchored" data-anchor-id="gather-data-into-a-dataset">Gather data into a dataset</h4>
<p>The way that data for information note types should be obtained is fairly simple - for each note, obtain the YAML frontmatter metadata.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L86" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="labels_and_identifying_info_from_notes" class="level3">
<h3 class="anchored" data-anchor-id="labels_and_identifying_info_from_notes">labels_and_identifying_info_from_notes</h3>
<blockquote class="blockquote">
<pre><code> labels_and_identifying_info_from_notes (vault:os.PathLike,
                                         notes:list[trouver.markdown.obsid
                                         ian.vault.VaultNote],
                                         count_auto_tags:bool=False, raise
                                         _error_that_arises:bool=True)</code></pre>
</blockquote>
<p>*Return a list of dict’s, each corresponding to the data from an information note.</p>
<p>The keys in the dict’s are as follows</p>
<ul>
<li><code>Time added</code> - The time when the row was added.</li>
<li><code>Time modified</code> - The time when the labels of the row</li>
<li><code>Note name</code> - The name of the note from which the data for the row was derived.</li>
<li><code>Full note content</code> - The entire content/text of the note.</li>
<li><code>Processed note content</code> - The “raw” content of the note without the YAML frontmatter meta, Markdown headings, links, footnotes, etc.</li>
<li>The various labels for note types (e.g.&nbsp;<code>#_meta/definition</code>)</li>
</ul>
<p>All timestamps are in UTC time and specify time to minutes (i.e.&nbsp;no seconds/microseconds).*</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>The vault from which the notes come from; this is to invoke <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.personal.note_processing.html#process_standard_information_note"><code>process_standard_information_note</code></a>.</td>
</tr>
<tr class="even">
<td>notes</td>
<td>list</td>
<td></td>
<td>Assumed to only contain standard information notes from which note type labels are to be gathered.</td>
</tr>
<tr class="odd">
<td>count_auto_tags</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, count <code>#_auto/_meta/&lt;tag&gt;</code> notes as <code>#_meta/&lt;tag&gt;</code> for the purposes of the data collection.</td>
</tr>
<tr class="even">
<td>raise_error_that_arises</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, raise errors that arise as data is gathered from individual notes. Otherwise, print the would-be error message for individual notes, but do not include the data from the note.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>Each <code>dict</code> has keys <code>Time added</code>, <code>Time modified</code>, <code>Note name</code>, <code>Full note content</code>, <code>Processed note content</code> as well as columns for each tag label.</strong></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L133" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="information_note_types_as_dataset" class="level3">
<h3 class="anchored" data-anchor-id="information_note_types_as_dataset">information_note_types_as_dataset</h3>
<blockquote class="blockquote">
<pre><code> information_note_types_as_dataset (vault:os.PathLike,
                                    notes:list[trouver.markdown.obsidian.v
                                    ault.VaultNote],
                                    count_auto_tags:bool=False,
                                    raise_error_that_arises:bool=True)</code></pre>
</blockquote>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>The vault from which the notes come from; this is to invoke <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.personal.note_processing.html#process_standard_information_note"><code>process_standard_information_note</code></a>.</td>
</tr>
<tr class="even">
<td>notes</td>
<td>list</td>
<td></td>
<td>Assumed to only contain standard information notes from which note type labels are to be gathered.</td>
</tr>
<tr class="odd">
<td>count_auto_tags</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, count <code>#_auto/_meta/&lt;tag&gt;</code> notes as <code>#_meta/&lt;tag&gt;</code> for the purposes of the data collection.</td>
</tr>
<tr class="even">
<td>raise_error_that_arises</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, raise errors that arise as data is gathered from individual notes. Otherwise, print the would-be error message for individual notes, but do not include the data from the note.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>Dataset</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.personal.machine_learning.information_note_types.html#information_note_types_as_dataset"><code>information_note_types_as_dataset</code></a> gathers data for information notes types as a <code>Dataset</code> from the huggingface <code>dataset</code> library.</p>
<div id="cell-18" class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>test_vault <span class="op">=</span> _test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>index_note <span class="op">=</span> VaultNote(test_vault, name<span class="op">=</span><span class="st">'_index_1_introduction_reference_with_tag_labels'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># There shoudl be 6 notes</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>notes <span class="op">=</span> notes_linked_in_note(index_note, as_dict<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>dataset <span class="op">=</span> information_note_types_as_dataset(test_vault, notes)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>dataset</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># test_eq(len(df), 6)</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># df.head()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\hyunj\Documents\Development\Python\trouver_py310_venv\lib\site-packages\bs4\__init__.py:435: MarkupResemblesLocatorWarning: The input looks more like a filename than markup. You may want to open this file and pass the filehandle into Beautiful Soup.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['Time added', 'Time modified', 'Note name', 'Full note content', 'Processed note content', '#_meta/concept', '#_meta/exercise', '#_meta/definition', '#_meta/example', '#_meta/narrative', '#_meta/notation', '#_meta/proof', '#_meta/remark', '#_meta/TODO/split', '#_meta/TODO/merge', '#_meta/TODO/delete', '#_meta/hint', '#_meta/how_to', '#_meta/conjecture', '#_meta/convention', '#_meta/context', '#_meta/permanent_note', '#_meta/question', '#_meta/problem'],
    num_rows: 6
})</code></pre>
</div>
</div>
<p>Let us view the dataset as a pandas Dataframe</p>
<div id="cell-20" class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>dataset.to_pandas()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Time added</th>
<th data-quarto-table-cell-role="th">Time modified</th>
<th data-quarto-table-cell-role="th">Note name</th>
<th data-quarto-table-cell-role="th">Full note content</th>
<th data-quarto-table-cell-role="th">Processed note content</th>
<th data-quarto-table-cell-role="th">#_meta/concept</th>
<th data-quarto-table-cell-role="th">#_meta/exercise</th>
<th data-quarto-table-cell-role="th">#_meta/definition</th>
<th data-quarto-table-cell-role="th">#_meta/example</th>
<th data-quarto-table-cell-role="th">#_meta/narrative</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">#_meta/TODO/merge</th>
<th data-quarto-table-cell-role="th">#_meta/TODO/delete</th>
<th data-quarto-table-cell-role="th">#_meta/hint</th>
<th data-quarto-table-cell-role="th">#_meta/how_to</th>
<th data-quarto-table-cell-role="th">#_meta/conjecture</th>
<th data-quarto-table-cell-role="th">#_meta/convention</th>
<th data-quarto-table-cell-role="th">#_meta/context</th>
<th data-quarto-table-cell-role="th">#_meta/permanent_note</th>
<th data-quarto-table-cell-role="th">#_meta/question</th>
<th data-quarto-table-cell-role="th">#_meta/problem</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_something_something</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/narrative]\n---\n# Topic[^1]\n\nIn this chapter, we describe some basics of ring theory. Rings are mathematical structures which generalize the structures of the familiar integers, rational numbers, real numbers, complex numberes, etc.\n\n\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Page 1</td>
<td>In this chapter, we describe some basics of ring theory. Rings are mathematical structures which generalize the structures of the familiar integers, rational numbers, real numbers, complex numberes, etc.\n</td>
<td>NOT #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>NOT #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>IS #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Definition 1</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/definition]\n---\n# Ring[^1]\n\nA **ring** is a set with binary operators $+$ and $\cdot$ such that ...\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Definition 1</td>
<td>A ring is a set with binary operators $+$ and $\cdot$ such that ...\n</td>
<td>NOT #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>IS #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Definition 2</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/definition, _meta/notation]\n---\n# Ring of integers modulo $n$[^1]\n\nLet $n \geq 1$ be an integer. The **ring of integers modulo $n$**, denoted by **$\mathbb{Z}/n\mathbb{Z}$**, is, informally, the ring whose elements are represented by the integers with the understanding that $0$ and $n$ are equal.\n\nMore precisely, $\mathbb{Z}/n\mathbb{Z}$ has the elements $0,1,\ldots,n-1$.\n\n...\n\n\n# See Also\n- [[reference_with_tag_labels_Exercise 1|reference_with_tag_labels_Z_nZ_is_a_ring]]\n# Meta\n## References\n\n## ...</td>
<td>Let $n \geq 1$ be an integer. The ring of integers modulo $n$, denoted by $\mathbb{Z}/n\mathbb{Z}$, is, informally, the ring whose elements are represented by the integers with the understanding that $0$ and $n$ are equal.\n\nMore precisely, $\mathbb{Z}/n\mathbb{Z}$ has the elements $0,1,\ldots,n-1$.\n\n...\n</td>
<td>NOT #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>IS #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Exercise 1</td>
<td>---\ncssclass: clean-embeds\naliases: [reference_with_tag_labels_Z_nZ_is_a_ring]\ntags: [_meta/literature_note, _meta/exercise]\n---\n# $\mathbb{Z}/n\mathbb{Z}$ is a ring[^1]\n\nShow that $\mathbb{Z}/n\mathbb{Z}$ is a ring.\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Exercise 1</td>
<td>Show that $\mathbb{Z}/n\mathbb{Z}$ is a ring.\n</td>
<td>NOT #_meta/concept</td>
<td>IS #_meta/exercise</td>
<td>NOT #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Theorem 1</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/concept, _meta/proof]\n---\n# The polynomial ring of a UFD is a UFD[^1]\n\nTheorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.\n\nProof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.\n\n...\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Theorem 1</td>
<td>Theorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.\n\nProof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.\n\n...\n</td>
<td>IS #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>NOT #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Theorem 2</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/concept, _auto/_meta/proof, _meta/definition]\n---\n%%Note that this note introduces a notation and hence actually ought to be labeled with the tag _meta/notation as well; but for the sake of example, the job of adding the _meta/notation tag will be left to the `automatically_add_note_type_tags` function.%%\n\n# The polynomial ring of a UFD is a UFD[^1]\nLet $q$ be the power of a prime number. Up to isomorphism, there is a unique field with $q$ elements. This field is denoted **$\mathbb{F}_q$** and is called the ...</td>
<td>%%Note that this note introduces a notation and hence actually ought to be labeled with the tag _meta/notation as well; but for the sake of example, the job of adding the _meta/notation tag will be left to the `automatically_add_note_type_tags` function.%%\n\nLet $q$ be the power of a prime number. Up to isomorphism, there is a unique field with $q$ elements. This field is denoted $\mathbb{F}_q$ and is called the finite field of $q$ elements.\n\nProof. Say that $q = p^k$ and let $F$ be a field with $q$ elements. First note that $F$ has a subfield "generated by $1$", i.e. the elements $0,1,...</td>
<td>IS #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>IS #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
</tbody>
</table>

<p>6 rows × 24 columns</p>
</div>
</div>
</div>
<section id="deprecated-gather-data-into-a-pandas.dataframe" class="level6">
<h6 class="anchored" data-anchor-id="deprecated-gather-data-into-a-pandas.dataframe">(Deprecated) Gather data into a <code>pandas.DataFrame</code></h6>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L150" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="gather_information_note_types" class="level3">
<h3 class="anchored" data-anchor-id="gather_information_note_types">gather_information_note_types</h3>
<blockquote class="blockquote">
<pre><code> gather_information_note_types (vault:os.PathLike,
                                notes:list[trouver.markdown.obsidian.vault
                                .VaultNote],
                                raise_error_that_arises:bool=True)</code></pre>
</blockquote>
<p><em>Return a <code>pandas.DataFrame</code> encapsulating the data of note labels.</em></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>notes</td>
<td>list</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>raise_error_that_arises</td>
<td>bool</td>
<td>True</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>DataFrame</strong></td>
<td></td>
<td><strong>Has columns <code>Time added</code>, <code>Time modified</code>, <code>Note name</code>, <code>Full note content</code>, <code>Processed note content</code> as well as columns for each tag label. See <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.personal.machine_learning.information_note_types.html#append_to_information_note_type_database"><code>append_to_information_note_type_database</code></a> for more details about these columns.</strong></td>
</tr>
</tbody>
</table>
<div id="cell-23" class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>test_vault <span class="op">=</span> _test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>index_note <span class="op">=</span> VaultNote(test_vault, name<span class="op">=</span><span class="st">'_index_1_introduction_reference_with_tag_labels'</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># There are just 5 notes</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>notes <span class="op">=</span> notes_linked_in_note(index_note, as_dict<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> gather_information_note_types(test_vault, notes)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>test_eq(<span class="bu">len</span>(df), <span class="dv">6</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\hyunj\AppData\Local\Temp\ipykernel_24944\2112522642.py:5: DeprecationWarning: Call to deprecated function (or staticmethod) gather_information_note_types. (Use Using a pandas `DataFrame` is slow. Use `information_note_types_as_dataset` instead to gather data as a `Dataset`.)
  df = gather_information_note_types(test_vault, notes)
c:\Users\hyunj\Documents\Development\Python\trouver_py310_venv\lib\site-packages\bs4\__init__.py:435: MarkupResemblesLocatorWarning: The input looks more like a filename than markup. You may want to open this file and pass the filehandle into Beautiful Soup.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Time added</th>
<th data-quarto-table-cell-role="th">Time modified</th>
<th data-quarto-table-cell-role="th">Note name</th>
<th data-quarto-table-cell-role="th">Full note content</th>
<th data-quarto-table-cell-role="th">Processed note content</th>
<th data-quarto-table-cell-role="th">#_meta/concept</th>
<th data-quarto-table-cell-role="th">#_meta/exercise</th>
<th data-quarto-table-cell-role="th">#_meta/definition</th>
<th data-quarto-table-cell-role="th">#_meta/example</th>
<th data-quarto-table-cell-role="th">#_meta/narrative</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">#_meta/TODO/merge</th>
<th data-quarto-table-cell-role="th">#_meta/TODO/delete</th>
<th data-quarto-table-cell-role="th">#_meta/hint</th>
<th data-quarto-table-cell-role="th">#_meta/how_to</th>
<th data-quarto-table-cell-role="th">#_meta/conjecture</th>
<th data-quarto-table-cell-role="th">#_meta/convention</th>
<th data-quarto-table-cell-role="th">#_meta/context</th>
<th data-quarto-table-cell-role="th">#_meta/permanent_note</th>
<th data-quarto-table-cell-role="th">#_meta/question</th>
<th data-quarto-table-cell-role="th">#_meta/problem</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_something_something</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/narrative]\n---\n# Topic[^1]\n\nIn this chapter, we describe some basics of ring theory. Rings are mathematical structures which generalize the structures of the familiar integers, rational numbers, real numbers, complex numberes, etc.\n\n\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Page 1</td>
<td>In this chapter, we describe some basics of ring theory. Rings are mathematical structures which generalize the structures of the familiar integers, rational numbers, real numbers, complex numberes, etc.\n</td>
<td>NOT #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>NOT #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>IS #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Definition 1</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/definition]\n---\n# Ring[^1]\n\nA **ring** is a set with binary operators $+$ and $\cdot$ such that ...\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Definition 1</td>
<td>A ring is a set with binary operators $+$ and $\cdot$ such that ...\n</td>
<td>NOT #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>IS #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Definition 2</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/definition, _meta/notation]\n---\n# Ring of integers modulo $n$[^1]\n\nLet $n \geq 1$ be an integer. The **ring of integers modulo $n$**, denoted by **$\mathbb{Z}/n\mathbb{Z}$**, is, informally, the ring whose elements are represented by the integers with the understanding that $0$ and $n$ are equal.\n\nMore precisely, $\mathbb{Z}/n\mathbb{Z}$ has the elements $0,1,\ldots,n-1$.\n\n...\n\n\n# See Also\n- [[reference_with_tag_labels_Exercise 1|reference_with_tag_labels_Z_nZ_is_a_ring]]\n# Meta\n## References\n\n## ...</td>
<td>Let $n \geq 1$ be an integer. The ring of integers modulo $n$, denoted by $\mathbb{Z}/n\mathbb{Z}$, is, informally, the ring whose elements are represented by the integers with the understanding that $0$ and $n$ are equal.\n\nMore precisely, $\mathbb{Z}/n\mathbb{Z}$ has the elements $0,1,\ldots,n-1$.\n\n...\n</td>
<td>NOT #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>IS #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Exercise 1</td>
<td>---\ncssclass: clean-embeds\naliases: [reference_with_tag_labels_Z_nZ_is_a_ring]\ntags: [_meta/literature_note, _meta/exercise]\n---\n# $\mathbb{Z}/n\mathbb{Z}$ is a ring[^1]\n\nShow that $\mathbb{Z}/n\mathbb{Z}$ is a ring.\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Exercise 1</td>
<td>Show that $\mathbb{Z}/n\mathbb{Z}$ is a ring.\n</td>
<td>NOT #_meta/concept</td>
<td>IS #_meta/exercise</td>
<td>NOT #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2024-12-16T17:26</td>
<td>2024-12-16T17:26</td>
<td>reference_with_tag_labels_Theorem 1</td>
<td>---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/concept, _meta/proof]\n---\n# The polynomial ring of a UFD is a UFD[^1]\n\nTheorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.\n\nProof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.\n\n...\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Theorem 1</td>
<td>Theorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.\n\nProof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.\n\n...\n</td>
<td>IS #_meta/concept</td>
<td>NOT #_meta/exercise</td>
<td>NOT #_meta/definition</td>
<td>NOT #_meta/example</td>
<td>NOT #_meta/narrative</td>
<td>...</td>
<td>NOT #_meta/TODO/merge</td>
<td>NOT #_meta/TODO/delete</td>
<td>NOT #_meta/hint</td>
<td>NOT #_meta/how_to</td>
<td>NOT #_meta/conjecture</td>
<td>NOT #_meta/convention</td>
<td>NOT #_meta/context</td>
<td>NOT #_meta/permanent_note</td>
<td>NOT #_meta/question</td>
<td>NOT #_meta/problem</td>
</tr>
</tbody>
</table>

<p>5 rows × 24 columns</p>
</div>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L163" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="append_to_information_note_type_database" class="level3">
<h3 class="anchored" data-anchor-id="append_to_information_note_type_database">append_to_information_note_type_database</h3>
<blockquote class="blockquote">
<pre><code> append_to_information_note_type_database (vault:os.PathLike,
                                           file:os.PathLike, notes:list[tr
                                           ouver.markdown.obsidian.vault.V
                                           aultNote], backup:bool=True)</code></pre>
</blockquote>
<p>*Either create a <code>csv</code> file containing data for information note type labels or append to an existing <code>csv</code> file.</p>
<p>The columns of the database file are as follows:</p>
<ul>
<li><code>Time added</code> - The time when the row was added.</li>
<li><code>Time modified</code> - The time when the labels of the row</li>
<li><code>Note name</code> - The name of the note from which the data for the row was derived.</li>
<li><code>Full note content</code> - The entire content/text of the note.</li>
<li><code>Processed note content</code> - The “raw” content of the note without the YAML frontmatter meta, Markdown headings, links, footnotes, etc.</li>
</ul>
<p>All timestamps are in UTC time and specify time to minutes (i.e.&nbsp;no seconds/microseconds).</p>
<p>If a “new” note has the same processed content as a pre-existing note and anything is different about the “new” note, then update the row of the existing note. In particular, the following are updated: - Time modified (set to current time) - Note name (overwritten) - Full note content (overwritten) - Columns for categorization (overwritten)</p>
<p>This method assumes that all the processed content in the CSV file are all distinct if the CSV file exists.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>The vault freom which the data is drawn</td>
</tr>
<tr class="even">
<td>file</td>
<td>PathLike</td>
<td></td>
<td>The path to a CSV file</td>
</tr>
<tr class="odd">
<td>notes</td>
<td>list</td>
<td></td>
<td>the notes to add to the database</td>
</tr>
<tr class="even">
<td>backup</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, makes a copy of <code>file</code> in the same directory and with the same name, except with an added extension of <code>.bak</code>.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-25" class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    index_note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'_index_1_introduction_reference_with_tag_labels'</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> notes_linked_in_note(index_note, as_dict<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">file</span> <span class="op">=</span> temp_vault <span class="op">/</span> <span class="st">'_ml_data'</span> <span class="op">/</span> <span class="st">'information_note_type_labels.csv'</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    append_to_information_note_type_database(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>         temp_vault, <span class="bu">file</span>, notes)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Uncomment these lines to see `temp_vault` and its contents.</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     os.startfile(os.getcwd())</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     input()</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(<span class="bu">file</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(df.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\hyunj\AppData\Local\Temp\ipykernel_24944\2798749500.py:8: DeprecationWarning: Call to deprecated function (or staticmethod) append_to_information_note_type_database. (Use Using a pandas `DataFrame` is slow. Use `information_note_types_as_dataset` instead to gather data as a `Dataset`.)
  append_to_information_note_type_database(
C:\Users\hyunj\AppData\Local\Temp\ipykernel_24944\381146521.py:42: DeprecationWarning: Call to deprecated function (or staticmethod) gather_information_note_types. (Use Using a pandas `DataFrame` is slow. Use `information_note_types_as_dataset` instead to gather data as a `Dataset`.)
  new_df = gather_information_note_types(vault, notes)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>         Time added     Time modified  \
0  2024-12-16T17:26  2024-12-16T17:26   
1  2024-12-16T17:26  2024-12-16T17:26   
2  2024-12-16T17:26  2024-12-16T17:26   
3  2024-12-16T17:26  2024-12-16T17:26   
4  2024-12-16T17:26  2024-12-16T17:26   

                                       Note name  \
0  reference_with_tag_labels_something_something   
1         reference_with_tag_labels_Definition 1   
2         reference_with_tag_labels_Definition 2   
3           reference_with_tag_labels_Exercise 1   
4            reference_with_tag_labels_Theorem 1   

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Full note content  \
0                                                                                                                                                                                                    ---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/narrative]\n---\n# Topic[^1]\n\nIn this chapter, we describe some basics of ring theory. Rings are mathematical structures which generalize the structures of the familiar integers, rational numbers, real numbers, complex numberes, etc.\n\n\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Page 1   
1                                                                                                                                                                                                                                                                                                                                      ---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/definition]\n---\n# Ring[^1]\n\nA **ring** is a set with binary operators $+$ and $\cdot$ such that ...\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Definition 1   
2  ---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/definition, _meta/notation]\n---\n# Ring of integers modulo $n$[^1]\n\nLet $n \geq 1$ be an integer. The **ring of integers modulo $n$**, denoted by **$\mathbb{Z}/n\mathbb{Z}$**, is, informally, the ring whose elements are represented by the integers with the understanding that $0$ and $n$ are equal.\n\nMore precisely, $\mathbb{Z}/n\mathbb{Z}$ has the elements $0,1,\ldots,n-1$.\n\n...\n\n\n# See Also\n- [[reference_with_tag_labels_Exercise 1|reference_with_tag_labels_Z_nZ_is_a_ring]]\n# Meta\n## References\n\n## ...   
3                                                                                                                                                                                                                                                                                                   ---\ncssclass: clean-embeds\naliases: [reference_with_tag_labels_Z_nZ_is_a_ring]\ntags: [_meta/literature_note, _meta/exercise]\n---\n# $\mathbb{Z}/n\mathbb{Z}$ is a ring[^1]\n\nShow that $\mathbb{Z}/n\mathbb{Z}$ is a ring.\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Exercise 1   
4                                                                                                                                                          ---\ncssclass: clean-embeds\naliases: []\ntags: [_meta/literature_note, _meta/concept, _meta/proof]\n---\n# The polynomial ring of a UFD is a UFD[^1]\n\nTheorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.\n\nProof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.\n\n...\n\n# See Also\n\n# Meta\n## References\n\n## Citations and Footnotes\n[^1]: Kim, Theorem 1   

                                                                                                                                                                                                                                                                                                   Processed note content  \
0                                                                                                           In this chapter, we describe some basics of ring theory. Rings are mathematical structures which generalize the structures of the familiar integers, rational numbers, real numbers, complex numberes, etc.\n   
1                                                                                                                                                                                                                                                   A ring is a set with binary operators $+$ and $\cdot$ such that ...\n   
2  Let $n \geq 1$ be an integer. The ring of integers modulo $n$, denoted by $\mathbb{Z}/n\mathbb{Z}$, is, informally, the ring whose elements are represented by the integers with the understanding that $0$ and $n$ are equal.\n\nMore precisely, $\mathbb{Z}/n\mathbb{Z}$ has the elements $0,1,\ldots,n-1$.\n\n...\n   
3                                                                                                                                                                                                                                                                         Show that $\mathbb{Z}/n\mathbb{Z}$ is a ring.\n   
4                                                                                                           Theorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.\n\nProof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.\n\n...\n   

       #_meta/concept      #_meta/exercise      #_meta/definition  \
0  NOT #_meta/concept  NOT #_meta/exercise  NOT #_meta/definition   
1  NOT #_meta/concept  NOT #_meta/exercise   IS #_meta/definition   
2  NOT #_meta/concept  NOT #_meta/exercise   IS #_meta/definition   
3  NOT #_meta/concept   IS #_meta/exercise  NOT #_meta/definition   
4   IS #_meta/concept  NOT #_meta/exercise  NOT #_meta/definition   

       #_meta/example      #_meta/narrative  ...      #_meta/TODO/merge  \
0  NOT #_meta/example   IS #_meta/narrative  ...  NOT #_meta/TODO/merge   
1  NOT #_meta/example  NOT #_meta/narrative  ...  NOT #_meta/TODO/merge   
2  NOT #_meta/example  NOT #_meta/narrative  ...  NOT #_meta/TODO/merge   
3  NOT #_meta/example  NOT #_meta/narrative  ...  NOT #_meta/TODO/merge   
4  NOT #_meta/example  NOT #_meta/narrative  ...  NOT #_meta/TODO/merge   

       #_meta/TODO/delete      #_meta/hint      #_meta/how_to  \
0  NOT #_meta/TODO/delete  NOT #_meta/hint  NOT #_meta/how_to   
1  NOT #_meta/TODO/delete  NOT #_meta/hint  NOT #_meta/how_to   
2  NOT #_meta/TODO/delete  NOT #_meta/hint  NOT #_meta/how_to   
3  NOT #_meta/TODO/delete  NOT #_meta/hint  NOT #_meta/how_to   
4  NOT #_meta/TODO/delete  NOT #_meta/hint  NOT #_meta/how_to   

       #_meta/conjecture      #_meta/convention      #_meta/context  \
0  NOT #_meta/conjecture  NOT #_meta/convention  NOT #_meta/context   
1  NOT #_meta/conjecture  NOT #_meta/convention  NOT #_meta/context   
2  NOT #_meta/conjecture  NOT #_meta/convention  NOT #_meta/context   
3  NOT #_meta/conjecture  NOT #_meta/convention  NOT #_meta/context   
4  NOT #_meta/conjecture  NOT #_meta/convention  NOT #_meta/context   

       #_meta/permanent_note      #_meta/question      #_meta/problem  
0  NOT #_meta/permanent_note  NOT #_meta/question  NOT #_meta/problem  
1  NOT #_meta/permanent_note  NOT #_meta/question  NOT #_meta/problem  
2  NOT #_meta/permanent_note  NOT #_meta/question  NOT #_meta/problem  
3  NOT #_meta/permanent_note  NOT #_meta/question  NOT #_meta/problem  
4  NOT #_meta/permanent_note  NOT #_meta/question  NOT #_meta/problem  

[5 rows x 24 columns]</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\hyunj\Documents\Development\Python\trouver_py310_venv\lib\site-packages\bs4\__init__.py:435: MarkupResemblesLocatorWarning: The input looks more like a filename than markup. You may want to open this file and pass the filehandle into Beautiful Soup.
  warnings.warn(</code></pre>
</div>
</div>
</section>
</section>
<section id="use-the-trained-model-to-predict-note-types" class="level2">
<h2 class="anchored" data-anchor-id="use-the-trained-model-to-predict-note-types">Use the trained model to predict note types</h2>
<p>After training the model (cf.&nbsp;<code>how_to.train_ml_model.fastai</code>), we can now predict the types of notes</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L214" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="possible_text_type_labels" class="level3">
<h3 class="anchored" data-anchor-id="possible_text_type_labels">possible_text_type_labels</h3>
<blockquote class="blockquote">
<pre><code> possible_text_type_labels (learn:fastai.text.learner.TextLearner)</code></pre>
</blockquote>
<p><em>Return the possible labels outputted by <code>learn.predict</code></em></p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L222" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="predict_text_types_with_one_learner" class="level3">
<h3 class="anchored" data-anchor-id="predict_text_types_with_one_learner">predict_text_types_with_one_learner</h3>
<blockquote class="blockquote">
<pre><code> predict_text_types_with_one_learner
                                      (learner:fastai.text.learner.TextLea
                                      rner, texts:list[str],
                                      remove_NO_TAG:bool=True,
                                      include_probabilities:bool=False)</code></pre>
</blockquote>
<p><em>Predict the types of mathematical texts using an ML model.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>learner</td>
<td>TextLearner</td>
<td></td>
<td>The ML models predicting note types.</td>
</tr>
<tr class="even">
<td>texts</td>
<td>list</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>remove_NO_TAG</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, remove <code>NO_TAG</code>, which in theory is supposed to indicate that no types are predicted, but in practice can somehow be predicted along with actual types.</td>
</tr>
<tr class="even">
<td>include_probabilities</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, then</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>Each list or tuple corresponds to each entry from <code>text</code> and contains the predicted types of the text. A <code>list[str]</code> consists of the predicted types/labels of the text and a <code>tuple[list[str], dict[str,float]]</code> contains the list of predicted types along with a dict of all possible types predictable by <code>learn</code> along with probabilities.</strong></td>
</tr>
</tbody>
</table>
<p>We can predict types of short mathematical texts. Say that the information note type classification model, trained in <code>how_to.train_ml_model.fastai</code> is loaded, e.g.&nbsp;via <code>fastai</code>’s <code>load_learner</code> function:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> load_learner(<span class="op">&lt;</span>path_to_model<span class="op">&gt;</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-31" class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>texts_to_predict <span class="op">=</span> [</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">''</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'In this chapter, we introduce the notion of rings, some related notions, and many examples.'</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'A ring is a set equipped with two binary operators $+$ and $\cdot$ such that...'</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Theorem. For every prime power $q$, there is, up to isomorphism, exactly one field with $q$ elements.</span><span class="ch">\n\n</span><span class="st">Proof. Let $q = p^k$ where $p$ is a prime. Let $F$ be a field with $q$ elements. Note that...'</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Remark. Note that $\mathbb</span><span class="sc">{F}</span><span class="st">_q$ and $\mathbb</span><span class="sc">{Z}</span><span class="st">/q\mathbb</span><span class="sc">{Z}</span><span class="st">$ are different rings'</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'As an example, take $\mathbb</span><span class="sc">{F}</span><span class="st">_9$. It can be presented as $\mathbb</span><span class="sc">{F}</span><span class="st">_3[x^2+1]$ as well as $\mathbb</span><span class="sc">{F}</span><span class="st">_3[x^2+x+2]$.'</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>sample_outputs <span class="op">=</span> predict_text_types_with_one_learner(</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    model, texts_to_predict)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_outputs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[['#_meta/TODO/delete', '#_meta/TODO/merge', '#_meta/TODO/split', '#_meta/concept', '#_meta/proof'], ['#_meta/TODO/split'], ['#_meta/TODO/split', '#_meta/definition'], ['#_meta/concept', '#_meta/proof'], ['#_meta/TODO/split', '#_meta/remark'], ['#_meta/example', '#_meta/narrative']]</code></pre>
</div>
</div>
<div id="cell-32" class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>possible_text_type_labels(model)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>sample_outputs <span class="op">=</span> predict_text_types_with_one_learner(model, texts_to_predict, include_probabilities<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_outputs[<span class="dv">0</span>][<span class="dv">0</span>])</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_outputs[<span class="dv">0</span>][<span class="dv">1</span>])</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_outputs[<span class="dv">0</span>][<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['#_meta/TODO/delete', '#_meta/TODO/merge', '#_meta/TODO/split', '#_meta/concept', '#_meta/proof']
{'#_meta/TODO/delete': 1.0, '#_meta/TODO/merge': 0.8483227491378784, '#_meta/TODO/split': 0.9903709292411804, '#_meta/concept': 0.6789883375167847, '#_meta/conjecture': 8.332841361369248e-12, '#_meta/convention': 0.3710557222366333, '#_meta/definition': 4.3158637708984315e-05, '#_meta/example': 4.248961886332836e-06, '#_meta/exercise': 1.3349553228181321e-05, '#_meta/how_to': 6.355472578434274e-05, '#_meta/narrative': 7.353986575253657e-07, '#_meta/notation': 1.661649002926424e-05, '#_meta/proof': 0.9312137365341187, '#_meta/remark': 0.001952954800799489, 'NO_TAG': 4.766645744780362e-09}
{'#_meta/TODO/delete': 1.0, '#_meta/TODO/merge': 0.8483227491378784, '#_meta/TODO/split': 0.9903709292411804, '#_meta/concept': 0.6789883375167847, '#_meta/conjecture': 8.332841361369248e-12, '#_meta/convention': 0.3710557222366333, '#_meta/definition': 4.3158637708984315e-05, '#_meta/example': 4.248961886332836e-06, '#_meta/exercise': 1.3349553228181321e-05, '#_meta/how_to': 6.355472578434274e-05, '#_meta/narrative': 7.353986575253657e-07, '#_meta/notation': 1.661649002926424e-05, '#_meta/proof': 0.9312137365341187, '#_meta/remark': 0.001952954800799489, 'NO_TAG': 4.766645744780362e-09}</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L253" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="consolidate_single_text_predictions_by_sum_of_confidence" class="level3">
<h3 class="anchored" data-anchor-id="consolidate_single_text_predictions_by_sum_of_confidence">consolidate_single_text_predictions_by_sum_of_confidence</h3>
<blockquote class="blockquote">
<pre><code> consolidate_single_text_predictions_by_sum_of_confidence
                                                           (predictions_fo
                                                           r_single_text:l
                                                           ist[tuple[list[
                                                           str],dict[str,f
                                                           loat]]])</code></pre>
</blockquote>
<p>*Consolidate single text predictions by summing the “probabilities” predicted by the various models. If the sum of the probabilities that the label should be predicted is greater than the sum of the probabilities that the label should not be predicted, then the label is predicted.</p>
<p>This is a sample input to the <code>consolidation</code> parameter of the <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.personal.machine_learning.information_note_types.html#predict_note_types"><code>predict_note_types</code></a> function*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>predictions_for_single_text</td>
<td>list</td>
<td>Each tuple corresponds to the predictions made by each model.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td><strong>The labels</strong></td>
</tr>
</tbody>
</table>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L278" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="predict_note_types" class="level3">
<h3 class="anchored" data-anchor-id="predict_note_types">predict_note_types</h3>
<blockquote class="blockquote">
<pre><code> predict_note_types (learners:fastai.text.learner.TextLearner|list[fastai.
                     text.learner.TextLearner], vault:os.PathLike, notes:l
                     ist[trouver.markdown.obsidian.vault.VaultNote],
                     remove_NO_TAG:bool=True,
                     consolidation:Optional[Callable]=&lt;function consolidat
                     e_single_text_predictions_by_sum_of_confidence&gt;)</code></pre>
</blockquote>
<p>*<strong>Parameters</strong></p>
<p><strong>Returns</strong>*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>learners</td>
<td>fastai.text.learner.TextLearner | list[fastai.text.learner.TextLearner]</td>
<td></td>
<td>The ML models predicting note types.</td>
</tr>
<tr class="even">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>The vault with the notes.</td>
</tr>
<tr class="odd">
<td>notes</td>
<td>list</td>
<td></td>
<td>The notes with texts to predict</td>
</tr>
<tr class="even">
<td>remove_NO_TAG</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, remove <code>NO_TAG</code>, which in theory is supposed to indicate that no types are predicted, but in practice can somehow be predicted along with actual types.</td>
</tr>
<tr class="odd">
<td>consolidation</td>
<td>Optional</td>
<td>consolidate_single_text_predictions_by_sum_of_confidence</td>
<td>The method to consolidate between different predictions made by the possibly more-than-one model in <code>learners</code>.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>Each <code>list[str]`` corresponds to an item in</code>notes` and contains the predicted note types for that note.</strong></td>
</tr>
</tbody>
</table>
<div id="cell-35" class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: tests</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># predict_note_types</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>test_vault <span class="op">=</span> _test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>notes_to_predict <span class="op">=</span> [</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    VaultNote(test_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Theorem 1'</span>),</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    VaultNote(test_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Definition 1'</span>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>sample_outputs <span class="op">=</span> predict_note_types(model, test_vault, notes_to_predict)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f'The following are the raw content of the notes without'</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f'metadata along with the model</span><span class="ch">\'</span><span class="ss">s predictions for their types:</span><span class="ch">\n\n</span><span class="ss">'</span>)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> note, prediction <span class="kw">in</span> <span class="bu">zip</span>(notes_to_predict, sample_outputs):</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(process_standard_information_note(MarkdownFile.from_vault_note(note), test_vault) )</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(prediction, <span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\hyunj\Documents\Development\Python\trouver_py310_venv\lib\site-packages\bs4\__init__.py:435: MarkupResemblesLocatorWarning: The input looks more like a filename than markup. You may want to open this file and pass the filehandle into Beautiful Soup.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>The following are the raw content of the notes withoutmetadata along with the model's predictions for their types:


Theorem 1. Let $R$ be a UFD. Then $R[x]$ is a UFD.

Proof. Let $f,g \in R[x]$ and suppose that $fg = 0$. Write $f = \sum_{i=0}^n a_i x^i$ and $g = \sum_{j=0}^m b_j x^j$ for some $a_i,b_j \in R$.

...

['#_meta/concept', '#_meta/proof'] 


A ring is a set with binary operators $+$ and $\cdot$ such that ...

['#_meta/definition', '#_meta/TODO/split'] 

</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>c:\Users\hyunj\Documents\Development\Python\trouver_py310_venv\lib\site-packages\bs4\__init__.py:435: MarkupResemblesLocatorWarning: The input looks more like a filename than markup. You may want to open this file and pass the filehandle into Beautiful Soup.
  warnings.warn(</code></pre>
</div>
</div>
<div id="cell-36" class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (mock.patch(<span class="st">'__main__.MarkdownFile.from_vault_note'</span>) <span class="im">as</span> mock_markdownfile_from_vault_note,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>          mock.patch(<span class="st">'__main__.process_standard_information_note'</span>) <span class="im">as</span> mock_process_standard_information_note,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>          mock.patch(<span class="st">'__main__.load_learner'</span>) <span class="im">as</span> mock_load_learner,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>          mock.patch(<span class="st">'__main__.possible_text_type_labels'</span>) <span class="im">as</span> mock_possible_text_type_labels):</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>      mock_path, mock_vault <span class="op">=</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>      mock_notes <span class="op">=</span> [<span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>, <span class="va">None</span>]</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>      mock_learner <span class="op">=</span> load_learner(mock_path)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>      mock_possible_text_type_labels.return_value <span class="op">=</span> [<span class="st">'#_meta/TODO/delete'</span>, <span class="st">'#_meta/TODO/merge'</span>, <span class="st">'#_meta/TODO/split'</span>, <span class="st">'#_meta/concept'</span>, <span class="st">'#_meta/conjecture'</span>, <span class="st">'#_meta/convention'</span>, <span class="st">'#_meta/definition'</span>, <span class="st">'#_meta/example'</span>, <span class="st">'#_meta/exercise'</span>, <span class="st">'#_meta/how_to'</span>, <span class="st">'#_meta/narrative'</span>, <span class="st">'#_meta/notation'</span>, <span class="st">'#_meta/proof'</span>, <span class="st">'#_meta/remark'</span>, <span class="st">'NO_TAG'</span>]</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>      mock_learner.predict.side_effect <span class="op">=</span> [</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'#_meta/TODO/delete'</span>,<span class="st">'#_meta/TODO/split'</span>,<span class="st">'#_meta/concept'</span>,<span class="st">'#_meta/convention'</span>],</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>            tensor([ <span class="va">True</span>, <span class="va">False</span>,  <span class="va">True</span>,  <span class="va">True</span>, <span class="va">False</span>,  <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>                    <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>]),</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>            tensor([<span class="fl">1.0000e+00</span>, <span class="fl">1.0748e-02</span>, <span class="fl">8.5110e-01</span>, <span class="fl">8.2098e-01</span>, <span class="fl">3.0918e-09</span>, <span class="fl">8.9845e-01</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>                    <span class="fl">6.3798e-03</span>, <span class="fl">1.1441e-06</span>, <span class="fl">2.3794e-07</span>, <span class="fl">1.7402e-02</span>, <span class="fl">3.2704e-06</span>, <span class="fl">1.6747e-03</span>,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>                    <span class="fl">2.1008e-01</span>, <span class="fl">3.8969e-04</span>, <span class="fl">3.7873e-07</span>])),</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'#_meta/narrative'</span>],</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>            tensor([<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>                      <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>]),</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>            tensor([<span class="fl">8.4556e-06</span>, <span class="fl">3.2360e-06</span>, <span class="fl">2.0235e-01</span>, <span class="fl">1.1844e-03</span>, <span class="fl">5.1291e-08</span>, <span class="fl">2.9886e-07</span>,</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>                    <span class="fl">4.8174e-04</span>, <span class="fl">8.9895e-06</span>, <span class="fl">1.3379e-09</span>, <span class="fl">2.8261e-11</span>, <span class="fl">9.9701e-01</span>, <span class="fl">5.8664e-04</span>,</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>                    <span class="fl">2.6031e-03</span>, <span class="fl">1.4012e-02</span>, <span class="fl">1.3595e-03</span>])),</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'#_meta/TODO/delete'</span>, <span class="st">'NO_TAG'</span>], tensor([ <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>            <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,  <span class="va">True</span>]), tensor([<span class="fl">6.1455e-01</span>, <span class="fl">1.6902e-01</span>, <span class="fl">1.4254e-02</span>, <span class="fl">5.1358e-02</span>, <span class="fl">4.8857e-05</span>, <span class="fl">3.0853e-04</span>,</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>            <span class="fl">6.0457e-03</span>, <span class="fl">1.2064e-04</span>, <span class="fl">8.5651e-02</span>, <span class="fl">1.3941e-02</span>, <span class="fl">5.2413e-04</span>, <span class="fl">1.3709e-01</span>,</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>            <span class="fl">9.7726e-06</span>, <span class="fl">0.00</span>, <span class="fl">9.7614e-01</span>])),</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'#_meta/concept'</span>, <span class="st">'#_meta/proof'</span>], tensor([<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,  <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>            <span class="va">False</span>,  <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>]), tensor([<span class="fl">4.0871e-03</span>, <span class="fl">3.6683e-04</span>, <span class="fl">1.6594e-01</span>, <span class="fl">9.7876e-01</span>, <span class="fl">0.00</span>, <span class="fl">6.0281e-05</span>, <span class="fl">8.7817e-06</span>,</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>            <span class="fl">1.9275e-02</span>, <span class="fl">1.5589e-03</span>, <span class="fl">4.5301e-03</span>, <span class="fl">7.8989e-03</span>, <span class="fl">1.2528e-02</span>, <span class="fl">9.2800e-01</span>, </span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>            <span class="fl">9.4636e-04</span>, <span class="fl">1.4658e-02</span>])),</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'NO_TAG'</span>], tensor([ <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>            <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,  <span class="va">True</span>]), tensor([<span class="fl">6.1455e-02</span>, <span class="fl">1.6902e-01</span>, <span class="fl">1.4254e-02</span>, <span class="fl">5.1358e-02</span>, <span class="fl">4.8857e-05</span>, <span class="fl">3.0853e-04</span>,</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>            <span class="fl">6.0457e-03</span>, <span class="fl">1.2064e-04</span>, <span class="fl">8.5651e-02</span>, <span class="fl">1.3941e-02</span>, <span class="fl">5.2413e-04</span>, <span class="fl">1.3709e-01</span>,</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>            <span class="fl">9.7726e-06</span>, <span class="fl">0.00</span>, <span class="fl">9.7614e-01</span>])),</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>      prediction <span class="op">=</span> predict_note_types(mock_learner, mock_vault, mock_notes)</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>      correct_value <span class="op">=</span> [[<span class="st">'#_meta/TODO/delete'</span>, <span class="st">'#_meta/TODO/split'</span>, <span class="st">'#_meta/convention'</span>, <span class="st">'#_meta/concept'</span>],</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>         [<span class="st">'#_meta/narrative'</span>],</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>         [<span class="st">'#_meta/TODO/delete'</span>],</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>         [<span class="st">'#_meta/proof'</span>, <span class="st">'#_meta/concept'</span>],</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>         []]</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>      test_eq(<span class="bu">len</span>(prediction), <span class="bu">len</span>(correct_value))</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> first, second <span class="kw">in</span> <span class="bu">zip</span>(prediction, correct_value):</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>          <span class="cf">try</span>:</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>              test(first, second, all_equal)</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>          <span class="cf">except</span> <span class="pp">AssertionError</span>:</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>               test_shuffled(first, second)</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>      mock_notes <span class="op">=</span> [<span class="va">None</span>, <span class="va">None</span>]</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>      mock_learner.predict.side_effect <span class="op">=</span> [</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'#_meta/TODO/delete'</span>, <span class="st">'NO_TAG'</span>], tensor([ <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>            <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,  <span class="va">True</span>]), tensor([<span class="fl">6.1455e-01</span>, <span class="fl">1.6902e-01</span>, <span class="fl">1.4254e-02</span>, <span class="fl">5.1358e-02</span>, <span class="fl">4.8857e-05</span>, <span class="fl">3.0853e-04</span>,</span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>            <span class="fl">6.0457e-03</span>, <span class="fl">1.2064e-04</span>, <span class="fl">8.5651e-02</span>, <span class="fl">1.3941e-02</span>, <span class="fl">5.2413e-04</span>, <span class="fl">1.3709e-01</span>,</span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>            <span class="fl">9.7726e-06</span>, <span class="fl">0.00</span>, <span class="fl">9.7614e-01</span>])),</span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>          ([<span class="st">'NO_TAG'</span>], tensor([ <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>            <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>,  <span class="va">True</span>]), tensor([<span class="fl">6.1455e-02</span>, <span class="fl">1.6902e-01</span>, <span class="fl">1.4254e-02</span>, <span class="fl">5.1358e-02</span>, <span class="fl">4.8857e-05</span>, <span class="fl">3.0853e-04</span>,</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>            <span class="fl">6.0457e-03</span>, <span class="fl">1.2064e-04</span>, <span class="fl">8.5651e-02</span>, <span class="fl">1.3941e-02</span>, <span class="fl">5.2413e-04</span>, <span class="fl">1.3709e-01</span>,</span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>            <span class="fl">9.7726e-06</span>, <span class="fl">0.00</span>, <span class="fl">9.7614e-01</span>])),</span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a>      prediction <span class="op">=</span> predict_note_types(mock_learner, mock_vault, mock_notes, remove_NO_TAG<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>      correct_value <span class="op">=</span> [[<span class="st">'NO_TAG'</span>, <span class="st">'#_meta/TODO/delete'</span>],</span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a>         [<span class="st">'NO_TAG'</span>]]</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>      test_eq(<span class="bu">len</span>(prediction), <span class="bu">len</span>(correct_value))</span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> first, second <span class="kw">in</span> <span class="bu">zip</span>(prediction, correct_value):</span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>          <span class="cf">try</span>:</span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>              test(first, second, all_equal)</span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>          <span class="cf">except</span> <span class="pp">AssertionError</span>:</span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>               test_shuffled(first, second)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L326" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="automatically_add_note_type_tags" class="level3">
<h3 class="anchored" data-anchor-id="automatically_add_note_type_tags">automatically_add_note_type_tags</h3>
<blockquote class="blockquote">
<pre><code> automatically_add_note_type_tags (learners:fastai.text.learner.TextLearne
                                   r|list[fastai.text.learner.TextLearner]
                                   , vault:os.PathLike, notes:list[trouver
                                   .markdown.obsidian.vault.VaultNote],
                                   add_auto_label:bool=True,
                                   overwrite:Optional[str]=None)</code></pre>
</blockquote>
<p>*Predict note types and add the predicted types as frontmatter YAML tags in the notes.</p>
<p>Non-<code>_auto</code>-labeled tags take precedent over <code>auto</code>-labeled tags, unless <code>overwrite='w'</code>.</p>
<p><strong>Raises</strong></p>
<ul>
<li>Warning:
<ul>
<li>If <code>overwrite=None</code>, a note already has some note type tags, and <code>learn</code> predicts different note types as those in the note.*</li>
</ul></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>learners</td>
<td>fastai.text.learner.TextLearner | list[fastai.text.learner.TextLearner]</td>
<td></td>
<td>The ML model(s) predicting note types.</td>
</tr>
<tr class="even">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>The vault with the notes</td>
</tr>
<tr class="odd">
<td>notes</td>
<td>list</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>add_auto_label</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, adds <code>"_auto"</code> to the front of the note type tag to indicate that the tags were added via this automated script.</td>
</tr>
<tr class="odd">
<td>overwrite</td>
<td>Optional</td>
<td>None</td>
<td>Either <code>'w'</code>, <code>'ws'</code>, <code>'ww'</code>, <code>'a'</code>, or <code>None</code>. If <code>'w'</code> or <code>'ws'</code>, then overwrite any already-existing note type tags (from LABEL_TAGS), whether or not these tags are <code>_auto</code> tags, with the predicted tags. IF <code>'ww'</code>, then overwrite only the <code>_auto</code> tags among the already-existing note type tags with the predicted tags. If <code>'a'</code>, then preserve already-existing note type tags and just append the newly predicted ones; in the case that <code>learn</code> predicts the note type whose tag is already in the note, a new tag of that type is not added, even if <code>add_auto_label=True</code>. If <code>None</code>, then do not make modifications to each note if any note type tags already exist in the note; if the predicted note types are different from the already existing note types, then raise a warning.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>In the below examples, we use <code>mock.patch</code> to test adding note types without testing the ML model itself. In particular, we pretend as though the ML model returns certain predictions (technically, we pretend as though <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.personal.machine_learning.information_note_types.html#predict_note_types"><code>predict_note_types</code></a> return certain values) to construct these examples.</p>
<p>The following example demonstrates a basic use case of adding predicted note type tags to notes without any note type tags:</p>
<div id="cell-40" class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we just test adding a note type without testing the ML model itself.</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>      mock.patch(<span class="st">'__main__.predict_note_types'</span>) <span class="im">as</span> mock_predict_note_types):</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Example where `add_auto_label` is `True`</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    mock_predict_note_types.return_value <span class="op">=</span> [[<span class="st">'#_meta/definition'</span>], [<span class="st">'#_meta/concept'</span>, <span class="st">'#_meta/proof'</span>]]</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    vn1 <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_without_tag_labels_Definition 1'</span>)</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    vn2 <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_without_tag_labels_Theorem 1'</span>)</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> [vn1, vn2]</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>    mock_learn <span class="op">=</span> <span class="va">None</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    automatically_add_note_type_tags(mock_learn, temp_vault, notes)</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note that _auto/_meta/definition has been added</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(vn1.text())</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> (MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/definition'</span>))</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> (MarkdownFile.from_vault_note(vn2).has_tag(<span class="st">'_auto/_meta/concept'</span>))</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> (MarkdownFile.from_vault_note(vn2).has_tag(<span class="st">'_auto/_meta/proof'</span>))</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Examle where `add_auto_label` is `False`</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    mock_predict_note_types.return_value <span class="op">=</span> [[<span class="st">'#_meta/definition'</span>, <span class="st">'#_meta/notation'</span>]]</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> [VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_without_tag_labels_Definition 2'</span>)]</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    automatically_add_note_type_tags(mock_learn, temp_vault, notes, add_auto_label<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> (MarkdownFile.from_vault_note(notes[<span class="dv">0</span>]).has_tag(<span class="st">'_meta/definition'</span>))</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> (MarkdownFile.from_vault_note(notes[<span class="dv">0</span>]).has_tag(<span class="st">'_meta/notation'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note, _auto/_meta/definition]
---
# Ring[^1]

A **ring** is a set with binary operators $+$ and $\cdot$ such that ...

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Kim, Definition 1</code></pre>
</div>
</div>
<p>In the following example, <code>overwrite</code> is set to <code>'w'</code> (or <code>'ws'</code>), so all preexisting note type tags are removed before the predicted ones are added:</p>
<div id="cell-42" class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir,</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>      mock.patch(<span class="st">'__main__.predict_note_types'</span>) <span class="im">as</span> mock_predict_note_types):</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    mock_predict_note_types.return_value <span class="op">=</span> [[<span class="st">'#_meta/definition'</span>]]</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    vn1 <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Definition 1'</span>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> [vn1]</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    mock_learn <span class="op">=</span> <span class="va">None</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    automatically_add_note_type_tags(mock_learn, temp_vault, notes, overwrite<span class="op">=</span><span class="st">'w'</span>)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note that _meta/definition has been removed and _auto/_meta/definition has been added.</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(vn1.text())</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/definition'</span>)</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/definition'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note, _auto/_meta/definition]
---
# Ring[^1]

A **ring** is a set with binary operators $+$ and $\cdot$ such that ...

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Kim, Definition 1</code></pre>
</div>
</div>
<p>In the following example, <code>overwrite</code> is set to <code>'ww'</code>, so only the <code>_auto</code> note type tags are removed and the predicted ones are added:</p>
<div id="cell-44" class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: change example</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>      mock.patch(<span class="st">'__main__.predict_note_types'</span>) <span class="im">as</span> mock_predict_note_types):</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    mock_predict_note_types.return_value <span class="op">=</span> [[<span class="st">'#_meta/definition'</span>]]</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    vn1 <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Definition 1'</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> [vn1]</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    mock_learn <span class="op">=</span> <span class="va">None</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    automatically_add_note_type_tags(mock_learn, temp_vault, notes, overwrite<span class="op">=</span><span class="st">'w'</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note that _meta/definition has been removed and _auto/_meta/definition has been added.</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(vn1.text())</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/definition'</span>)</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/definition'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note, _auto/_meta/definition]
---
# Ring[^1]

A **ring** is a set with binary operators $+$ and $\cdot$ such that ...

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Kim, Definition 1</code></pre>
</div>
</div>
<p>In the following example, <code>overwrite</code> is set to <code>'a'</code>, so only newly predicted note type tags are added</p>
<div id="cell-46" class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir,</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>      mock.patch(<span class="st">'__main__.predict_note_types'</span>) <span class="im">as</span> mock_predict_note_types):</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    mock_predict_note_types.return_value <span class="op">=</span> [[<span class="st">'#_meta/definition'</span>, <span class="st">'#_meta/notation'</span>, <span class="st">'#_meta/concept'</span>, <span class="st">'#_meta/proof'</span>]]</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    vn1 <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Theorem 2'</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> [vn1]</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    mock_learn <span class="op">=</span> <span class="va">None</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    automatically_add_note_type_tags(mock_learn, temp_vault, notes, overwrite<span class="op">=</span><span class="st">'a'</span>)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Example with `add_auto_label=True`</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note that _auto/_meta/notation has been added, but _meta/definition, _meta/concept,</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># and #_auto/_meta/proof remain unchanged. Moreover, _auto/_meta/definition and _auto/_meta/cocnept are</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># NOT added.</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(vn1.text())</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/notation'</span>)</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/definition'</span>)</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/concept'</span>)</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/proof'</span>)</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/definition'</span>)</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/concept'</span>)</span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir,</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>      mock.patch(<span class="st">'__main__.predict_note_types'</span>) <span class="im">as</span> mock_predict_note_types):</span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>    mock_predict_note_types.return_value <span class="op">=</span> [[<span class="st">'#_meta/definition'</span>, <span class="st">'#_meta/notation'</span>, <span class="st">'#_meta/concept'</span>, <span class="st">'#_meta/proof'</span>]]</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>    vn1 <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Theorem 2'</span>)</span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>    notes <span class="op">=</span> [vn1]</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>    mock_learn <span class="op">=</span> <span class="va">None</span></span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>    automatically_add_note_type_tags(mock_learn, temp_vault, notes, overwrite<span class="op">=</span><span class="st">'a'</span>, add_auto_label<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Example with `add_auto_label=False`</span></span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Note that _meta/notation has been added, and _auto/_meta/proof is replaced</span></span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># with _meta/proof, but _meta/definition and _meta/concept remain unchanged.</span></span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(vn1.text())</span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/notation'</span>)</span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/proof'</span>)</span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_auto/_meta/proof'</span>)</span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/definition'</span>)</span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> MarkdownFile.from_vault_note(vn1).has_tag(<span class="st">'_meta/concept'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note, _meta/concept, _auto/_meta/proof, _meta/definition, _auto/_meta/notation]
---
%%Note that this note introduces a notation and hence actually ought to be labeled with the tag _meta/notation as well; but for the sake of example, the job of adding the _meta/notation tag will be left to the `automatically_add_note_type_tags` function.%%

# The polynomial ring of a UFD is a UFD[^1]
Let $q$ be the power of a prime number. Up to isomorphism, there is a unique field with $q$ elements. This field is denoted **$\mathbb{F}_q$** and is called the **finite field of $q$ elements**.

Proof. Say that $q = p^k$ and let $F$ be a field with $q$ elements. First note that $F$ has a subfield "generated by $1$", i.e. the elements $0,1,\ldots,p-1$ form a subfield of $F$.

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Kim, Theorem 2
---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note, _meta/concept, _meta/definition, _meta/proof, _meta/notation]
---
%%Note that this note introduces a notation and hence actually ought to be labeled with the tag _meta/notation as well; but for the sake of example, the job of adding the _meta/notation tag will be left to the `automatically_add_note_type_tags` function.%%

# The polynomial ring of a UFD is a UFD[^1]
Let $q$ be the power of a prime number. Up to isomorphism, there is a unique field with $q$ elements. This field is denoted **$\mathbb{F}_q$** and is called the **finite field of $q$ elements**.

Proof. Say that $q = p^k$ and let $F$ be a field with $q$ elements. First note that $F$ has a subfield "generated by $1$", i.e. the elements $0,1,\ldots,p-1$ form a subfield of $F$.

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Kim, Theorem 2</code></pre>
</div>
</div>
<p>In the following example, <code>overwrite</code> is set to <code>None</code>. The notes are not modified, but if the note type tags in a note do not match the predicted ones, then a warning is raised</p>
<div id="cell-48" class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: add example</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="convert-_auto-tags-to-regular-tags" class="level2">
<h2 class="anchored" data-anchor-id="convert-_auto-tags-to-regular-tags">Convert <code>_auto/</code> tags to regular tags</h2>
<p>After checking that the automatically predicted tags are correct, we can convert them to regular tags.</p>
<hr>
<p><a href="https://github.com/hyunjongkimmath/trouver/blob/main/trouver/markdown/obsidian/personal/machine_learning/information_note_types.py#L438" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="convert_auto_tags_to_regular_tags_in_notes" class="level3">
<h3 class="anchored" data-anchor-id="convert_auto_tags_to_regular_tags_in_notes">convert_auto_tags_to_regular_tags_in_notes</h3>
<blockquote class="blockquote">
<pre><code> convert_auto_tags_to_regular_tags_in_notes
                                             (notes:list[trouver.markdown.
                                             obsidian.vault.VaultNote], ex
                                             clude:list[str]=['links_added
                                             ', 'notations_added'])</code></pre>
</blockquote>
<p><em>Convert the auto tags into regular tags for the notes.</em></p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>notes</td>
<td>list</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>exclude</td>
<td>list</td>
<td>[‘links_added’, ‘notations_added’]</td>
<td>The tags whose <code>_auto/</code> tags should not be converted. The str should not start with <code>'#'</code> and should not start with <code>'_auto/'</code>.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>None</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div id="cell-52" class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> (tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'temp_dir'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> temp_dir):</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> Path(temp_dir) <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    vn <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_with_tag_labels_Theorem 2'</span>)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    convert_auto_tags_to_regular_tags_in_notes([vn])</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(vn.text())</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(vn)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> mf.has_tag(<span class="st">'_meta/proof'</span>)</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="kw">not</span> mf.has_tag(<span class="st">'_auto/_meta/proof'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
cssclass: clean-embeds
aliases: []
tags: [_meta/literature_note, _meta/concept, _meta/proof, _meta/definition]
---
%%Note that this note introduces a notation and hence actually ought to be labeled with the tag _meta/notation as well; but for the sake of example, the job of adding the _meta/notation tag will be left to the `automatically_add_note_type_tags` function.%%

# The polynomial ring of a UFD is a UFD[^1]
Let $q$ be the power of a prime number. Up to isomorphism, there is a unique field with $q$ elements. This field is denoted **$\mathbb{F}_q$** and is called the **finite field of $q$ elements**.

Proof. Say that $q = p^k$ and let $F$ be a field with $q$ elements. First note that $F$ has a subfield "generated by $1$", i.e. the elements $0,1,\ldots,p-1$ form a subfield of $F$.

# See Also

# Meta
## References

## Citations and Footnotes
[^1]: Kim, Theorem 2</code></pre>
</div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Note that the tag in the YAML frontmatter meta is notated as <code>_meta/definition</code>, which lacks the starting hashtag <code>#</code>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hyunjongkimmath\.github\.io\/trouver");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hyunjongkimmath/trouver/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>