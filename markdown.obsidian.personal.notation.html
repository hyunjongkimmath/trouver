<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Functions for making and managing notation cards">

<title>markdown.obisidian.personal.notation – trouver</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ebc57992554dae5230fa85c1bd5a55fa.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="markdown.obisidian.personal.notation – trouver">
<meta property="og:description" content="Functions for making and managing notation cards">
<meta property="og:site_name" content="trouver">
<meta name="twitter:title" content="markdown.obisidian.personal.notation – trouver">
<meta name="twitter:description" content="Functions for making and managing notation cards">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">trouver</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./markdown.obsidian.personal.notation.html">markdown.obisidian.personal.notation</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">trouver</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.vault.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.vault</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.markdown.file.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.markdown.file</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.markdown.heading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.markdown.heading</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.tags.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.tags</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.footnotes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.footnotes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.reference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obisidian.personal.authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.authors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.index_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.index_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.note_type.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.note_type</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.convert.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.convert</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.notations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.note_processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.note_processing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">markdown.obisidian.personal.notation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.information_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.information_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learninig.database_update.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.database_update</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.information_note_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.information_note_types</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notation_identification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obisidian.personal.machine_learning.notation_identification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.notation_summarization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.notation_summarization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.tokenize.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.tokenize</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.vault.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.vault</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.divide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.divide</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.folders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.folders</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.formatting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.formatting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latex.preamble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">latex.preamble</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.comments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex.comments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.machine_learning.notation_linking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.notation_linking</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.definition_and_notation_naming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.definition_and_notation_naming</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.tests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.regex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.definition_and_notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.definition_and_notation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.numbers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./41_helper.accented_characters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">41_helper.accented_characters.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.date_and_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.date_and_time</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./43_helper.topological_sort.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topological sort</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./44_helper.alphabet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Alphabet</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.path_accepted_string.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.path_accepted_string</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./46_helper.files_and_folders.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Files and folders</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.latex.macros_and_commands.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.latex.macros_and_commands</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.arxiv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.arxiv</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.vault_and_links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.vault_and_links</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.parse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.notation.parse</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.notation.in_standard_information_note.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.notation.in_standard_information_note</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markdown.obsidian.personal.machine_learning.note_division.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">markdown.obsidian.personal.machine_learning.note_division</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app.__init__.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><code>app.__init__</code></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./helper.packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./todo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TODO list</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_to.install_trouver.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">how_to.install_trouver</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./how_to.train_ml_model.fastai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">how_to.train_ml_model.fastai</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">release_notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./star.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">helper.packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorial.concise_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tutorial.concise_code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorial.walkthrough.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tutorial.walkthrough</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./unused.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How to use</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./using_regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using Regex</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#add-notation-notes-to-notation-index-note" id="toc-add-notation-notes-to-notation-index-note" class="nav-link active" data-scroll-target="#add-notation-notes-to-notation-index-note">Add notation notes to Notation index note</a>
  <ul class="collapse">
  <li><a href="#notations_to_add_in_index" id="toc-notations_to_add_in_index" class="nav-link" data-scroll-target="#notations_to_add_in_index">notations_to_add_in_index</a></li>
  <li><a href="#index_notation_note_formatted_entry" id="toc-index_notation_note_formatted_entry" class="nav-link" data-scroll-target="#index_notation_note_formatted_entry">index_notation_note_formatted_entry</a></li>
  </ul></li>
  <li><a href="#making-a-notation-note" id="toc-making-a-notation-note" class="nav-link" data-scroll-target="#making-a-notation-note">Making a notation note</a>
  <ul class="collapse">
  <li><a href="#make_a_notation_note" id="toc-make_a_notation_note" class="nav-link" data-scroll-target="#make_a_notation_note">make_a_notation_note</a></li>
  <li><a href="#make_notation_notes_from_double_asts" id="toc-make_notation_notes_from_double_asts" class="nav-link" data-scroll-target="#make_notation_notes_from_double_asts">make_notation_notes_from_double_asts</a></li>
  <li><a href="#make_notation_notes_from_html_tags" id="toc-make_notation_notes_from_html_tags" class="nav-link" data-scroll-target="#make_notation_notes_from_html_tags">make_notation_notes_from_HTML_tags</a></li>
  </ul></li>
  <li><a href="#deleting-notation-notes" id="toc-deleting-notation-notes" class="nav-link" data-scroll-target="#deleting-notation-notes">Deleting notation notes</a>
  <ul class="collapse">
  <li><a href="#notation_note_has_no_verified_content" id="toc-notation_note_has_no_verified_content" class="nav-link" data-scroll-target="#notation_note_has_no_verified_content">notation_note_has_no_verified_content</a></li>
  <li><a href="#remove_bad_notation_notes" id="toc-remove_bad_notation_notes" class="nav-link" data-scroll-target="#remove_bad_notation_notes">remove_bad_notation_notes</a></li>
  <li><a href="#reorder_notation_note_links_in_see_also_section" id="toc-reorder_notation_note_links_in_see_also_section" class="nav-link" data-scroll-target="#reorder_notation_note_links_in_see_also_section">reorder_notation_note_links_in_see_also_section</a></li>
  </ul></li>
  <li><a href="#decomposition-of-notation" id="toc-decomposition-of-notation" class="nav-link" data-scroll-target="#decomposition-of-notation">Decomposition of notation</a>
  <ul class="collapse">
  <li><a href="#detect-notations-being-used-in-reference" id="toc-detect-notations-being-used-in-reference" class="nav-link" data-scroll-target="#detect-notations-being-used-in-reference">Detect notations being used in reference</a>
  <ul class="collapse">
  <li><a href="#regex-from-latex" id="toc-regex-from-latex" class="nav-link" data-scroll-target="#regex-from-latex">Regex from latex</a></li>
  <li><a href="#regex_from_latex" id="toc-regex_from_latex" class="nav-link" data-scroll-target="#regex_from_latex">regex_from_latex</a></li>
  <li><a href="#get-regex-from-notation-note" id="toc-get-regex-from-notation-note" class="nav-link" data-scroll-target="#get-regex-from-notation-note">Get regex from notation note</a></li>
  <li><a href="#regex_from_notation_note" id="toc-regex_from_notation_note" class="nav-link" data-scroll-target="#regex_from_notation_note">regex_from_notation_note</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hyunjongkimmath/trouver/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">markdown.obisidian.personal.notation</h1>
</div>

<div>
  <div class="description">
    Functions for making and managing notation cards
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<div id="cell-2" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shutil</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tempfile</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fastcore.test <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> trouver.helper.tests <span class="im">import</span> _test_directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="add-notation-notes-to-notation-index-note" class="level1">
<h1>Add notation notes to Notation index note</h1>
<hr>
<section id="notations_to_add_in_index" class="level3">
<h3 class="anchored" data-anchor-id="notations_to_add_in_index">notations_to_add_in_index</h3>
<blockquote class="blockquote">
<pre><code> notations_to_add_in_index (vault:os.PathLike, notation_index_note=&lt;class
                            'trouver.markdown.obsidian.vault.VaultNote'&gt;,
                            subdirectory:Optional[os.PathLike]=None, note:
                            Optional[trouver.markdown.obsidian.vault.Vault
                            Note]=None)</code></pre>
</blockquote>
<p>*Returns notations and links of notation notes to that ought to be added in the corresponding notation index, i.e.&nbsp;are in the reference folder but not linked by the notation index note.</p>
<p>If a notation note is not properly formatted, e.g.&nbsp;does not have a notation, then the notation and link for the notation note will not be included.</p>
<p><strong>Raises</strong> - ValueError - If <code>subdirectory</code> and <code>note</code> are both <code>None</code>.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>Path to the vault directory.</td>
</tr>
<tr class="even">
<td>notation_index_note</td>
<td>type</td>
<td>VaultNote</td>
<td>The notation index note in the vault where the notations should be added to.</td>
</tr>
<tr class="odd">
<td>subdirectory</td>
<td>Optional</td>
<td>None</td>
<td>Path to the subdirectory, relative to <code>vault</code>, to find the notation notes. Searches for all notation notes here and in subdirectories of this subdirectory. If <code>None</code>, then the <code>note parameter is used to determined the subdirectory. If</code>subdirectory<code>is the empty str, then all notation notes in the vault are searched. Defaults to</code>None<code>. | | note | Optional | None | The directory that this note is in determines the argument to</code>subdirectory<code>parameter if it is</code>None<code>. Defaults to</code>None<code>, in which case</code>subdirectory<code>must be specified. | | **Returns** | **list** |  | **Each tuple in the list consists of the notation str of the notation note (including surrounding dollar signs</code>$`) and the (nonembedded) ObsidianLink object for a link to the notation note.**</td>
</tr>
</tbody>
</table>
<p>We can identify notation notes which exist in a reference folder but are not linked in the notation index note for the reference:</p>
<div id="cell-6" class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: make test</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># VaultNote.clear_cache()</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>vault <span class="op">=</span> _test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>reference <span class="op">=</span> <span class="st">'number_theory_reference_1'</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>note <span class="op">=</span> VaultNote(vault, name<span class="op">=</span><span class="ss">f'_index_</span><span class="sc">{</span>reference<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>notation_index_note <span class="op">=</span> VaultNote(vault, name<span class="op">=</span><span class="ss">f'_notation_</span><span class="sc">{</span>reference<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>sample_output <span class="op">=</span> notations_to_add_in_index(vault, notation_index_note, note<span class="op">=</span>note)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> notation_str, link <span class="kw">in</span> sample_output:</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(notation_str, link.to_string())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$\mathbb{Z}/n\mathbb{Z}$ ![[number_theory_reference_1_notation_Z_nZ_ring_of_integers_modulo_n]]</code></pre>
</div>
</div>
<hr>
</section>
<section id="index_notation_note_formatted_entry" class="level3">
<h3 class="anchored" data-anchor-id="index_notation_note_formatted_entry">index_notation_note_formatted_entry</h3>
<blockquote class="blockquote">
<pre><code> index_notation_note_formatted_entry (notation_str:str,
                                      link:trouver.markdown.obsidian.links
                                      .ObsidianLink)</code></pre>
</blockquote>
<p>*Return a str formatted for an index notation note entry.</p>
<p>It is recommended to pass the outputs of <code>notations_to_add_in_index</code> to this function.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 38%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>notation_str</td>
<td>str</td>
<td>The str of the notation, including the surrounding dollar signs <code>$</code>.</td>
</tr>
<tr class="even">
<td>link</td>
<td>ObsidianLink</td>
<td>The embedded link to the notation note.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>str</strong></td>
<td></td>
</tr>
</tbody>
</table>
<p>The <code>index_notation_note_formatted_entry</code> function returns a formatted str to add in the index notation note:</p>
<div id="cell-9" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(index_notation_note_formatted_entry(sample_output[<span class="dv">0</span>][<span class="dv">0</span>], sample_output[<span class="dv">0</span>][<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>### $\mathbb{Z}/n\mathbb{Z}$
- ![[number_theory_reference_1_notation_Z_nZ_ring_of_integers_modulo_n]]</code></pre>
</div>
</div>
</section>
</section>
<section id="making-a-notation-note" class="level1">
<h1>Making a notation note</h1>
<hr>
<section id="make_a_notation_note" class="level3">
<h3 class="anchored" data-anchor-id="make_a_notation_note">make_a_notation_note</h3>
<blockquote class="blockquote">
<pre><code> make_a_notation_note
                       (main_note:trouver.markdown.obsidian.vault.VaultNot
                       e, vault:os.PathLike, notation:str,
                       description:str, notation_note_name:str,
                       destination:Optional[os.PathLike]=None,
                       overwrite:bool=False, add_to_main:bool=True,
                       latex_in_original:str='')</code></pre>
</blockquote>
<p>*Make a new notation note, optionally add a link to it in the <code>See Also</code> section of its main note, returns it.</p>
<p>The notation note is created in the same directory as the main note. The meta of the notation note has a <code>latex_in_original</code> section which lists the contents of the latex string in the main note from which the notation note comes from. This is so that the <code>make_notation_notes_from_double_asts</code> method can distinguish between notations for which a note has been created and for which a note has not been created.*</p>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>main_note</td>
<td>VaultNote</td>
<td></td>
<td>The note from which the notation originates.</td>
</tr>
<tr class="even">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>notation</td>
<td>str</td>
<td></td>
<td>The notation typed in latex. May or may not be surrounded by dollar signs</td>
</tr>
<tr class="even">
<td>description</td>
<td>str</td>
<td></td>
<td>The rest of the text describing notation.</td>
</tr>
<tr class="odd">
<td>notation_note_name</td>
<td>str</td>
<td></td>
<td>The name of the new notation note to be created.</td>
</tr>
<tr class="even">
<td>destination</td>
<td>Optional</td>
<td>None</td>
<td>The directory to create the new notation note in. If <code>None</code>, then creates the new notation note in the same place as the note specified by <code>note_name</code></td>
</tr>
<tr class="odd">
<td>overwrite</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, overwrite file of the same path as the new notation file to be written, if such a file exists. Otherwise, does nothing. Even if a link to the old notation note exists in <code>main_note</code>, a new link will still be added. Defaults to <code>False</code>.</td>
</tr>
<tr class="even">
<td>add_to_main</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, adds a link to the notation note in the <code>See Also</code> section of the main note.</td>
</tr>
<tr class="odd">
<td>latex_in_original</td>
<td>str</td>
<td></td>
<td>The full math mode string in <code>main_note</code> which introduces the notation. Defaults to the blank string <code>''</code>, in which case <code>notation</code> plays the role of <code>latex_in_original</code></td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>Optional</strong></td>
<td></td>
<td><strong>The newly created notation note. If no note is created, then returns <code>None</code>.</strong></td>
</tr>
</tbody>
</table>
<p>We can make a notation note with the <code>make_a_notation_note</code> method.</p>
<div id="cell-13" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'galois_group'</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    notation_note <span class="op">=</span> make_a_notation_note(</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        note, temp_vault, <span class="vs">r'\operatorname</span><span class="sc">{Gal}</span><span class="vs">(L/K)'</span>, <span class="st">''</span>, notation_note_name<span class="op">=</span><span class="st">'some_reference_name_notation_Gal_L_K_galois_group'</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(notation_note)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> mf.has_metadata()</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    meta <span class="op">=</span> mf.metadata()</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'detect_regex'</span> <span class="kw">in</span> meta</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'latex_in_original'</span> <span class="kw">in</span> meta</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(meta, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'</span><span class="ch">\\</span><span class="st">operatorname</span><span class="sc">{Gal}</span><span class="st">(L/K)'</span> <span class="kw">in</span> meta[<span class="st">'latex_in_original'</span>]</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    main_mf <span class="op">=</span> MarkdownFile.from_vault_note(note)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(main_mf)</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> notation_note.name <span class="kw">in</span> <span class="bu">str</span>(main_mf)  <span class="co"># A link has been created</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># os.startfile(temp_vault)</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># input()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'detect_regex': [], 'latex_in_original': ['\\operatorname{Gal}(L/K)'], 'tags': []} 

---
detect_regex: []
latex_in_original: ["\\operatorname{Gal}(L/K)"]
tags: []
---
$\operatorname{Gal}(L/K)$ [[galois_group|denotes]]  
</code></pre>
</div>
</div>
<p>Note that the surrounding dollar signs for LaTeX math mode can be included in the argument for <code>notation</code>:</p>
<div id="cell-15" class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'galois_group'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    notation_note <span class="op">=</span> make_a_notation_note(</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        note, temp_vault, <span class="vs">r'$\operatorname</span><span class="sc">{Gal}</span><span class="vs">(L/K)$'</span>, <span class="st">''</span>, notation_note_name<span class="op">=</span><span class="st">'some_reference_name_notation_Gal_L_K_galois_group'</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(notation_note)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> mf.has_metadata()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    meta <span class="op">=</span> mf.metadata()</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'detect_regex'</span> <span class="kw">in</span> meta</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'latex_in_original'</span> <span class="kw">in</span> meta</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(meta, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'</span><span class="ch">\\</span><span class="st">operatorname</span><span class="sc">{Gal}</span><span class="st">(L/K)'</span> <span class="kw">in</span> meta[<span class="st">'latex_in_original'</span>]</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    main_mf <span class="op">=</span> MarkdownFile.from_vault_note(note)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(main_mf)</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> notation_note.name <span class="kw">in</span> <span class="bu">str</span>(main_mf)  <span class="co"># A link has been created</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># os.startfile(temp_vault)</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># input()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'detect_regex': [], 'latex_in_original': ['\\operatorname{Gal}(L/K)'], 'tags': []} 

---
detect_regex: []
latex_in_original: ["\\operatorname{Gal}(L/K)"]
tags: []
---
$\operatorname{Gal}(L/K)$ [[galois_group|denotes]]  
</code></pre>
</div>
</div>
<p>Setting <code>add_to_main=False</code> only creates the notation note, but does not add a link to the notation note in the main note:</p>
<div id="cell-17" class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'galois_group'</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    notation_note <span class="op">=</span> make_a_notation_note(</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        note, temp_vault, <span class="vs">r'\operatorname</span><span class="sc">{Gal}</span><span class="vs">(L/K)'</span>, <span class="st">''</span>, notation_note_name<span class="op">=</span><span class="st">'_reference_notation_Gal_L_K_galois_group'</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        add_to_main<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    mf <span class="op">=</span> MarkdownFile.from_vault_note(notation_note)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> mf.has_metadata()</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    meta <span class="op">=</span> mf.metadata()</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'detect_regex'</span> <span class="kw">in</span> meta</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'latex_in_original'</span> <span class="kw">in</span> meta</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(meta, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="st">'</span><span class="ch">\\</span><span class="st">operatorname</span><span class="sc">{Gal}</span><span class="st">(L/K)'</span> <span class="kw">in</span> meta[<span class="st">'latex_in_original'</span>]</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mf, <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    main_mf <span class="op">=</span> MarkdownFile.from_vault_note(note)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(main_mf)</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> notation_note.name <span class="kw">not</span> <span class="kw">in</span> <span class="bu">str</span>(main_mf)  <span class="co"># No link has been created</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'detect_regex': [], 'latex_in_original': ['\\operatorname{Gal}(L/K)'], 'tags': []} 

---
detect_regex: []
latex_in_original: ["\\operatorname{Gal}(L/K)"]
tags: []
---
$\operatorname{Gal}(L/K)$ [[galois_group|denotes]]  
</code></pre>
</div>
</div>
<p>If the notation note of the specified name (<code>notation_note_name</code>) already exists, then by default no note is created and no link is added in the main note.</p>
<div id="cell-19" class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'spectrum_of_a_ring'</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    notation_note <span class="op">=</span> make_a_notation_note(</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        note, temp_vault, <span class="vs">r'\operatorname</span><span class="sc">{Spec}</span><span class="vs"> A'</span>, <span class="st">''</span>, notation_note_name<span class="op">=</span><span class="st">'some_reference_name_notation_Spec_A'</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> notation_note <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    main_mf <span class="op">=</span> MarkdownFile.from_vault_note(note)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print(main_mf)</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> main_mf.get_headings_and_text()[<span class="st">'# See Also'</span>].strip() <span class="op">==</span> <span class="st">''</span>  <span class="co"># No link has been added</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Setting <code>overwrite=True</code>, however, will overwrite the existing note. The method will also add a link to the (overwritten) notation note.</p>
<div id="cell-21" class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'spectrum_of_a_ring'</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    notation_note <span class="op">=</span> make_a_notation_note(</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        note, temp_vault, <span class="vs">r'\operatorname</span><span class="sc">{Spec}</span><span class="vs"> A'</span>, <span class="st">''</span>, notation_note_name<span class="op">=</span><span class="st">'some_reference_name_notation_Spec_A'</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        overwrite<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> notation_note <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    main_mf <span class="op">=</span> MarkdownFile.from_vault_note(note)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> notation_note.name <span class="kw">in</span> <span class="bu">str</span>(main_mf)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    notation_mf <span class="op">=</span> MarkdownFile.from_vault_note(notation_note) </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># notation_mf has been overwritten</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(notation_mf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>---
detect_regex: []
latex_in_original: ["\\operatorname{Spec} A"]
tags: []
---
$\operatorname{Spec} A$ [[spectrum_of_a_ring|denotes]] </code></pre>
</div>
</div>
<section id="make-notation-notes-from-double-asterisks-surrounding-notations" class="level4">
<h4 class="anchored" data-anchor-id="make-notation-notes-from-double-asterisks-surrounding-notations">Make notation notes from double asterisks surrounding notations</h4>
<hr>
</section>
</section>
<section id="make_notation_notes_from_double_asts" class="level3">
<h3 class="anchored" data-anchor-id="make_notation_notes_from_double_asts">make_notation_notes_from_double_asts</h3>
<blockquote class="blockquote">
<pre><code> make_notation_notes_from_double_asts
                                       (main_note:trouver.markdown.obsidia
                                       n.vault.VaultNote,
                                       vault:os.PathLike,
                                       reference_name:str, destination:Opt
                                       ional[os.PathLike]=None,
                                       overwrite:bool=False,
                                       add_to_main:bool=True)</code></pre>
</blockquote>
<p>*Make notation notes based on double asterisks surrounding LaTeX text in a standard information note.</p>
<p>Notations are deemed to be completely LaTeX text in info notes that are surrounded by double asterisks. In basicality, if such a LaTeX text (without surrounding dollars signs <code>$</code> or <code>$$</code>) is listed in the <code>latex_in_original</code> metadata section of some notation note in the same directory as the info note whose main note is the info note in question, then a new notation note for that LaTeX text is not created. However, if there are multiple instances of the same LaTeX text, then some notation notes may be created so that the number of times the LaTeX text appears in the info note is the no more than the number of times the LaTeX text appears in <code>latex_in_original</code> metadata sections of notation notes (in the same directory as the info note whose main note is the info note).</p>
<p>For example, if there is an info note with notations <code>A</code>, <code>A</code>, <code>'A'</code>, <code>'A'</code>, and <code>B</code> and if there is a single notation note in the same directory as the info note with two <code>'A'</code> and <code>'A'</code> entries in its <code>latex_in_original</code> metadata section, then three notation notes will be created: two with <code>'A'</code> listed in their <code>latex_in_original</code> sections, and one with <code>'B'</code> listed in its <code>latex_in_original</code> section.</p>
<p><strong>Raises</strong></p>
<ul>
<li>Warning
<ul>
<li>If there are notation notes whose main note is determined to be to <code>main_note</code> and whose notations “excessively cover” those in <code>main_note</code>, i.e.&nbsp;the notation notes have more notations than <code>main_note</code> introduces. The main note and the excessive notations are printed; the notations are printed instead of the notation notes because the same notation may span either multiple or single notation notes.*</li>
</ul></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>main_note</td>
<td>VaultNote</td>
<td></td>
<td>The standard information note from which the notations are marked with double asterisks</td>
</tr>
<tr class="even">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td>The name of the reference; the notation note’s name will start with <code>{reference_name}_notation_</code>.</td>
</tr>
<tr class="odd">
<td>reference_name</td>
<td>str</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>destination</td>
<td>Optional</td>
<td>None</td>
<td>The directory to create the new notation notes in. If <code>None</code>, then creates the new notation note in the same place as the note specified by <code>note_name</code></td>
</tr>
<tr class="odd">
<td>overwrite</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, overwrite file of the same path as the new notation file to be written, if such a file exists. Otherwise, does nothing. Defaults to <code>False</code>.</td>
</tr>
<tr class="even">
<td>add_to_main</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, adds links to the notation note in the <code>See Also</code> section of the main note.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>The list of VaultNotes that are newly created/modified.</strong></td>
</tr>
</tbody>
</table>
<p>As described in <code>markdown.obsidian.personal.machine_learning.notation_identification</code>, we surround a LaTeX math mode string with double asterisks <code>**</code> to indicate that the string introduces a notation.</p>
<p>The <code>make_notation_notes_from_double_asts</code> method parses LaTeX surrounded by double asterisks <code>**</code> in a standard information note and automatically creates notation notes for said LaTeX.</p>
<div id="cell-26" class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># os.startfile(temp_vault)</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># input()</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    info_note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_for_notation_notes_introducing_some_notations'</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    new_notes <span class="op">=</span> make_notation_notes_from_double_asts(info_note, temp_vault, <span class="st">'reference_for_notation_notes'</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(new_notes) <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> new_note <span class="kw">in</span> new_notes:</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">assert</span> new_note.exists()</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">assert</span> notation_note_is_linked_in_see_also_section(new_note, info_note)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># input()</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: add more tests - overwrite=True, add_to_main=False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the following example, we prompt <code>make_notation_notes_from_double_asts</code> to make notation notes for an info note with no notations - nothing is modified:</p>
<div id="cell-28" class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    info_note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_for_notation_notes_no_notations_introduced_here'</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    info_note_content_before <span class="op">=</span> info_note.text()</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    new_notes <span class="op">=</span> make_notation_notes_from_double_asts(info_note, temp_vault, <span class="st">'reference_for_notation_notes'</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    info_note_content_after <span class="op">=</span> info_note.text()</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(new_notes) <span class="op">==</span> <span class="dv">0</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> info_note_content_before <span class="op">==</span> info_note_content_after</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the following example, we prompt <code>make_notation_notes_from_double_asts</code> on the same info note twice - no new notation notes are created the second time.</p>
<div id="cell-30" class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_6'</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_6'</span>, temp_vault)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    info_note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'reference_for_notation_notes_introducing_some_notations'</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    make_notation_notes_from_double_asts(info_note, temp_vault, <span class="st">'milne_av'</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    new_notes <span class="op">=</span> make_notation_notes_from_double_asts(info_note, temp_vault, <span class="st">'milne_av'</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(new_notes) <span class="op">==</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the following example, an info note contains two of the same notation. One notation note for each of these notations is created, but with different names:</p>
<div id="cell-32" class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    info_note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'note_with_repeated_notation'</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    new_notes <span class="op">=</span> make_notation_notes_from_double_asts(info_note, temp_vault, <span class="st">'some_reference_name'</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(new_notes) <span class="op">==</span> <span class="dv">2</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(new_notes[<span class="dv">0</span>].name)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(new_notes[<span class="dv">1</span>].name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>some_reference_name_notation_Cl_K
some_reference_name_notation_Cl_K_1</code></pre>
</div>
</div>
<p>In the following example, there are notation notes with the info note as their main note, but some of the notations in these notation notes cover those in the info note “excessively” - in this case, only notation notes to uncovered notations are created, and warnings are raised to indicate which notations are covered excessively.</p>
<div id="cell-34" class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> tempfile.TemporaryDirectory(prefix<span class="op">=</span><span class="st">'tmp_dir_'</span>, <span class="bu">dir</span><span class="op">=</span>os.getcwd()) <span class="im">as</span> tmp_dir:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    tmp_dir <span class="op">=</span> Path(tmp_dir)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    temp_vault <span class="op">=</span> tmp_dir <span class="op">/</span> <span class="st">'test_vault_7'</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    shutil.copytree(_test_directory() <span class="op">/</span> <span class="st">'test_vault_7'</span>, temp_vault)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    info_note <span class="op">=</span> VaultNote(temp_vault, name<span class="op">=</span><span class="st">'note_with_some_excessive_notation_notes'</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    new_notes <span class="op">=</span> make_notation_notes_from_double_asts(info_note, temp_vault, <span class="st">'some_reference_name'</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(new_notes) <span class="op">==</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\hyunj\AppData\Local\Temp\ipykernel_23928\60597109.py:57: UserWarning: The following note has the following excess notations: note_with_some_excessive_notation_notes, \mathcal{B}(\mathbb{R}), \operatorname{Jac}(C)
  warnings.warn(</code></pre>
</div>
</div>
<div id="cell-35" class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: move notation notes to directory of main notes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="make-notation-notes-from-html-tags-surrounding-notations" class="level4">
<h4 class="anchored" data-anchor-id="make-notation-notes-from-html-tags-surrounding-notations">Make notation notes from HTML tags surrounding notations</h4>
<p>We ue HTML tags to mark definitions and notations, cf.&nbsp;<code>markdown.obsidian.personal.machine_learning.definition_and_notation_naming</code>. After marking notations using HTML tags, we can use the <code>make_notation_notes_from_HTML_tags</code> function below to create notation notes for each information note and link these newly created notation notes to the <code># See Also</code> section of the information note.</p>
<hr>
</section>
</section>
<section id="make_notation_notes_from_html_tags" class="level3">
<h3 class="anchored" data-anchor-id="make_notation_notes_from_html_tags">make_notation_notes_from_HTML_tags</h3>
<blockquote class="blockquote">
<pre><code> make_notation_notes_from_HTML_tags
                                     (main_note:trouver.markdown.obsidian.
                                     vault.VaultNote, vault:os.PathLike,
                                     reference_name:str, destination:Optio
                                     nal[os.PathLike]=None,
                                     overwrite:bool=False,
                                     add_to_main:bool=True)</code></pre>
</blockquote>
<p>*Make notation notes based on double asterisks surrounding LaTeX text in a standard information note.</p>
<p>Notations are determined by HTML tags with the <code>notation</code> attribute in them. For instance, <code>&lt;span notation=""&gt;$H^i$&lt;/span&gt;</code> Is deemed to be a notation and the text of the notation note starts with “<span class="math inline">\(H^i\)</span> [[main_note.name|denotes]]”.</p>
<p>The <code>notation</code> attribute can also be used to specify more precisely the notation multiple notation notes, e.g.&nbsp;the tag <code>&lt;span notation="h^i"&gt;$h^i := \dim_k H^i$&lt;/span&gt;</code> begets a notation note that starts with “<span class="math inline">\(h^i\)</span> [[main_note.name|denotes]]”.</p>
<p>The <code>notation</code> attribute can also be used to beget multiple notation notes from a single HTML tag by separation by double semicolons <code>;;</code>. e.g.&nbsp;the tag</p>
<p><code>&lt;span notation="IJ;;I+J"&gt;$$IJ = \langle ab: a \in I, b \in J \rangle, \quad I+J = \{a+b: a \in I, b \in J \}$&lt;/span&gt;</code></p>
<p>begets two notation notes, one which starts with “<span class="math inline">\(IJ\)</span> [[main_note.name|denotes]]” and the other which starts with “<span class="math inline">\(I+J\)</span> [[main_note.name|denotes]]”</p>
<p><strong>Raises</strong></p>
<ul>
<li><p>Warning</p>
<ul>
<li><p>If there are notation notes whose main note is determined to be to <code>main_note</code> and whose notations “excessively cover” those in <code>main_note</code>, i.e.&nbsp;the notation notes have more notations than <code>main_note</code> introduces. The main note and the excessive notations are printed; the notations are printed instead of the notation notes because the same notation may span either multiple or single notation notes.</p></li>
<li><p>If there is a notation HTML tag surrounding text that is not a pure latex string.*</p></li>
</ul></li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 6%">
<col style="width: 25%">
<col style="width: 34%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>main_note</td>
<td>VaultNote</td>
<td></td>
<td>The standard information note in which the notations are marked with HTML tags.</td>
</tr>
<tr class="even">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>reference_name</td>
<td>str</td>
<td></td>
<td>The name of the reference; the notation note’s name will start with <code>{reference_name}_notation_</code>.</td>
</tr>
<tr class="even">
<td>destination</td>
<td>Optional</td>
<td>None</td>
<td>The directory to create the new notation notes in. If <code>None</code>, then creates the new notation note in the same place as the note specified by <code>note_name</code></td>
</tr>
<tr class="odd">
<td>overwrite</td>
<td>bool</td>
<td>False</td>
<td>If <code>True</code>, overwrite file of the same path as the new notation file to be written, if such a file exists. Otherwise, does nothing. Defaults to <code>False</code>.</td>
</tr>
<tr class="even">
<td>add_to_main</td>
<td>bool</td>
<td>True</td>
<td>If <code>True</code>, adds links to the notation note in the <code>See Also</code> section of the main note.</td>
</tr>
<tr class="odd">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>The list of VaultNotes that are newly created/modified.</strong></td>
</tr>
</tbody>
</table>
<div id="cell-39" class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: test</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="deleting-notation-notes" class="level1">
<h1>Deleting notation notes</h1>
<p>Recall that we ue HTML tags to mark definitions and notations, cf.&nbsp;<code>markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification</code>. We also use <code>markdown.obsidian.personal.machine_learning.definition_and_notation_naming</code> to generate “names” to definition and notation tags. In particular, the “names” for the notation tags will be the notation str for the notation note, i.e.&nbsp;the notation note will be of the format</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>$&lt;notation str&gt;$ [<span class="co">[</span><span class="ot">link_to_information_note|denotes</span><span class="co">]</span>] ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In practice, we might 1. apply the functions in <code>markdown.obsidian.personal.machine_learning.tokenize.def_and_notat_token_classification</code>, 2. apply the functions in <code>markdown.obsidian.personal.machine_learning.definition_and_notation_naming</code>, and 3. apply the <code>make_notation_notes_from_HTML_tags</code> function to create notation notes. However, steps 1 and 2 are performed by ML models and hence can often be incorrect.</p>
<p>While it is inevitable to manually fix the errors generated in steps 1 and 2, it is a hassle to manually fix the corresponding notation notes — doing so is effectively trying to fix the same mistake twice. Instead, we implement the below functions to recognize notation notes that are autogenerated mistakenly and remove/replace them as necessary.</p>
<hr>
<section id="notation_note_has_no_verified_content" class="level3">
<h3 class="anchored" data-anchor-id="notation_note_has_no_verified_content">notation_note_has_no_verified_content</h3>
<blockquote class="blockquote">
<pre><code> notation_note_has_no_verified_content
                                        (notation_note:trouver.markdown.ob
                                        sidian.vault.VaultNote)</code></pre>
</blockquote>
<p><em>Return <code>True</code> if <code>notation_note</code> has no genuine content or if the content is determined to have been auto-generated. is determined to not have any genuine content or the content is auto-generated.</em></p>
<hr>
</section>
<section id="remove_bad_notation_notes" class="level3">
<h3 class="anchored" data-anchor-id="remove_bad_notation_notes">remove_bad_notation_notes</h3>
<blockquote class="blockquote">
<pre><code> remove_bad_notation_notes
                            (main_note:trouver.markdown.obsidian.vault.Vau
                            ltNote, vault:os.PathLike, links_in_vault:Opti
                            onal[dict[str,list[str]]]=None)</code></pre>
</blockquote>
<p>*Remove “bad” notation notes associated to <code>main_note</code></p>
<p>A “bad” notation note is one which satisfies all of the following:</p>
<ol type="1">
<li>is determined to essentially have no verified content (via the <code>notation_note_has_no_verified_content</code> function).</li>
<li>is not linked to anything in <code>vault</code> except for <code>main_note</code>. # 3. all entries of the <code>latex_in_original</code> field in the YAML frontmatter meta are not present in <code>main_note</code>*</li>
</ol>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>main_note</td>
<td>VaultNote</td>
<td></td>
<td>The standard information note in which the notations are marked with HTML tags and which notation notes are to be removed as appropriate.</td>
</tr>
<tr class="even">
<td>vault</td>
<td>PathLike</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>links_in_vault</td>
<td>Optional</td>
<td>None</td>
<td>An output to <a href="https://hyunjongkimmath.github.io/trouver/markdown.obsidian.vault_and_links.html#all_links_in_vault"><code>all_links_in_vault</code></a> with <code>backlinks</code> set to <code>True</code>. If <code>None</code>, then this is computed on-the-fly.</td>
</tr>
<tr class="even">
<td><strong>Returns</strong></td>
<td><strong>list</strong></td>
<td></td>
<td><strong>The list of VaultNotes that are newly created/modified.</strong></td>
</tr>
</tbody>
</table>
<div id="cell-46" class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co"> example</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="reorder_notation_note_links_in_see_also_section" class="level3">
<h3 class="anchored" data-anchor-id="reorder_notation_note_links_in_see_also_section">reorder_notation_note_links_in_see_also_section</h3>
<blockquote class="blockquote">
<pre><code> reorder_notation_note_links_in_see_also_section
                                                  (main_note:trouver.markd
                                                  own.obsidian.vault.Vault
                                                  Note, vault:os.PathLike)</code></pre>
</blockquote>
<p>*Reorder the bulleted links to the notation notes in the <code># See Also</code> section to match the order of the “latex in original” latex strings as they appear in <code>main_note</code>.</p>
<p>Assumes that the <code># See Also</code> section begins with bulleted links to notation notes and that all bulleted links to notation notes in <code>main_note</code> reside at the beginning of the <code># See Also</code> section.*</p>
<div id="cell-48" class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: example</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="decomposition-of-notation" class="level1">
<h1>Decomposition of notation</h1>
<div id="cell-52" class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># #| export</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># def decompose_notation_as_sequence(</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#         notation # latex styled. Assumed to not be surrounded with `'$'`.</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#         ) -&gt; list:</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     """</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     **Parameters**</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     - notation - str</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     **Returns**</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     - list of str</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     """</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     str_index = 0</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">#     decomposition = []</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     while str_index &lt; len(notation):</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">#         if notation[str_index] == '\\':</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co">#             j = 1</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="co">#             while (str_index + j &lt; len(notation)</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="co">#                     and notation[str_index + j] not in [' ', '\\', '{', '(']):</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="co">#                 j += 1</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co">#             latex_command = notation[str_index:str_index + j]</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="co">#             decomposition.append(latex_command)</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="co">#             str_index += j</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co">#         if str_index &lt; len(notation):</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="co">#             decomposition.append(notation[str_index])</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co">#         str_index += 1</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     return decomposition</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="co"># def compare_notations_for_sorting(</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="co">#         notation1, # latex styled. Assumed to not be surrounded with `'$'`.</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a><span class="co">#         notation2, # latex styled. Assumed to not be surrounded with `'$'`.</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a><span class="co">#         character_ordering_list</span></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a><span class="co">#         ) -&gt; int:</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a><span class="co">#     """</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a><span class="co">#     **Parameters**</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a><span class="co">#     - notation - str</span></span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a><span class="co">#         - latex styled. Assumed to not be covered with `'$'`.</span></span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a><span class="co">#     **Returns**</span></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a><span class="co">#     - int</span></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a><span class="co">#         - 1 if `notation2` is considered to come "earlier", -1 if</span></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a><span class="co">#         `notation1` is considered to come "earlier", and 0 otherwise.</span></span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a><span class="co">#     """</span></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a><span class="co">#     decomposition1 = decompose_notation_as_sequence(notation1)</span></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a><span class="co">#     decomposition2 = decompose_notation_as_sequence(notation2)</span></span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a><span class="co">#     index1, index2 = 0, 0</span></span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a><span class="co">#     while index1 &lt; len(decomposition1) and index2 &lt; len(decomposition2):</span></span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a><span class="co">#         return  #TODO</span></span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a><span class="co">#     if index1 &lt; len(decomposition1):</span></span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a><span class="co">#         return 1</span></span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a><span class="co">#     if index2 &lt; len(decomposition2):</span></span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a><span class="co">#         return -1</span></span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a><span class="co">#     return 0</span></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a><span class="co"># def _find_next_effective_character(decomposition, index):</span></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a><span class="co">#     while (index &lt; len(decomposition)</span></span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a><span class="co">#             and decomposition[index] in ['{', '}', '(', ')', '[', ']', r'\tilde',</span></span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a><span class="co">#                                          r'\hat', r'\bar', 'r\overline']):</span></span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a><span class="co">#         return</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-53" class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># decompose_notation_as_sequence(r'\tilde{K} (X)')</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># decompose_notation_as_sequence(r'P(X;*,A)')</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># decompose_notation_as_sequence(r'\operatorname{Spec} A')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="detect-notations-being-used-in-reference" class="level2">
<h2 class="anchored" data-anchor-id="detect-notations-being-used-in-reference">Detect notations being used in reference</h2>
<section id="regex-from-latex" class="level3">
<h3 class="anchored" data-anchor-id="regex-from-latex">Regex from latex</h3>
<hr>
</section>
<section id="regex_from_latex" class="level3">
<h3 class="anchored" data-anchor-id="regex_from_latex">regex_from_latex</h3>
<blockquote class="blockquote">
<pre><code> regex_from_latex (latex:str, replaceables:dict[str,set[str]]={'mathrm':
                   {'rm', 'operatorname', 'text', 'mathrm'},
                   'operatorname': {'rm', 'operatorname', 'text',
                   'mathrm'}, 'rm': {'rm', 'operatorname', 'text',
                   'mathrm'}, 'text': {'rm', 'operatorname', 'text',
                   'mathrm'}, 'mathbf': {'bf', 'mathbf'}, 'bf': {'bf',
                   'mathbf'}, 'mathit': {'mathit', 'it'}, 'it': {'mathit',
                   'it'}}, special_characters:list[str]=['.', '+', '*',
                   '?', '^', '$', '(', ')', '[', ']', '{', '}', '|',
                   '\\'])</code></pre>
</blockquote>
<p>*Returns regex to match latex math mode string which is essentially equivalent to a specified latex math mode string.</p>
<p>The outputs of this function may not work correctly. The regex pattern does not have to fully match equivalent string.</p>
<p><strong>Parameters</strong></p>
<ul>
<li>latex - str
<ul>
<li>The latex math mode string. Does not include math mode delimiters such as <code>$</code>, <code>$$</code>, <code>\[ \]</code> (although the characters <code>'\['</code> and <code>'\]'</code> can still be part of the string, e.g.&nbsp;for optional arguments of a macro/operator). Can include “placeholders” <code>r'\1'</code>, <code>r'\2'</code>, <code>r'\3'</code>, etc. to indicate substitutable/generics; the placeholders can be substituted with any string.</li>
</ul></li>
<li>replaceables - dict[str, set[str]]
<ul>
<li>latex strings/commands which are considered “interreplacable”</li>
</ul></li>
<li>special_characters - list[str]
<ul>
<li>characters to add a backslash <code>'\'</code> in front of for regex. Defaults to a list consisting of special characters in regex.*</li>
</ul></li>
</ul>
<div id="cell-57" class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="vs">r"""e"""</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(regex_from_latex(text, REPLACEABLES))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(?:[ \{\}]*?)e(?:[ \{\}]*?)(?:[ \{\}]*)</code></pre>
</div>
</div>
</section>
<section id="get-regex-from-notation-note" class="level3">
<h3 class="anchored" data-anchor-id="get-regex-from-notation-note">Get regex from notation note</h3>
<p>So far, I have just made notation notes in the form <code>'$math_mode_string$ denotes ...'</code>. I want to add frontmatter metadata in notation notes to indicate regex to detect the notation with placeholders.</p>
<hr>
</section>
<section id="regex_from_notation_note" class="level3">
<h3 class="anchored" data-anchor-id="regex_from_notation_note">regex_from_notation_note</h3>
<blockquote class="blockquote">
<pre><code> regex_from_notation_note (vault:os.PathLike,
                           note:trouver.markdown.obsidian.vault.VaultNote)</code></pre>
</blockquote>
<p>*Returns a regex str to detect the notation of the notation note.</p>
<p>The regex detection strings should be in a list labeled <code>detect_regex</code> in the yaml frontmatter. If multiple strings are in the list, then the regex will detect latex math mode strings roughly corresponding to any of them. If multiple strings are in the list, then they must be ordered “by priority”, with the higher priority regexes coming first. It is good to have these string in quotes <code>""</code> to make sure that yaml can load them safely. When doing so, make sure to escape characters, e.g.&nbsp;backslash should be typed as <code>\</code>, etc.</p>
<p>The strings in <code>detect_regex</code> can include placeholders, cf. <code>regex_from_latex</code>.</p>
<p><strong>Parameters</strong> - vault - PathLike - note - VaultNote</p>
<p><strong>Returns</strong> - str - Of the regex used to detect the notation. The regex does not need to fully match instances of the notation.*</p>
<div id="cell-61" class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: test</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hyunjongkimmath\.github\.io\/trouver");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hyunjongkimmath/trouver/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>